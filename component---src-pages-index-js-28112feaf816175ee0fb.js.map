{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/construct/index.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty/index.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck/_index.mjs","webpack:///./node_modules/react-map-gl/dist/esm/utils/globals.js","webpack:///./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray/index.js","webpack:///./node_modules/react-map-gl/dist/esm/mapbox/mapbox.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/core-js/modules/es.array.reduce-right.js","webpack:///./node_modules/@babel/runtime/helpers/get/index.js","webpack:///./node_modules/mapbox-gl/dist/mapbox-gl-csp-worker.js","webpack:///./node_modules/@babel/runtime/helpers/superPropBase/index.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit/index.js","webpack:///./node_modules/@babel/runtime/helpers/isNativeFunction/index.js","webpack:///./node_modules/core-js/modules/es.math.hypot.js","webpack:///./node_modules/@babel/runtime/helpers/extends/_index.mjs","webpack:///./node_modules/@babel/runtime/helpers/objectWithoutProperties/_index.mjs","webpack:///./node_modules/clsx/dist/clsx.m.js","webpack:///./node_modules/is-in-browser/dist/module.js","webpack:///./node_modules/tiny-warning/dist/tiny-warning.esm.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized/_index.mjs","webpack:///./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose/_index.mjs","webpack:///./node_modules/jss/dist/jss.esm.js","webpack:///./node_modules/@material-ui/styles/esm/mergeClasses/mergeClasses.js","webpack:///./node_modules/@material-ui/styles/esm/makeStyles/multiKeyStore.js","webpack:///./node_modules/@material-ui/styles/esm/useTheme/ThemeContext.js","webpack:///./node_modules/@material-ui/styles/esm/useTheme/useTheme.js","webpack:///./node_modules/@material-ui/styles/esm/ThemeProvider/nested.js","webpack:///./node_modules/@material-ui/styles/esm/createGenerateClassName/createGenerateClassName.js","webpack:///./node_modules/jss-plugin-rule-value-function/dist/jss-plugin-rule-value-function.esm.js","webpack:///./node_modules/jss-plugin-global/dist/jss-plugin-global.esm.js","webpack:///./node_modules/jss-plugin-nested/dist/jss-plugin-nested.esm.js","webpack:///./node_modules/hyphenate-style-name/index.js","webpack:///./node_modules/jss-plugin-camel-case/dist/jss-plugin-camel-case.esm.js","webpack:///./node_modules/jss-plugin-default-unit/dist/jss-plugin-default-unit.esm.js","webpack:///./node_modules/css-vendor/dist/css-vendor.esm.js","webpack:///./node_modules/jss-plugin-vendor-prefixer/dist/jss-plugin-vendor-prefixer.esm.js","webpack:///./node_modules/jss-plugin-props-sort/dist/jss-plugin-props-sort.esm.js","webpack:///./node_modules/@material-ui/styles/esm/jssPreset/jssPreset.js","webpack:///./node_modules/@material-ui/styles/esm/StylesProvider/StylesProvider.js","webpack:///./node_modules/@material-ui/styles/esm/makeStyles/indexCounter.js","webpack:///./node_modules/@babel/runtime/helpers/typeof/_index.mjs","webpack:///./node_modules/@material-ui/utils/esm/deepmerge.js","webpack:///./node_modules/@material-ui/styles/esm/getStylesCreator/getStylesCreator.js","webpack:///./node_modules/@material-ui/styles/esm/getStylesCreator/noopTheme.js","webpack:///./node_modules/@material-ui/styles/esm/makeStyles/makeStyles.js","webpack:///./node_modules/@material-ui/styles/esm/getThemeProps/getThemeProps.js","webpack:///./node_modules/@material-ui/styles/esm/withStyles/withStyles.js","webpack:///./node_modules/@material-ui/core/esm/styles/createBreakpoints.js","webpack:///./node_modules/@material-ui/core/esm/styles/createMixins.js","webpack:///./node_modules/@material-ui/utils/esm/formatMuiErrorMessage.js","webpack:///./node_modules/@material-ui/core/esm/colors/common.js","webpack:///./node_modules/@material-ui/core/esm/colors/grey.js","webpack:///./node_modules/@material-ui/core/esm/colors/indigo.js","webpack:///./node_modules/@material-ui/core/esm/colors/pink.js","webpack:///./node_modules/@material-ui/core/esm/colors/red.js","webpack:///./node_modules/@material-ui/core/esm/colors/orange.js","webpack:///./node_modules/@material-ui/core/esm/colors/blue.js","webpack:///./node_modules/@material-ui/core/esm/colors/green.js","webpack:///./node_modules/@material-ui/core/esm/styles/colorManipulator.js","webpack:///./node_modules/@material-ui/core/esm/styles/createPalette.js","webpack:///./node_modules/@material-ui/core/esm/styles/createTypography.js","webpack:///./node_modules/@material-ui/core/esm/styles/shadows.js","webpack:///./node_modules/@material-ui/core/esm/styles/shape.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray/_index.mjs","webpack:///./node_modules/@material-ui/system/esm/merge.js","webpack:///./node_modules/@material-ui/system/esm/breakpoints.js","webpack:///./node_modules/@material-ui/system/esm/spacing.js","webpack:///./node_modules/@material-ui/system/esm/memoize.js","webpack:///./node_modules/@material-ui/core/esm/styles/createSpacing.js","webpack:///./node_modules/@material-ui/core/esm/styles/transitions.js","webpack:///./node_modules/@material-ui/core/esm/styles/zIndex.js","webpack:///./node_modules/@material-ui/core/esm/styles/createMuiTheme.js","webpack:///./node_modules/@material-ui/core/esm/styles/defaultTheme.js","webpack:///./node_modules/@material-ui/core/esm/styles/withStyles.js","webpack:///./node_modules/@material-ui/core/esm/List/ListContext.js","webpack:///./node_modules/@material-ui/core/esm/List/List.js","webpack:///./node_modules/@material-ui/core/esm/utils/setRef.js","webpack:///./node_modules/@material-ui/core/esm/utils/useForkRef.js","webpack:///./node_modules/@material-ui/core/esm/utils/useEventCallback.js","webpack:///./node_modules/@material-ui/core/esm/utils/useIsFocusVisible.js","webpack:///./node_modules/react-transition-group/esm/TransitionGroupContext.js","webpack:///./node_modules/react-transition-group/esm/utils/ChildMapping.js","webpack:///./node_modules/react-transition-group/esm/TransitionGroup.js","webpack:///./node_modules/@material-ui/core/esm/ButtonBase/Ripple.js","webpack:///./node_modules/@material-ui/core/esm/ButtonBase/TouchRipple.js","webpack:///./node_modules/@material-ui/core/esm/ButtonBase/ButtonBase.js","webpack:///./node_modules/@material-ui/core/esm/ListItem/ListItem.js","webpack:///./node_modules/@material-ui/core/esm/utils/isMuiElement.js","webpack:///./node_modules/@material-ui/core/esm/Paper/Paper.js","webpack:///./node_modules/@material-ui/core/esm/utils/capitalize.js","webpack:///./node_modules/@material-ui/core/esm/Button/Button.js","webpack:///./node_modules/gl-matrix/esm/common.js","webpack:///./node_modules/gl-matrix/esm/vec4.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js","webpack:///./node_modules/gl-matrix/esm/mat4.js","webpack:///./node_modules/gl-matrix/esm/vec2.js","webpack:///./node_modules/gl-matrix/esm/vec3.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/assert.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/fit-bounds.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-viewport.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/fly-to-viewport.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/math-utils.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/assert.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/map-state.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/normalize-viewport-props.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/map-constraints.js","webpack:///./node_modules/react-map-gl/dist/esm/components/map-context.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js","webpack:///./node_modules/react-map-gl/dist/esm/components/static-map.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js","webpack:///./node_modules/@babel/runtime/helpers/inherits/_index.mjs","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn/_index.mjs","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf/_index.mjs","webpack:///./node_modules/react-map-gl/dist/esm/utils/transition/transition-utils.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/transition/viewport-fly-to-interpolator.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/transition/linear-interpolator.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/transition-manager.js","webpack:///./node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js","webpack:///./node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js","webpack:///./node_modules/mjolnir.js/dist/esm/constants.js","webpack:///./node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js","webpack:///./node_modules/mjolnir.js/dist/esm/inputs/move-input.js","webpack:///./node_modules/mjolnir.js/dist/esm/inputs/key-input.js","webpack:///./node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js","webpack:///./node_modules/mjolnir.js/dist/esm/utils/event-utils.js","webpack:///./node_modules/mjolnir.js/dist/esm/utils/event-registrar.js","webpack:///./node_modules/mjolnir.js/dist/esm/event-manager.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/map-controller.js","webpack:///./node_modules/react-map-gl/dist/esm/components/interactive-map.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/deep-equal.js","webpack:///./node_modules/react-map-gl/dist/esm/components/layer.js","webpack:///./node_modules/react-map-gl/dist/esm/components/use-map-control.js","webpack:///./node_modules/react-map-gl/dist/esm/components/base-control.js","webpack:///./node_modules/react-map-gl/dist/esm/components/draggable-control.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/crisp-pixel.js","webpack:///./node_modules/react-map-gl/dist/esm/components/marker.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/dynamic-position.js","webpack:///./node_modules/react-map-gl/dist/esm/components/popup.js","webpack:///./node_modules/react-map-gl/dist/esm/components/attribution-control.js","webpack:///./node_modules/react-map-gl/dist/esm/components/fullscreen-control.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/geolocate-utils.js","webpack:///./node_modules/react-map-gl/dist/esm/components/geolocate-control.js","webpack:///./node_modules/react-map-gl/dist/esm/components/navigation-control.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/version.js","webpack:///./node_modules/react-map-gl/dist/esm/components/scale-control.js","webpack:///./node_modules/react-map-gl/dist/esm/overlays/canvas-overlay.js","webpack:///./node_modules/react-map-gl/dist/esm/overlays/html-overlay.js","webpack:///./node_modules/react-map-gl/dist/esm/overlays/svg-overlay.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/set-rtl-text-plugin.js","webpack:///./src/components/map/pins.js","webpack:///./src/components/map/city-info.js","webpack:///./src/components/map/app.js","webpack:///./src/pages/index.js","webpack:///./node_modules/react-is/index.js","webpack:///./node_modules/mjolnir.js/dist/esm/utils/globals.js","webpack:///./node_modules/@babel/runtime/helpers/createClass/index.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn/index.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray/index.js","webpack:///./node_modules/@babel/runtime/helpers/wrapNativeSuper/index.js","webpack:///./node_modules/@babel/runtime/helpers/inherits/index.js","webpack:///./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest/index.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/style-utils.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles/index.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck/index.js","webpack:///./node_modules/@babel/runtime/helpers/toArray/index.js","webpack:///./node_modules/react-is/cjs/react-is.production.min.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty/_index.mjs","webpack:///./node_modules/@babel/runtime/helpers/isNativeReflectConstruct/index.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf/index.js","webpack:///./node_modules/@babel/runtime/helpers/createClass/_index.mjs","webpack:///./node_modules/hammerjs/hammer.js"],"names":["setPrototypeOf","isNativeReflectConstruct","_construct","Parent","args","Class","module","exports","Reflect","construct","__esModule","a","push","apply","instance","Function","bind","prototype","arguments","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","Constructor","TypeError","window","global","document_","document","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","type","KNOWN_STATICS","name","length","caller","callee","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","render","Memo","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","keys","concat","targetStatics","sourceStatics","i","descriptor","e","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arr","container","gl","mapboxApiAccessToken","mapboxApiUrl","attributionControl","preserveDrawingBuffer","reuseMaps","transformRequest","mapOptions","mapStyle","preventStyleDiffing","visible","asyncRender","onLoad","onError","width","height","viewState","longitude","latitude","zoom","bearing","pitch","altitude","body","accessToken","location","match","search","process","MapboxAccessToken","REACT_APP_MAPBOX_ACCESS_TOKEN","getAccessToken","event","console","error","checkPropTypes","props","undefined","debug","Mapbox","_this","this","target","_map","mapboxgl","Error","initialized","_checkStyleSheet","version","_initialize","_destroy","_update","map","style","_frame","cancel","_render","savedMap","oldContainer","getContainer","newContainer","classList","add","childNodes","appendChild","_container","setStyle","diff","isStyleLoaded","_fireLoadEvent","once","_reuse","getContext","HTMLCanvasElement","center","maxZoom","interactive","trackResize","Map","assign","on","remove","off","_this2","baseApiUrl","_create","get","canvas","getCanvas","outline","_updateMapViewport","_updateMapSize","oldProps","newProps","viewportChanged","sizeChanged","_updateMapStyle","redraw","resize","oldViewState","_getViewState","newViewState","jumpTo","_viewStateToMapboxProps","transform","_ref","_ref$pitch","_ref$bearing","_ref$altitude","mapboxVersion","testElement","createElement","className","display","isCssLoaded","getComputedStyle","position","link","setAttribute","head","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","call","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","Array","title","browser","env","argv","versions","addListener","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","$","$reduceRight","right","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","proto","forced","reduceRight","callbackfn","superPropBase","_get","property","receiver","base","desc","Worker_fn","Worker","object","hasOwnProperty","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","fn","toString","indexOf","$hypot","Math","hypot","abs","sqrt","stat","Infinity","NaN","value1","value2","arg","div","sum","aLen","larg","_extends","source","_objectWithoutProperties","excluded","objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","toVal","mix","k","y","str","isArray","tmp","x","_typeof","constructor","nodeType","_assertThisInitialized","self","ReferenceError","_objectWithoutPropertiesLoose","sourceKeys","plainObjectConstrurctor","cloneStyle","newStyle","createRule","decl","options","jss","declCopy","rule","plugins","onCreateRule","join","by","result","toCssValue","ignoreImportant","cssValue","indentStr","indent","index","toCss","selector","_options$indent","fallbacks","fallback","prop","_prop","_value","_prop2","_value2","allowEmpty","escapeRegex","nativeEscape","CSS","escape","replace","BaseStyleRule","isProcessed","renderer","renderable","sheet","Renderer","force","newValue","onChangeValue","isEmpty","isDefined","removeProperty","setProperty","attached","_BaseStyleRule","StyleRule","selectorText","id","scoped","generateId","_proto2","applyTo","json","toJSON","opts","set","setSelector","replaceRule","pluginStyleRule","parent","defaultToStringOptions","children","atRegExp","ConditionalRule","styles","at","query","rules","atMatch","_proto","getRule","addRule","onProcessRule","keyRegExp","pluginConditionalRule","test","defaultToStringOptions$1","nameRegExp","KeyframesRule","frames","nameMatch","keyRegExp$1","refRegExp","findReferencedKeyframe","val","keyframes","refKeyframe","onProcessStyle","KeyframeRule","_len","_key","pluginKeyframeRule","FontFaceRule","keyRegExp$2","pluginFontFaceRule","ViewportRule","pluginViewportRule","SimpleRule","keysMap","defaultUpdateOptions","forceUpdateOptions","RuleList","raw","counter","classes","ruleOptions","_this$options","register","splice","unregister","slice","forEach","update","data","updateOne","_this$options2","styleRule","onUpdate","nextValue","_nextValue","_prevValue","css","StyleSheet","deployed","attach","deploy","detach","insertRule","addRules","added","deleteRule","_this$rules","PluginsRegistry","internal","external","registry","onProcessSheet","processedValue","use","newPlugin","reduce","plugin","SheetsRegistry","reset","_temp","globalThis","ns","moduleId","createGenerateId","ruleCounter","jssId","prefix","classNamePrefix","String","minify","memoize","getPropertyValue","cssRule","attributeStyleMap","delete","getHead","querySelector","findPrevNode","registry$1","insertionPoint","findHigherSheet","element","parentNode","node","findHighestSheet","nextSibling","comment","text","nodeValue","trim","findCommentNode","getNonce","getAttribute","_insertRule","appendRule","cssRules","getValidRuleInsertionIndex","maxIndex","DomRenderer","hasInsertedRules","el","media","meta","textContent","nonce","nextNode","insertBefore","insertionPointElement","insertStyle","Boolean","removeChild","insertRules","nativeParent","latestNativeParent","_insertionIndex","refCssRule","ruleStr","insertionIndex","nativeRule","getRules","instanceCounter","Jss","setup","createStyleSheet","removeStyleSheet","hasCSSTOMSupport","mergeClasses","baseClasses","newClasses","Component","nextClasses","cache","key1","key2","subCache","createContext","useTheme","useContext","for","now","Date","fnValuesNs","fnRuleNs","fnValues","fnRule","GlobalContainerRule","GlobalPrefixedRule","substr","separatorRegExp","addScope","scope","parts","split","handleNestedGlobalContainerRule","handlePrefixedGlobalRule","parentRegExp","getReplaceRef","replaceParentRefs","nestedProp","parentProp","parentSelectors","nestedSelectors","j","nested","getOptions","prevOptions","nestingLevel","replaceRef","isNested","isNestedConditional","uppercasePattern","msPattern","toHyphenLower","toLowerCase","hName","convertCase","converted","hyphenatedProp","px","ms","percent","addCamelCasedVersion","regExp","toUpperCase","newObj","units","border","margin","padding","bottom","left","top","inset","motion","perspective","size","gap","grid","iterate","innerProp","_innerProp","Number","isNaN","unit","camelCasedOptions","js","vendor","isTouch","documentElement","jsCssMap","Moz","O","Webkit","appearence","noPrefill","supportedProperty","colorAdjust","toUpper","c","camelize","pascalize","mask","textOrientation","transition","writingMode","userSelect","breakPropsOld","inlineLogicalOld","newProp","unprefixed","prefixed","pascalized","scrollSnap","substring","overscrollBehavior","propMap","order","flex2012","propMap$1","flex","propKeys","prefixCss","p","multiple","propertyDetectors","filter","computed","key$1","el$1","cache$1","transitionProperties","transPropsRegExp","prefixTransitionCallback","p1","p2","prefixedValue","supportedValue","parseInt","cacheKey","prefixStyle","changeProp","supportedProp","changeValue","supportedValue$1","atRule","sort","prop0","prop1","jssPreset","defaultOptions","disableGeneration","generateClassName","_options$disableGloba","disableGlobal","_options$productionPr","productionPrefix","_options$seed","seed","seedPrefix","getNextCounterId","styleSheet","theme","createGenerateClassName","sheetsCache","sheetsManager","sheetsRegistry","StylesContext","indexCounter","increment","isPlainObject","item","deepmerge","clone","output","getStylesCreator","stylesOrCreator","themingEnabled","create","overrides","stylesWithOverrides","getClasses","state","stylesOptions","cacheClasses","lastProp","lastJSS","generate","_ref2","stylesCreator","sheetManager","refs","staticSheet","dynamicStyles","flip","direction","serverGenerateClassName","getDynamicStyles","to","extracted","dynamicSheet","_ref3","_ref4","useSynchronousEffect","func","values","useRef","currentKey","useMemo","current","useEffect","makeStyles","classNamePrefixOption","_options$defaultTheme","defaultTheme","stylesOptions2","useStyles","shouldUpdate","getThemeProps","params","propName","_options$withTheme","withTheme","WithStyles","forwardRef","ref","innerRef","other","more","createBreakpoints","breakpoints","_breakpoints$values","xs","sm","md","lg","xl","_breakpoints$unit","_breakpoints$step","step","up","between","start","end","endIndex","down","upperbound","only","createMixins","spacing","_toolbar","gutters","paddingLeft","paddingRight","toolbar","minHeight","formatMuiErrorMessage","code","url","encodeURIComponent","black","white","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","clamp","min","max","decomposeColor","color","charAt","re","RegExp","colors","n","round","hexToRgb","parseFloat","recomposeColor","getLuminance","rgb","h","s","l","f","hslToRgb","pow","toFixed","fade","darken","coefficient","lighten","light","primary","secondary","disabled","hint","divider","background","paper","default","action","active","hover","hoverOpacity","selected","selectedOpacity","disabledBackground","disabledOpacity","focus","focusOpacity","activatedOpacity","dark","icon","addLightOrDark","intent","shade","tonalOffset","tonalOffsetLight","tonalOffsetDark","main","createPalette","palette","_palette$primary","_palette$secondary","_palette$error","_palette$warning","warning","_palette$info","info","_palette$success","success","_palette$type","_palette$contrastThre","contrastThreshold","_palette$tonalOffset","getContrastText","foreground","lumA","lumB","getContrastRatio","augmentColor","mainShade","lightShade","darkShade","JSON","stringify","contrastText","types","common","grey","caseAllCaps","textTransform","createTypography","typography","_ref$fontFamily","fontFamily","_ref$fontSize","fontSize","_ref$fontWeightLight","fontWeightLight","_ref$fontWeightRegula","fontWeightRegular","_ref$fontWeightMedium","fontWeightMedium","_ref$fontWeightBold","fontWeightBold","_ref$htmlFontSize","htmlFontSize","allVariants","pxToRem2","pxToRem","coef","buildVariant","fontWeight","lineHeight","letterSpacing","casing","variants","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","button","caption","overline","createShadow","borderRadius","_slicedToArray","acc","defaultBreakpoints","properties","m","directions","t","r","b","aliases","marginX","marginY","paddingX","paddingY","getCssProperties","_prop$split2","spacingKeys","createUnarySpacing","themeSpacing","getStyleFromPropValue","cssProperties","transformer","propValue","cssProperty","transformed","getValue","styleFromPropValue","themeBreakpoints","_themeBreakpoints","breakpoint","handleBreakpoints","filterProps","createSpacing","spacingInput","mui","argument","easeInOut","easeOut","easeIn","sharp","shortest","shorter","short","standard","complex","enteringScreen","leavingScreen","formatMs","milliseconds","easing","duration","_options$duration","durationOption","_options$easing","easingOption","_options$delay","delay","animatedProp","getAutoHeightDuration","constant","mobileStepper","speedDial","appBar","drawer","modal","snackbar","tooltip","_options$breakpoints","breakpointsInput","_options$mixins","mixinsInput","_options$palette","paletteInput","_options$typography","typographyInput","muiTheme","shadows","shape","transitions","zIndex","_props$component","_props$dense","dense","_props$disablePadding","disablePadding","subheader","context","Provider","root","listStyle","paddingTop","paddingBottom","setRef","useForkRef","refA","refB","refValue","useEnhancedEffect","useEventCallback","hadKeyboardEvent","hadFocusVisibleRecently","hadFocusVisibleRecentlyTimeout","inputTypesWhitelist","tel","email","password","number","date","month","week","time","datetime","metaKey","altKey","ctrlKey","handlePointerDown","handleVisibilityChange","visibilityState","tagName","matches","readOnly","isContentEditable","handleBlurVisible","useIsFocusVisible","isFocusVisible","onBlurVisible","doc","ownerDocument","addEventListener","getChildMapping","mapFn","child","mapper","getProp","getNextChildMapping","nextProps","prevChildMapping","onExited","nextChildMapping","prev","getValueForKey","nextKeysPending","pendingKeys","prevKey","childMapping","nextKey","pendingNextKey","mergeChildMappings","hasPrev","hasNext","prevChild","isLeaving","in","exit","enter","_React$Component","TransitionGroup","handleExited","contextValue","isMounting","firstRender","componentDidMount","mounted","setState","componentWillUnmount","appear","currentChildMapping","_this$props","childFactory","TransitionGroupContext","_props$pulsate","pulsate","rippleX","rippleY","rippleSize","inProp","_props$onExited","_React$useState","leaving","setLeaving","rippleClassName","ripple","rippleVisible","ripplePulsate","rippleStyles","childClassName","childLeaving","childPulsate","timeoutId","_props$center","centerProp","ripples","setRipples","rippleCallback","ignoringMouseDown","startTimer","startTimerCommit","startCommit","cb","oldRipples","_options$pulsate","_options$center","_options$fakeElement","fakeElement","rect","getBoundingClientRect","clientX","clientY","touches","sizeX","clientWidth","sizeY","clientHeight","stop","persist","overflow","pointerEvents","opacity","animation","animationDuration","backgroundColor","buttonRefProp","buttonRef","_props$centerRipple","centerRipple","_props$disabled","_props$disableRipple","disableRipple","_props$disableTouchRi","disableTouchRipple","_props$focusRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","_props$tabIndex","tabIndex","TouchRippleProps","_props$type","rippleRef","focusVisible","setFocusVisible","_useIsFocusVisible","focusVisibleRef","useRippleHandler","rippleAction","eventCallback","skipRippleAction","handleMouseDown","handleDragLeave","handleMouseUp","handleMouseLeave","preventDefault","handleTouchStart","handleTouchEnd","handleTouchMove","handleBlur","handleFocus","currentTarget","isNonNativeButton","href","keydownRef","handleKeyDown","handleKeyUp","defaultPrevented","ComponentProp","buttonProps","role","handleUserRef","handleOwnRef","handleRef","_React$useState2","mountedState","setMountedState","enableTouchRipple","alignItems","justifyContent","WebkitTapHighlightColor","cursor","verticalAlign","textDecoration","borderStyle","_props$alignItems","_props$autoFocus","autoFocus","_props$button","childrenProp","componentProp","_props$ContainerCompo","ContainerComponent","_props$ContainerProps","ContainerProps","ContainerClassName","_props$disableGutters","disableGutters","_props$divider","_props$selected","childContext","listItemRef","muiNames","toArray","hasSecondaryAction","muiName","componentProps","alignItemsFlexStart","secondaryAction","pop","boxSizing","textAlign","borderBottom","backgroundClip","_props$square","square","_props$elevation","elevation","_props$variant","variant","outlined","rounded","elevations","shadow","boxShadow","capitalize","string","_props$color","_props$disableElevati","disableElevation","_props$disableFocusRi","disableFocusRipple","endIconProp","endIcon","_props$fullWidth","fullWidth","_props$size","startIconProp","startIcon","colorInherit","label","minWidth","textPrimary","textSecondary","outlinedPrimary","outlinedSecondary","contained","containedPrimary","containedSecondary","borderColor","textSizeSmall","textSizeLarge","outlinedSizeSmall","outlinedSizeLarge","containedSizeSmall","containedSizeLarge","sizeSmall","sizeLarge","marginRight","marginLeft","iconSizeSmall","iconSizeMedium","iconSizeLarge","EPSILON","ARRAY_TYPE","Float32Array","random","PI","out","vec","transformVector","matrix","vector","z","w","mod","divisor","modulus","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","v","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","ax","ay","assert","condition","message","PI_4","DEGREES_TO_RADIANS","RADIANS_TO_DEGREES","zoomToScale","scaleToZoom","scale","log2","lngLatToWorld","lng","lat","isFinite","phi2","log","tan","worldToLngLat","lambda2","atan","exp","getDistanceScales","_ref6","_ref6$highPrecision","highPrecision","latCosine","cos","unitsPerDegreeY","altUnitsPerMeter","unitsPerMeter","metersPerUnit","unitsPerDegree","degreesPerUnit","latCosine2","unitsPerDegreeY2","altUnitsPerDegree2","altUnitsPerMeter2","unitsPerDegree2","unitsPerMeter2","getViewMatrix","_ref7","_ref7$center","vm","rad","sin","getProjectionMatrix","_ref9","_getProjectionParamet","_ref8","_ref8$altitude","_ref8$pitch","_ref8$nearZMultiplier","nearZMultiplier","_ref8$farZMultiplier","farZMultiplier","pitchRadians","halfFov","topHalfSurfaceDistance","fov","aspect","focalDistance","near","far","getProjectionParameters","fovy","nf","worldToPixels","xyz","pixelProjectionMatrix","_xyz2","_xyz2$","pixelsToWorld","pixelUnprojectionMatrix","targetZ","_xyz3","coord","coord0","coord1","z0","z1","bounds","_ref$minExtent","minExtent","_ref$maxZoom","_ref$padding","_ref$offset","offset","_bounds","_bounds$","west","south","_bounds$2","east","north","viewport","nw","project","se","targetSize","scaleX","scaleY","offsetX","offsetY","centerLngLat","unproject","topLeft","topRight","unprojectOps","bottomLeft","bottomRight","angleToGround","unprojectOnFarPlane","distanceScales","WebMercatorViewport","_ref$latitude","_ref$longitude","_ref$zoom","_ref$nearZMultiplier","_ref$farZMultiplier","projectionMatrix","viewMatrix","_initMatrices","equals","projectPosition","unprojectPosition","freeze","vpm","viewProjectionMatrix","mInverse","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","det","_ref2$topLeft","worldPosition","_coord","y2","_ref3$topLeft","_ref3$targetZ","_xyz","targetZWorld","_this$unprojectPositi","_this$unprojectPositi2","X","Y","Z","_lngLatToWorld2","_worldToLngLat2","lngLat","xy","fromLocation","pos","translate","_ref5","getMapCenterByLngLatPosition","_fitBounds2","corners","getBoundingRegion","_createForOfIteratorHelper","o","allowArrayLike","it","minLen","_arrayLikeToArray","from","_unsupportedIterableToArray","F","normalCompletion","didErr","_e2","arr2","VIEWPORT_TRANSITION_PROPS","DEFAULT_OPTS","curve","speed","getFlyToTransitionParams","startProps","endProps","rho","startZoom","startCenter","startScale","endZoom","endCenter","startCenterXY","endCenterXY","uDelta","w0","w1","u1","_u1","rho2","r0","r1","S","ArrayBuffer","isView","ai","ownKeys","enumerableOnly","symbols","sym","_objectSpread","getOwnPropertyDescriptors","defineProperties","MAPBOX_LIMITS","minZoom","minPitch","maxPitch","DEFAULT_STATE","MapState","_ref$minZoom","_ref$maxPitch","_ref$minPitch","transitionDuration","transitionEasing","transitionInterpolator","transitionInterruption","startPanLngLat","startZoomLngLat","startRotatePos","startBearing","startPitch","_viewportProps","_applyConstraints","_state","_getUpdatedMapState","_unproject","startPos","_this$_calculateNewLn2","_calculateNewLngLat","newRotation","_ref5$deltaAngleX","deltaAngleX","_ref5$deltaAngleY","deltaAngleY","_this$_state","_calculateNewPitchAndBearing","_getRotationParams","_this$_state2","_calculateNewZoom","_zoomedViewport$getMa2","flatViewport","topY","bottomY","shiftY","normalizeViewportProps","_this$_viewportProps","_ref10","deltaScaleX","deltaScaleY","_this$_viewportProps2","deltaX","deltaY","centerY","startY","_this$_viewportProps3","decapitalize","MapContext","onViewportChange","onViewStateChange","eventManager","MapContextProvider","_useState2","setMap","NO_TOKEN_WARNING","CONTAINER_STYLE","disableTokenWarning","onResize","visibilityConstraints","NoTokenWarning","preventScroll","scrollTo","StaticMap","accessTokenValid","setTokenState","_useState4","setSize","mapboxRef","mapDivRef","containerRef","supported","mapbox","evt","status","getMap","resizeObserver","entries","contentRect","_entries$0$contentRec","_width","_height","observe","finalize","disconnect","setProps","queryRenderedFeatures","geometry","getRefHandles","overlays","onScroll","mapContainerStyle","constraints","constraintName","checkVisibilityConstraints","visibility","TransitionInterpolator","currentProps","_step","_iterator","propNames","_inherits","subClass","superClass","_possibleConstructorReturn","assertThisInitialized","_getPrototypeOf","__proto__","WRAPPED_ANGULAR_PROPS","isValid","getEndValueByShortestPath","startValue","endValue","isWrappedAngularProp","_createSuper","Derived","hasNativeReflectConstruct","sham","Proxy","_isNativeReflectConstruct","Super","NewTarget","REQUIRED_PROPS","LINEARLY_INTERPOLATED_PROPS","_TransitionInterpolat","ViewportFlyToInterpolator","_super","startViewportProps","endViewportProps","_step2","_iterator2","_startValue","_endValue","_step3","_getFlyToTransitionPa","cosh","u","tanh","sinh","scaleIncrement","newZoom","newCenterWorld","newCenter","flyToViewport","_iterator3","_opts","screenSpeed","maxDuration","_getFlyToTransitionPa2","getFlyToDuration","LinearInterpolator","transitionProps","around","aroundLngLat","_WebMercatorViewport$2","TRANSITION_EVENTS","DEFAULT_PROPS","onTransitionStart","onTransitionInterrupt","onTransitionEnd","onStateChange","TransitionManager","_animationFrame","requestAnimationFrame","_onTransitionFrame","_updateViewport","getTime","propsInTransition","_shouldIgnoreViewportChange","_isTransitionEnabled","_isTransitionInProgress","interruption","currentTime","x0","startTime","y0","cropEasingFunction","_triggerTransition","_endTransition","interpolator","arePropsEqual","_isUpdateDueToCurrentTransition","cancelAnimationFrame","getDuration","initialProps","initializeProps","interactionState","inTransition","isZooming","isPanning","isRotating","_this$state","shouldEnd","interpolateProps","mapState","getViewportProps","PointerEventInput","oldHandler","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","handler","ev","store","predict","some","pointerId","MouseInput","eventType","pressed","which","callback","manager","pointers","changedPointers","pointerType","srcEvent","Manager","RECOGNIZERS","Pan","threshold","enable","Rotate","Pinch","Swipe","Press","Tap","taps","RECOGNIZER_COMPATIBLE_MAP","tripan","rotate","pinch","pan","doubletap","anytap","RECOGNIZER_FALLBACK_MAP","BASIC_EVENT_ALIASES","pointerdown","pointermove","pointerup","touchstart","touchmove","touchend","INPUT_EVENT_TYPES","EVENT_RECOGNIZER_MAP","tap","press","pinchin","pinchout","pinchstart","pinchmove","pinchend","pinchcancel","rotatestart","rotatemove","rotateend","rotatecancel","tripanstart","tripanmove","tripanup","tripandown","tripanleft","tripanright","tripanend","tripancancel","panstart","panmove","panup","pandown","panleft","panright","panend","pancancel","swipe","swipeleft","swiperight","swipeup","swipedown","GESTURE_EVENT_ALIASES","click","anyclick","dblclick","mouseover","mouseout","mouseleave","firefox","WHEEL_EVENTS","WheelInput","events","handleEvent","passive","removeEventListener","enabled","WheelEvent","deltaMode","DOM_DELTA_PIXEL","devicePixelRatio","DOM_DELTA_LINE","wheelPosition","floor","shiftKey","_onWheel","delta","MOUSE_EVENTS","MoveInput","enableMoveEvent","enableLeaveEvent","enableOutEvent","enableOverEvent","handleOverEvent","handleOutEvent","handleLeaveEvent","handleMoveEvent","KEY_EVENTS","KeyInput","enableDownEvent","enableUpEvent","targetElement","srcElement","ContextmenuInput","DEFAULT_OPTIONS","priority","EventRegistrar","handlers","handlersByElement","_active","entry","insertPosition","mjolnirEvent","_normalizeEvent","rootElement","_emit","handled","immediatePropagationStopped","stopPropagation","stopImmediatePropagation","entriesToRemove","_entries$i","_entriesToRemove$_i","_type","_handler","_event$srcEvent","buttons","leftButton","middleButton","rightButton","whichButtons","offsetWidth","offsetHeight","offsetCenter","clientLeft","clientTop","getOffsetPosition","recognizers","recognizerOptions","touchAction","EventManager","_onBasicInput","_onOtherEvent","setElement","destroy","ManagerClass","recognizerName","recognizer","otherName","recognizeWith","recognizerOption","wheelInput","moveInput","keyInput","contextmenuInput","_step$value","eventAlias","eventRegistrar","_toggleRecognizer","_addEventHandler","_removeEventHandler","fallbackRecognizers","otherRecognizer","requireFailure","dropRequireFailure","enableEventType","eventName","isRecognizerUsed","eh","alias","NO_TRANSITION_PROPS","LINEAR_TRANSITION_PROPS","INERTIA_EASING","EVENT_TYPES","MapController","isDragging","newState","_interactionState","newViewport","oldViewport","_transitionManager","_onTransition","_setInteractionState","getMapState","eventStartBlocked","_eventStartBlocked","_onPanStart","_onPan","_onPanEnd","_onPinchStart","_onPinch","_onPinchEnd","_onTriplePanStart","_onTriplePan","_onTriplePanEnd","_onDoubleTap","_onKeyDown","_event$offsetCenter","timer","newMapState","extraProps","viewStateChanged","getState","mapStateProps","_options$eventManager","_options$isInteractiv","isInteractive","_options$scrollZoom","scrollZoom","_options$dragPan","dragPan","_options$dragRotate","dragRotate","_options$doubleClickZ","doubleClickZoom","_options$touchZoom","touchZoom","_options$touchRotate","touchRotate","_options$keyboard","keyboard","dimensionChanged","updateViewport","processViewportChange","_events","toggleEvents","eventNames","_this3","getCenter","_panRotate","isFunctionKeyPressed","rotateStart","panStart","_onPanRotate","_onPanMove","_onPanRotateEnd","_onPanMoveEnd","_this$dragPan$inertia","inertia","velocity","endPos","velocityX","velocityY","newControllerState","panEnd","_this$dragRotate$iner","rotateEnd","_this$scrollZoom","_this$scrollZoom$spee","_this$scrollZoom$smoo","smooth","zoomStart","_startPinchRotation","rotation","_lastPinchEvent","_this$touchZoom$inert","_newMapState","velocityZ","deltaTime","endScale","zoomEnd","blockEvents","startPinchRotation","_this$touchRotate$ine","_newMapState2","isZoomOut","funcKey","_this$keyboard","_this$keyboard$zoomSp","zoomSpeed","_this$keyboard$moveSp","moveSpeed","_this$keyboard$rotate","rotateSpeedX","_this$keyboard$rotate2","rotateSpeedY","keyCode","onInteractionStateChange","onHover","onDblClick","onContextMenu","onMouseMove","onMouseEnter","onMouseOut","onWheel","eventRecognizerOptions","clickRadius","interactiveLayerIds","getCursor","controller","onNativeClick","isHovering","normalizeEvent","point","getFeatures","queryParams","layers","_unused","onEvent","callbackName","onPointerDown","onPointerUp","onPointerMove","features","isEntering","isExiting","onPointerClick","_this$props2","callbacks","isDoubleClickEnabled","InteractiveMap","parentContext","eventCanvasRef","staticMapRef","thisRef","viewportUpdateRequested","stateUpdateRequested","inRender","handleViewportChange","_thisRef$props","handleInteractionStateChange","_interactionState$isD","updateControllerOpts","setOptions","pointerleave","wheel","contextmenu","eventCanvasStyle","_child","deepEqual","aKeys","bKeys","_aKeys","isRequired","beforeId","updateLayer","prevProps","_props$layout","layout","_props$paint","paint","minzoom","maxzoom","otherProps","moveLayer","prevLayout","setLayoutProperty","prevPaint","_key2","setPaintProperty","_key3","_key4","setFilter","setLayerZoomRange","setLayerProperty","diffLayerStyles","warn","layerCounter","Layer","propsRef","setStyleLoaded","forceUpdate","_loaded","removeLayer","getLayer","addLayer","createLayer","mapControlDefaultProps","captureScroll","captureDrag","captureClick","captureDoubleClick","capturePointerMove","mapControlPropTypes","onMount","onDragStart","onDoubleClick","watch","useMapControl","_thisRef","Control","_useMapControl","_context","_containerRef","_PureComponent","BaseControl","_onScroll","_onDragStart","_onDblClick","_onClick","_onPointerMove","draggable","onDrag","onDragEnd","offsetLeft","offsetTop","draggableControlDefaultProps","getDragEventPosition","getDragLngLat","dragPos","dragOffset","_event$center","getDragEventOffset","setDragPos","setDragOffset","callbackEvent","registerEvents","pixelRatio","crispPixel","crispPercentage","percentage","dimension","origSize","Marker","useDraggableControl","_getPosition","_context$viewport$pro2","getPosition","_getPosition2","control","containerStyle","ANCHOR_POSITION","ANCHOR_TYPES","tipSize","anchor","dynamicPosition","sortByDepth","closeButton","closeOnClick","onClose","selfWidth","selfHeight","_ANCHOR_POSITION$anch","anchorX","anchorY","cutoffY","bestAnchorY","minCutoff","xStep","cutoffX","bestAnchorX","_minCutoff","find","positionType","anchorPosition","getDynamicPosition","Popup","contentRef","setLoaded","xPercentage","yPercentage","getContainerStyle","onReactClick","borderWidth","toggleLabel","AttributionControl","innerContainerRef","showCompact","setShowCompact","attributionContainer","_innerContainer","_updateAttributions","_updateEditLink","_updateData","setupAttributioncontrol","customAttribution","removeAttributionControl","compact","toggleAttribution","FullscreenControl","isFullscreen","setIsFullscreen","showButton","setShowButton","_useState6","mapboxFullscreenControl","createMapboxFullscreenControl","_checkFullscreenSupport","onFullscreenChange","nextState","_fullscreen","_fullscreenchange","_onClickFullscreen","disabledLabel","auto","positionOptions","enableHighAccuracy","fitBoundsOptions","trackUserLocation","showUserLocation","showAccuracyCircle","onGeolocate","updateCamera","LngLat","coords","radius","accuracy","toBounds","_ne","_sw","_context$viewport$fit","fitBounds","GeolocateControl","geolocateButtonRef","mapboxGeolocateControl","createMapboxGeolocateControl","supportsGeolocation","setSupportsGeolocation","Promise","resolve","navigator","permissions","then","geolocation","geolocateButton","_getUIString","_setupUI","_geolocateButton","_watchState","setupMapboxGeolocateControl","_updateCamera","_clearWatch","triggerGeolocate","trigger","_onZoom","showCompass","showZoom","zoomInLabel","zoomOutLabel","compassLabel","getUIVersion","version1","version2","v1","v2","part1","part2","compareVersions","renderButton","NavigationControl","uiVersion","renderCompass","maxWidth","ScaleControl","mapboxScaleControl","createMapboxScaleControl","_onMove","CanvasOverlay","ctx","setDrawingContext","save","restore","HTMLOverlay","SVGOverlay","setRTLTextPlugin","Pins","city","viewBox","fill","stroke","d","React","CityInfo","src","image","workerClass","require","geolocateStyle","fullscreenControlStyle","navStyle","scaleControlStyle","initialViewport","App","useState","setViewport","popupInfo","setPopupInfo","sortedCities","setSortedCities","isDesktop","setIsDesktop","showMap","setShowMap","updateDimensions","innerWidth","shouldShowMap","shouldShowList","CITIES","cityA","cityB","nameA","nameB","Helmet","rel","maxHeight","BlogIndex","siteTitle","site","siteMetadata","keywords","description","userAgent","window_","passiveSupported","_defineProperties","protoProps","staticProps","arrayWithoutHoles","iterableToArray","nonIterableSpread","isNativeFunction","_wrapNativeSuper","_cache","has","Wrapper","MapShim","getIndex","class_1","__entries__","clear","_a","isBrowser","global$1","requestAnimationFrame$1","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","attributes","childList","characterData","subtree","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","defaultView","emptyRect","createRectInit","toFloat","getBordersSize","positions","getHTMLElementContentRect","paddings","positions_1","getPaddings","horizPad","vertPad","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","Constr","DOMRectReadOnly","ResizeObserverSPI","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","WeakMap","ResizeObserver","method","refProps","normalizeStyle","toJS","layerIndex","layer","layerRef","normalizedLayer","g","q","$$typeof","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Fragment","Lazy","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","_defineProperty","valueOf","_createClass","exportName","VENDOR_PREFIXES","TEST_ELEMENT","setTimeoutContext","bindFn","invokeArrayArg","each","deprecate","deprecationMessage","stack","extend","dest","merge","inherit","childP","baseP","boolOrFn","ifUndefined","val1","val2","addEventListeners","splitStr","removeEventListeners","hasParent","inStr","inArray","findByKey","uniqueArray","results","camelProp","_uniqueId","getWindowForElement","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","PROPS_XY","PROPS_CLIENT_XY","Input","inputTarget","domHandler","init","inputHandler","input","pointersLen","changedPointersLen","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","angle","getAngle","distance","getDistance","offsetDelta","prevDelta","prevInput","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","getRotation","maxPointers","last","lastInterval","computeIntervalInputData","computeInputData","recognize","atan2","evEl","evTarget","evWin","POINTER_INPUT_MAP","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","storeIndex","SINGLE_TOUCH_INPUT_MAP","touchcancel","SingleTouchInput","started","normalizeSingleTouches","all","changed","changedTouches","TOUCH_INPUT_MAP","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_MAP","touchMap","cssSupports","supports","getTouchActionProps","TouchAction","compute","actions","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","DIRECTION_UP","preventSrc","Recognizer","defaults","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","preset","dropRecognizeWith","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","attrTest","optionPointers","isRecognized","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","oldCssProps","toggleCssProps","stopped","curRecognizer","existing","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_VERTICAL","DIRECTION_ALL"],"mappings":"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","file":"component---src-pages-index-js-28112feaf816175ee0fb.js","sourcesContent":["var setPrototypeOf = require(\"@babel/runtime/helpers/setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"@babel/runtime/helpers/isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","var window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };","'use strict';\n\nvar reactIs = require('react-is');\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;","var arrayWithHoles = require(\"@babel/runtime/helpers/arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"@babel/runtime/helpers/iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"@babel/runtime/helpers/unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"@babel/runtime/helpers/nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as PropTypes from 'prop-types';\nimport { document } from '../utils/globals';\nimport { normalizeStyle } from '../utils/style-utils';\n\nfunction noop() {}\n\nfunction defaultOnError(event) {\n  if (event) {\n    console.error(event.error);\n  }\n}\n\nvar propTypes = {\n  container: PropTypes.object,\n  gl: PropTypes.object,\n  mapboxApiAccessToken: PropTypes.string,\n  mapboxApiUrl: PropTypes.string,\n  attributionControl: PropTypes.bool,\n  preserveDrawingBuffer: PropTypes.bool,\n  reuseMaps: PropTypes.bool,\n  transformRequest: PropTypes.func,\n  mapOptions: PropTypes.object,\n  mapStyle: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  preventStyleDiffing: PropTypes.bool,\n  visible: PropTypes.bool,\n  asyncRender: PropTypes.bool,\n  onLoad: PropTypes.func,\n  onError: PropTypes.func,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  viewState: PropTypes.object,\n  longitude: PropTypes.number,\n  latitude: PropTypes.number,\n  zoom: PropTypes.number,\n  bearing: PropTypes.number,\n  pitch: PropTypes.number,\n  altitude: PropTypes.number\n};\nvar defaultProps = {\n  container: document.body,\n  mapboxApiAccessToken: getAccessToken(),\n  mapboxApiUrl: 'https://api.mapbox.com',\n  preserveDrawingBuffer: false,\n  attributionControl: true,\n  reuseMaps: false,\n  mapOptions: {},\n  mapStyle: 'mapbox://styles/mapbox/light-v8',\n  preventStyleDiffing: false,\n  visible: true,\n  asyncRender: false,\n  onLoad: noop,\n  onError: defaultOnError,\n  width: 0,\n  height: 0,\n  longitude: 0,\n  latitude: 0,\n  zoom: 0,\n  bearing: 0,\n  pitch: 0,\n  altitude: 1.5\n};\nexport function getAccessToken() {\n  var accessToken = null;\n\n  if (typeof window !== 'undefined' && window.location) {\n    var match = window.location.search.match(/access_token=([^&\\/]*)/);\n    accessToken = match && match[1];\n  }\n\n  if (!accessToken && typeof process !== 'undefined') {\n    accessToken = accessToken || process.env.MapboxAccessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n  }\n\n  return accessToken || 'no-token';\n}\n\nfunction checkPropTypes(props) {\n  var component = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'component';\n\n  if (props.debug) {\n    PropTypes.checkPropTypes(propTypes, props, 'prop', component);\n  }\n}\n\nvar Mapbox = function () {\n  function Mapbox(props) {\n    var _this = this;\n\n    _classCallCheck(this, Mapbox);\n\n    _defineProperty(this, \"props\", defaultProps);\n\n    _defineProperty(this, \"width\", 0);\n\n    _defineProperty(this, \"height\", 0);\n\n    _defineProperty(this, \"_fireLoadEvent\", function () {\n      _this.props.onLoad({\n        type: 'load',\n        target: _this._map\n      });\n    });\n\n    if (!props.mapboxgl) {\n      throw new Error('Mapbox not available');\n    }\n\n    this.mapboxgl = props.mapboxgl;\n\n    if (!Mapbox.initialized) {\n      Mapbox.initialized = true;\n\n      this._checkStyleSheet(this.mapboxgl.version);\n    }\n\n    this._initialize(props);\n  }\n\n  _createClass(Mapbox, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this._destroy();\n\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this._update(this.props, props);\n\n      return this;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw() {\n      var map = this._map;\n\n      if (map.style) {\n        if (map._frame) {\n          map._frame.cancel();\n\n          map._frame = null;\n        }\n\n        map._render();\n      }\n    }\n  }, {\n    key: \"getMap\",\n    value: function getMap() {\n      return this._map;\n    }\n  }, {\n    key: \"_reuse\",\n    value: function _reuse(props) {\n      this._map = Mapbox.savedMap;\n\n      var oldContainer = this._map.getContainer();\n\n      var newContainer = props.container;\n      newContainer.classList.add('mapboxgl-map');\n\n      while (oldContainer.childNodes.length > 0) {\n        newContainer.appendChild(oldContainer.childNodes[0]);\n      }\n\n      this._map._container = newContainer;\n      Mapbox.savedMap = null;\n\n      if (props.mapStyle) {\n        this._map.setStyle(normalizeStyle(props.mapStyle), {\n          diff: false\n        });\n      }\n\n      if (this._map.isStyleLoaded()) {\n        this._fireLoadEvent();\n      } else {\n        this._map.once('styledata', this._fireLoadEvent);\n      }\n    }\n  }, {\n    key: \"_create\",\n    value: function _create(props) {\n      if (props.reuseMaps && Mapbox.savedMap) {\n        this._reuse(props);\n      } else {\n        if (props.gl) {\n          var getContext = HTMLCanvasElement.prototype.getContext;\n\n          HTMLCanvasElement.prototype.getContext = function () {\n            HTMLCanvasElement.prototype.getContext = getContext;\n            return props.gl;\n          };\n        }\n\n        var mapOptions = {\n          container: props.container,\n          center: [0, 0],\n          zoom: 8,\n          pitch: 0,\n          bearing: 0,\n          maxZoom: 24,\n          style: normalizeStyle(props.mapStyle),\n          interactive: false,\n          trackResize: false,\n          attributionControl: props.attributionControl,\n          preserveDrawingBuffer: props.preserveDrawingBuffer\n        };\n\n        if (props.transformRequest) {\n          mapOptions.transformRequest = props.transformRequest;\n        }\n\n        this._map = new this.mapboxgl.Map(Object.assign({}, mapOptions, props.mapOptions));\n\n        this._map.once('load', props.onLoad);\n\n        this._map.on('error', props.onError);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      if (!this._map) {\n        return;\n      }\n\n      if (!Mapbox.savedMap) {\n        Mapbox.savedMap = this._map;\n\n        this._map.off('load', this.props.onLoad);\n\n        this._map.off('error', this.props.onError);\n\n        this._map.off('styledata', this._fireLoadEvent);\n      } else {\n        this._map.remove();\n      }\n\n      this._map = null;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize(props) {\n      var _this2 = this;\n\n      props = Object.assign({}, defaultProps, props);\n      checkPropTypes(props, 'Mapbox');\n      this.mapboxgl.accessToken = props.mapboxApiAccessToken || defaultProps.mapboxApiAccessToken;\n      this.mapboxgl.baseApiUrl = props.mapboxApiUrl;\n\n      this._create(props);\n\n      var _props = props,\n          container = _props.container;\n      Object.defineProperty(container, 'offsetWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'clientWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'offsetHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n      Object.defineProperty(container, 'clientHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n\n      var canvas = this._map.getCanvas();\n\n      if (canvas) {\n        canvas.style.outline = 'none';\n      }\n\n      this._updateMapViewport({}, props);\n\n      this._updateMapSize({}, props);\n\n      this.props = props;\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(oldProps, newProps) {\n      if (!this._map) {\n        return;\n      }\n\n      newProps = Object.assign({}, this.props, newProps);\n      checkPropTypes(newProps, 'Mapbox');\n\n      var viewportChanged = this._updateMapViewport(oldProps, newProps);\n\n      var sizeChanged = this._updateMapSize(oldProps, newProps);\n\n      this._updateMapStyle(oldProps, newProps);\n\n      if (!newProps.asyncRender && (viewportChanged || sizeChanged)) {\n        this.redraw();\n      }\n\n      this.props = newProps;\n    }\n  }, {\n    key: \"_updateMapStyle\",\n    value: function _updateMapStyle(oldProps, newProps) {\n      var styleChanged = oldProps.mapStyle !== newProps.mapStyle;\n\n      if (styleChanged) {\n        this._map.setStyle(normalizeStyle(newProps.mapStyle), {\n          diff: !newProps.preventStyleDiffing\n        });\n      }\n    }\n  }, {\n    key: \"_updateMapSize\",\n    value: function _updateMapSize(oldProps, newProps) {\n      var sizeChanged = oldProps.width !== newProps.width || oldProps.height !== newProps.height;\n\n      if (sizeChanged) {\n        this.width = newProps.width;\n        this.height = newProps.height;\n\n        this._map.resize();\n      }\n\n      return sizeChanged;\n    }\n  }, {\n    key: \"_updateMapViewport\",\n    value: function _updateMapViewport(oldProps, newProps) {\n      var oldViewState = this._getViewState(oldProps);\n\n      var newViewState = this._getViewState(newProps);\n\n      var viewportChanged = newViewState.latitude !== oldViewState.latitude || newViewState.longitude !== oldViewState.longitude || newViewState.zoom !== oldViewState.zoom || newViewState.pitch !== oldViewState.pitch || newViewState.bearing !== oldViewState.bearing || newViewState.altitude !== oldViewState.altitude;\n\n      if (viewportChanged) {\n        this._map.jumpTo(this._viewStateToMapboxProps(newViewState));\n\n        if (newViewState.altitude !== oldViewState.altitude) {\n          this._map.transform.altitude = newViewState.altitude;\n        }\n      }\n\n      return viewportChanged;\n    }\n  }, {\n    key: \"_getViewState\",\n    value: function _getViewState(props) {\n      var _ref = props.viewState || props,\n          longitude = _ref.longitude,\n          latitude = _ref.latitude,\n          zoom = _ref.zoom,\n          _ref$pitch = _ref.pitch,\n          pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n          _ref$bearing = _ref.bearing,\n          bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n          _ref$altitude = _ref.altitude,\n          altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude;\n\n      return {\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom,\n        pitch: pitch,\n        bearing: bearing,\n        altitude: altitude\n      };\n    }\n  }, {\n    key: \"_checkStyleSheet\",\n    value: function _checkStyleSheet() {\n      var mapboxVersion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '0.47.0';\n\n      if (typeof document === 'undefined') {\n        return;\n      }\n\n      try {\n        var testElement = document.createElement('div');\n        testElement.className = 'mapboxgl-map';\n        testElement.style.display = 'none';\n        document.body.appendChild(testElement);\n        var isCssLoaded = window.getComputedStyle(testElement).position !== 'static';\n\n        if (!isCssLoaded) {\n          var link = document.createElement('link');\n          link.setAttribute('rel', 'stylesheet');\n          link.setAttribute('type', 'text/css');\n          link.setAttribute('href', \"https://api.tiles.mapbox.com/mapbox-gl-js/v\".concat(mapboxVersion, \"/mapbox-gl.css\"));\n          document.head.appendChild(link);\n        }\n      } catch (error) {}\n    }\n  }, {\n    key: \"_viewStateToMapboxProps\",\n    value: function _viewStateToMapboxProps(viewState) {\n      return {\n        center: [viewState.longitude, viewState.latitude],\n        zoom: viewState.zoom,\n        bearing: viewState.bearing,\n        pitch: viewState.pitch\n      };\n    }\n  }]);\n\n  return Mapbox;\n}();\n\n_defineProperty(Mapbox, \"initialized\", false);\n\n_defineProperty(Mapbox, \"propTypes\", propTypes);\n\n_defineProperty(Mapbox, \"defaultProps\", defaultProps);\n\n_defineProperty(Mapbox, \"savedMap\", null);\n\nexport { Mapbox as default };","// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};","'use strict';\nvar $ = require('../internals/export');\nvar $reduceRight = require('../internals/array-reduce').right;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduceRight');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduceRight` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduceright\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduceRight(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var superPropBase = require(\"@babel/runtime/helpers/superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"mapbox-gl-csp-worker-a362d1ad267466abe18f.worker.js\");\n}\n","var getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.es/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  hypot: function hypot(value1, value2) {\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","function toVal(mix) {\n  var k,\n      y,\n      str = '';\n\n  if (typeof mix === 'string' || typeof mix === 'number') {\n    str += mix;\n  } else if (typeof mix === 'object') {\n    if (Array.isArray(mix)) {\n      for (k = 0; k < mix.length; k++) {\n        if (mix[k]) {\n          if (y = toVal(mix[k])) {\n            str && (str += ' ');\n            str += y;\n          }\n        }\n      }\n    } else {\n      for (k in mix) {\n        if (mix[k]) {\n          str && (str += ' ');\n          str += k;\n        }\n      }\n    }\n  }\n\n  return str;\n}\n\nexport default function () {\n  var i = 0,\n      tmp,\n      x,\n      str = '';\n\n  while (i < arguments.length) {\n    if (tmp = arguments[i++]) {\n      if (x = toVal(tmp)) {\n        str && (str += ' ');\n        str += x;\n      }\n    }\n  }\n\n  return str;\n}","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nexport var isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && document.nodeType === 9;\nexport default isBrowser;","var isProduction = process.env.NODE_ENV === 'production';\n\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import \"core-js/modules/es.array.reduce.js\";\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport isInBrowser from 'is-in-browser';\nimport warning from 'tiny-warning';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nvar plainObjectConstrurctor = {}.constructor;\n\nfunction cloneStyle(style) {\n  if (style == null || typeof style !== 'object') return style;\n  if (Array.isArray(style)) return style.map(cloneStyle);\n  if (style.constructor !== plainObjectConstrurctor) return style;\n  var newStyle = {};\n\n  for (var name in style) {\n    newStyle[name] = cloneStyle(style[name]);\n  }\n\n  return newStyle;\n}\n/**\n * Create a rule instance.\n */\n\n\nfunction createRule(name, decl, options) {\n  if (name === void 0) {\n    name = 'unnamed';\n  }\n\n  var jss = options.jss;\n  var declCopy = cloneStyle(decl);\n  var rule = jss.plugins.onCreateRule(name, declCopy, options);\n  if (rule) return rule; // It is an at-rule and it has no instance.\n\n  if (name[0] === '@') {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown rule \" + name) : void 0;\n  }\n\n  return null;\n}\n\nvar join = function join(value, by) {\n  var result = '';\n\n  for (var i = 0; i < value.length; i++) {\n    // Remove !important from the value, it will be readded later.\n    if (value[i] === '!important') break;\n    if (result) result += by;\n    result += value[i];\n  }\n\n  return result;\n};\n/**\n * Converts array values to string.\n *\n * `margin: [['5px', '10px']]` > `margin: 5px 10px;`\n * `border: ['1px', '2px']` > `border: 1px, 2px;`\n * `margin: [['5px', '10px'], '!important']` > `margin: 5px 10px !important;`\n * `color: ['red', !important]` > `color: red !important;`\n */\n\n\nvar toCssValue = function toCssValue(value, ignoreImportant) {\n  if (ignoreImportant === void 0) {\n    ignoreImportant = false;\n  }\n\n  if (!Array.isArray(value)) return value;\n  var cssValue = ''; // Support space separated values via `[['5px', '10px']]`.\n\n  if (Array.isArray(value[0])) {\n    for (var i = 0; i < value.length; i++) {\n      if (value[i] === '!important') break;\n      if (cssValue) cssValue += ', ';\n      cssValue += join(value[i], ' ');\n    }\n  } else cssValue = join(value, ', '); // Add !important, because it was ignored.\n\n\n  if (!ignoreImportant && value[value.length - 1] === '!important') {\n    cssValue += ' !important';\n  }\n\n  return cssValue;\n};\n/**\n * Indent a string.\n * http://jsperf.com/array-join-vs-for\n */\n\n\nfunction indentStr(str, indent) {\n  var result = '';\n\n  for (var index = 0; index < indent; index++) {\n    result += '  ';\n  }\n\n  return result + str;\n}\n/**\n * Converts a Rule to CSS string.\n */\n\n\nfunction toCss(selector, style, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var result = '';\n  if (!style) return result;\n  var _options = options,\n      _options$indent = _options.indent,\n      indent = _options$indent === void 0 ? 0 : _options$indent;\n  var fallbacks = style.fallbacks;\n  if (selector) indent++; // Apply fallbacks first.\n\n  if (fallbacks) {\n    // Array syntax {fallbacks: [{prop: value}]}\n    if (Array.isArray(fallbacks)) {\n      for (var index = 0; index < fallbacks.length; index++) {\n        var fallback = fallbacks[index];\n\n        for (var prop in fallback) {\n          var value = fallback[prop];\n\n          if (value != null) {\n            if (result) result += '\\n';\n            result += \"\" + indentStr(prop + \": \" + toCssValue(value) + \";\", indent);\n          }\n        }\n      }\n    } else {\n      // Object syntax {fallbacks: {prop: value}}\n      for (var _prop in fallbacks) {\n        var _value = fallbacks[_prop];\n\n        if (_value != null) {\n          if (result) result += '\\n';\n          result += \"\" + indentStr(_prop + \": \" + toCssValue(_value) + \";\", indent);\n        }\n      }\n    }\n  }\n\n  for (var _prop2 in style) {\n    var _value2 = style[_prop2];\n\n    if (_value2 != null && _prop2 !== 'fallbacks') {\n      if (result) result += '\\n';\n      result += \"\" + indentStr(_prop2 + \": \" + toCssValue(_value2) + \";\", indent);\n    }\n  } // Allow empty style in this case, because properties will be added dynamically.\n\n\n  if (!result && !options.allowEmpty) return result; // When rule is being stringified before selector was defined.\n\n  if (!selector) return result;\n  indent--;\n  if (result) result = \"\\n\" + result + \"\\n\";\n  return indentStr(selector + \" {\" + result, indent) + indentStr('}', indent);\n}\n\nvar escapeRegex = /([[\\].#*$><+~=|^:(),\"'`\\s])/g;\nvar nativeEscape = typeof CSS !== 'undefined' && CSS.escape;\n\nvar escape = function escape(str) {\n  return nativeEscape ? nativeEscape(str) : str.replace(escapeRegex, '\\\\$1');\n};\n\nvar BaseStyleRule = /*#__PURE__*/function () {\n  function BaseStyleRule(key, style, options) {\n    this.type = 'style';\n    this.key = void 0;\n    this.isProcessed = false;\n    this.style = void 0;\n    this.renderer = void 0;\n    this.renderable = void 0;\n    this.options = void 0;\n    var sheet = options.sheet,\n        Renderer = options.Renderer;\n    this.key = key;\n    this.options = options;\n    this.style = style;\n    if (sheet) this.renderer = sheet.renderer;else if (Renderer) this.renderer = new Renderer();\n  }\n  /**\n   * Get or set a style property.\n   */\n\n\n  var _proto = BaseStyleRule.prototype;\n\n  _proto.prop = function prop(name, value, options) {\n    // It's a getter.\n    if (value === undefined) return this.style[name]; // Don't do anything if the value has not changed.\n\n    var force = options ? options.force : false;\n    if (!force && this.style[name] === value) return this;\n    var newValue = value;\n\n    if (!options || options.process !== false) {\n      newValue = this.options.jss.plugins.onChangeValue(value, name, this);\n    }\n\n    var isEmpty = newValue == null || newValue === false;\n    var isDefined = (name in this.style); // Value is empty and wasn't defined before.\n\n    if (isEmpty && !isDefined && !force) return this; // We are going to remove this value.\n\n    var remove = isEmpty && isDefined;\n    if (remove) delete this.style[name];else this.style[name] = newValue; // Renderable is defined if StyleSheet option `link` is true.\n\n    if (this.renderable && this.renderer) {\n      if (remove) this.renderer.removeProperty(this.renderable, name);else this.renderer.setProperty(this.renderable, name, newValue);\n      return this;\n    }\n\n    var sheet = this.options.sheet;\n\n    if (sheet && sheet.attached) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Rule is not linked. Missing sheet option \"link: true\".') : void 0;\n    }\n\n    return this;\n  };\n\n  return BaseStyleRule;\n}();\n\nvar StyleRule = /*#__PURE__*/function (_BaseStyleRule) {\n  _inheritsLoose(StyleRule, _BaseStyleRule);\n\n  function StyleRule(key, style, options) {\n    var _this;\n\n    _this = _BaseStyleRule.call(this, key, style, options) || this;\n    _this.selectorText = void 0;\n    _this.id = void 0;\n    _this.renderable = void 0;\n    var selector = options.selector,\n        scoped = options.scoped,\n        sheet = options.sheet,\n        generateId = options.generateId;\n\n    if (selector) {\n      _this.selectorText = selector;\n    } else if (scoped !== false) {\n      _this.id = generateId(_assertThisInitialized(_assertThisInitialized(_this)), sheet);\n      _this.selectorText = \".\" + escape(_this.id);\n    }\n\n    return _this;\n  }\n  /**\n   * Set selector string.\n   * Attention: use this with caution. Most browsers didn't implement\n   * selectorText setter, so this may result in rerendering of entire Style Sheet.\n   */\n\n\n  var _proto2 = StyleRule.prototype;\n  /**\n   * Apply rule to an element inline.\n   */\n\n  _proto2.applyTo = function applyTo(renderable) {\n    var renderer = this.renderer;\n\n    if (renderer) {\n      var json = this.toJSON();\n\n      for (var prop in json) {\n        renderer.setProperty(renderable, prop, json[prop]);\n      }\n    }\n\n    return this;\n  }\n  /**\n   * Returns JSON representation of the rule.\n   * Fallbacks are not supported.\n   * Useful for inline styles.\n   */\n  ;\n\n  _proto2.toJSON = function toJSON() {\n    var json = {};\n\n    for (var prop in this.style) {\n      var value = this.style[prop];\n      if (typeof value !== 'object') json[prop] = value;else if (Array.isArray(value)) json[prop] = toCssValue(value);\n    }\n\n    return json;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto2.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.selectorText, this.style, opts);\n  };\n\n  _createClass(StyleRule, [{\n    key: \"selector\",\n    set: function set(selector) {\n      if (selector === this.selectorText) return;\n      this.selectorText = selector;\n      var renderer = this.renderer,\n          renderable = this.renderable;\n      if (!renderable || !renderer) return;\n      var hasChanged = renderer.setSelector(renderable, selector); // If selector setter is not implemented, rerender the rule.\n\n      if (!hasChanged) {\n        renderer.replaceRule(renderable, this);\n      }\n    }\n    /**\n     * Get selector string.\n     */\n    ,\n    get: function get() {\n      return this.selectorText;\n    }\n  }]);\n\n  return StyleRule;\n}(BaseStyleRule);\n\nvar pluginStyleRule = {\n  onCreateRule: function onCreateRule(name, style, options) {\n    if (name[0] === '@' || options.parent && options.parent.type === 'keyframes') {\n      return null;\n    }\n\n    return new StyleRule(name, style, options);\n  }\n};\nvar defaultToStringOptions = {\n  indent: 1,\n  children: true\n};\nvar atRegExp = /@([\\w-]+)/;\n/**\n * Conditional rule for @media, @supports\n */\n\nvar ConditionalRule = /*#__PURE__*/function () {\n  function ConditionalRule(key, styles, options) {\n    this.type = 'conditional';\n    this.at = void 0;\n    this.key = void 0;\n    this.query = void 0;\n    this.rules = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    var atMatch = key.match(atRegExp);\n    this.at = atMatch ? atMatch[1] : 'unknown'; // Key might contain a unique suffix in case the `name` passed by user was duplicate.\n\n    this.query = options.name || \"@\" + this.at;\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n\n  var _proto = ConditionalRule.prototype;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions;\n    }\n\n    if (options.indent == null) options.indent = defaultToStringOptions.indent;\n    if (options.children == null) options.children = defaultToStringOptions.children;\n\n    if (options.children === false) {\n      return this.query + \" {}\";\n    }\n\n    var children = this.rules.toString(options);\n    return children ? this.query + \" {\\n\" + children + \"\\n}\" : '';\n  };\n\n  return ConditionalRule;\n}();\n\nvar keyRegExp = /@media|@supports\\s+/;\nvar pluginConditionalRule = {\n  onCreateRule: function onCreateRule(key, styles, options) {\n    return keyRegExp.test(key) ? new ConditionalRule(key, styles, options) : null;\n  }\n};\nvar defaultToStringOptions$1 = {\n  indent: 1,\n  children: true\n};\nvar nameRegExp = /@keyframes\\s+([\\w-]+)/;\n/**\n * Rule for @keyframes\n */\n\nvar KeyframesRule = /*#__PURE__*/function () {\n  function KeyframesRule(key, frames, options) {\n    this.type = 'keyframes';\n    this.at = '@keyframes';\n    this.key = void 0;\n    this.name = void 0;\n    this.id = void 0;\n    this.rules = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    var nameMatch = key.match(nameRegExp);\n\n    if (nameMatch && nameMatch[1]) {\n      this.name = nameMatch[1];\n    } else {\n      this.name = 'noname';\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Bad keyframes name \" + key) : void 0;\n    }\n\n    this.key = this.type + \"-\" + this.name;\n    this.options = options;\n    var scoped = options.scoped,\n        sheet = options.sheet,\n        generateId = options.generateId;\n    this.id = scoped === false ? this.name : escape(generateId(this, sheet));\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var name in frames) {\n      this.rules.add(name, frames[name], _extends({}, options, {\n        parent: this\n      }));\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = KeyframesRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions$1;\n    }\n\n    if (options.indent == null) options.indent = defaultToStringOptions$1.indent;\n    if (options.children == null) options.children = defaultToStringOptions$1.children;\n\n    if (options.children === false) {\n      return this.at + \" \" + this.id + \" {}\";\n    }\n\n    var children = this.rules.toString(options);\n    if (children) children = \"\\n\" + children + \"\\n\";\n    return this.at + \" \" + this.id + \" {\" + children + \"}\";\n  };\n\n  return KeyframesRule;\n}();\n\nvar keyRegExp$1 = /@keyframes\\s+/;\nvar refRegExp = /\\$([\\w-]+)/g;\n\nvar findReferencedKeyframe = function findReferencedKeyframe(val, keyframes) {\n  if (typeof val === 'string') {\n    return val.replace(refRegExp, function (match, name) {\n      if (name in keyframes) {\n        return keyframes[name];\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Referenced keyframes rule \\\"\" + name + \"\\\" is not defined.\") : void 0;\n      return match;\n    });\n  }\n\n  return val;\n};\n/**\n * Replace the reference for a animation name.\n */\n\n\nvar replaceRef = function replaceRef(style, prop, keyframes) {\n  var value = style[prop];\n  var refKeyframe = findReferencedKeyframe(value, keyframes);\n\n  if (refKeyframe !== value) {\n    style[prop] = refKeyframe;\n  }\n};\n\nvar plugin = {\n  onCreateRule: function onCreateRule(key, frames, options) {\n    return typeof key === 'string' && keyRegExp$1.test(key) ? new KeyframesRule(key, frames, options) : null;\n  },\n  // Animation name ref replacer.\n  onProcessStyle: function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style' || !sheet) return style;\n    if ('animation-name' in style) replaceRef(style, 'animation-name', sheet.keyframes);\n    if ('animation' in style) replaceRef(style, 'animation', sheet.keyframes);\n    return style;\n  },\n  onChangeValue: function onChangeValue(val, prop, rule) {\n    var sheet = rule.options.sheet;\n\n    if (!sheet) {\n      return val;\n    }\n\n    switch (prop) {\n      case 'animation':\n        return findReferencedKeyframe(val, sheet.keyframes);\n\n      case 'animation-name':\n        return findReferencedKeyframe(val, sheet.keyframes);\n\n      default:\n        return val;\n    }\n  }\n};\n\nvar KeyframeRule = /*#__PURE__*/function (_BaseStyleRule) {\n  _inheritsLoose(KeyframeRule, _BaseStyleRule);\n\n  function KeyframeRule() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _BaseStyleRule.call.apply(_BaseStyleRule, [this].concat(args)) || this;\n    _this.renderable = void 0;\n    return _this;\n  }\n\n  var _proto = KeyframeRule.prototype;\n  /**\n   * Generates a CSS string.\n   */\n\n  _proto.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.key, this.style, opts);\n  };\n\n  return KeyframeRule;\n}(BaseStyleRule);\n\nvar pluginKeyframeRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    if (options.parent && options.parent.type === 'keyframes') {\n      return new KeyframeRule(key, style, options);\n    }\n\n    return null;\n  }\n};\n\nvar FontFaceRule = /*#__PURE__*/function () {\n  function FontFaceRule(key, style, options) {\n    this.type = 'font-face';\n    this.at = '@font-face';\n    this.key = void 0;\n    this.style = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = FontFaceRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (Array.isArray(this.style)) {\n      var str = '';\n\n      for (var index = 0; index < this.style.length; index++) {\n        str += toCss(this.at, this.style[index]);\n        if (this.style[index + 1]) str += '\\n';\n      }\n\n      return str;\n    }\n\n    return toCss(this.at, this.style, options);\n  };\n\n  return FontFaceRule;\n}();\n\nvar keyRegExp$2 = /@font-face/;\nvar pluginFontFaceRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return keyRegExp$2.test(key) ? new FontFaceRule(key, style, options) : null;\n  }\n};\n\nvar ViewportRule = /*#__PURE__*/function () {\n  function ViewportRule(key, style, options) {\n    this.type = 'viewport';\n    this.at = '@viewport';\n    this.key = void 0;\n    this.style = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = ViewportRule.prototype;\n\n  _proto.toString = function toString(options) {\n    return toCss(this.key, this.style, options);\n  };\n\n  return ViewportRule;\n}();\n\nvar pluginViewportRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return key === '@viewport' || key === '@-ms-viewport' ? new ViewportRule(key, style, options) : null;\n  }\n};\n\nvar SimpleRule = /*#__PURE__*/function () {\n  function SimpleRule(key, value, options) {\n    this.type = 'simple';\n    this.key = void 0;\n    this.value = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.value = value;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  // eslint-disable-next-line no-unused-vars\n\n\n  var _proto = SimpleRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (Array.isArray(this.value)) {\n      var str = '';\n\n      for (var index = 0; index < this.value.length; index++) {\n        str += this.key + \" \" + this.value[index] + \";\";\n        if (this.value[index + 1]) str += '\\n';\n      }\n\n      return str;\n    }\n\n    return this.key + \" \" + this.value + \";\";\n  };\n\n  return SimpleRule;\n}();\n\nvar keysMap = {\n  '@charset': true,\n  '@import': true,\n  '@namespace': true\n};\nvar pluginSimpleRule = {\n  onCreateRule: function onCreateRule(key, value, options) {\n    return key in keysMap ? new SimpleRule(key, value, options) : null;\n  }\n};\nvar plugins = [pluginStyleRule, pluginConditionalRule, plugin, pluginKeyframeRule, pluginFontFaceRule, pluginViewportRule, pluginSimpleRule];\nvar defaultUpdateOptions = {\n  process: true\n};\nvar forceUpdateOptions = {\n  force: true,\n  process: true\n  /**\n   * Contains rules objects and allows adding/removing etc.\n   * Is used for e.g. by `StyleSheet` or `ConditionalRule`.\n   */\n\n};\n\nvar RuleList = /*#__PURE__*/function () {\n  // Rules registry for access by .get() method.\n  // It contains the same rule registered by name and by selector.\n  // Original styles object.\n  // Used to ensure correct rules order.\n  function RuleList(options) {\n    this.map = {};\n    this.raw = {};\n    this.index = [];\n    this.counter = 0;\n    this.options = void 0;\n    this.classes = void 0;\n    this.keyframes = void 0;\n    this.options = options;\n    this.classes = options.classes;\n    this.keyframes = options.keyframes;\n  }\n  /**\n   * Create and register rule.\n   *\n   * Will not render after Style Sheet was rendered the first time.\n   */\n\n\n  var _proto = RuleList.prototype;\n\n  _proto.add = function add(name, decl, ruleOptions) {\n    var _this$options = this.options,\n        parent = _this$options.parent,\n        sheet = _this$options.sheet,\n        jss = _this$options.jss,\n        Renderer = _this$options.Renderer,\n        generateId = _this$options.generateId,\n        scoped = _this$options.scoped;\n\n    var options = _extends({\n      classes: this.classes,\n      parent: parent,\n      sheet: sheet,\n      jss: jss,\n      Renderer: Renderer,\n      generateId: generateId,\n      scoped: scoped,\n      name: name,\n      keyframes: this.keyframes,\n      selector: undefined\n    }, ruleOptions); // When user uses .createStyleSheet(), duplicate names are not possible, but\n    // `sheet.addRule()` opens the door for any duplicate rule name. When this happens\n    // we need to make the key unique within this RuleList instance scope.\n\n\n    var key = name;\n\n    if (name in this.raw) {\n      key = name + \"-d\" + this.counter++;\n    } // We need to save the original decl before creating the rule\n    // because cache plugin needs to use it as a key to return a cached rule.\n\n\n    this.raw[key] = decl;\n\n    if (key in this.classes) {\n      // E.g. rules inside of @media container\n      options.selector = \".\" + escape(this.classes[key]);\n    }\n\n    var rule = createRule(key, decl, options);\n    if (!rule) return null;\n    this.register(rule);\n    var index = options.index === undefined ? this.index.length : options.index;\n    this.index.splice(index, 0, rule);\n    return rule;\n  }\n  /**\n   * Get a rule.\n   */\n  ;\n\n  _proto.get = function get(name) {\n    return this.map[name];\n  }\n  /**\n   * Delete a rule.\n   */\n  ;\n\n  _proto.remove = function remove(rule) {\n    this.unregister(rule);\n    delete this.raw[rule.key];\n    this.index.splice(this.index.indexOf(rule), 1);\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.index.indexOf(rule);\n  }\n  /**\n   * Run `onProcessRule()` plugins on every rule.\n   */\n  ;\n\n  _proto.process = function process() {\n    var plugins = this.options.jss.plugins; // We need to clone array because if we modify the index somewhere else during a loop\n    // we end up with very hard-to-track-down side effects.\n\n    this.index.slice(0).forEach(plugins.onProcessRule, plugins);\n  }\n  /**\n   * Register a rule in `.map`, `.classes` and `.keyframes` maps.\n   */\n  ;\n\n  _proto.register = function register(rule) {\n    this.map[rule.key] = rule;\n\n    if (rule instanceof StyleRule) {\n      this.map[rule.selector] = rule;\n      if (rule.id) this.classes[rule.key] = rule.id;\n    } else if (rule instanceof KeyframesRule && this.keyframes) {\n      this.keyframes[rule.name] = rule.id;\n    }\n  }\n  /**\n   * Unregister a rule.\n   */\n  ;\n\n  _proto.unregister = function unregister(rule) {\n    delete this.map[rule.key];\n\n    if (rule instanceof StyleRule) {\n      delete this.map[rule.selector];\n      delete this.classes[rule.key];\n    } else if (rule instanceof KeyframesRule) {\n      delete this.keyframes[rule.name];\n    }\n  }\n  /**\n   * Update the function values with a new data.\n   */\n  ;\n\n  _proto.update = function update() {\n    var name;\n    var data;\n    var options;\n\n    if (typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'string') {\n      name = arguments.length <= 0 ? undefined : arguments[0]; // $FlowFixMe[invalid-tuple-index]\n\n      data = arguments.length <= 1 ? undefined : arguments[1]; // $FlowFixMe[invalid-tuple-index]\n\n      options = arguments.length <= 2 ? undefined : arguments[2];\n    } else {\n      data = arguments.length <= 0 ? undefined : arguments[0]; // $FlowFixMe[invalid-tuple-index]\n\n      options = arguments.length <= 1 ? undefined : arguments[1];\n      name = null;\n    }\n\n    if (name) {\n      this.updateOne(this.map[name], data, options);\n    } else {\n      for (var index = 0; index < this.index.length; index++) {\n        this.updateOne(this.index[index], data, options);\n      }\n    }\n  }\n  /**\n   * Execute plugins, update rule props.\n   */\n  ;\n\n  _proto.updateOne = function updateOne(rule, data, options) {\n    if (options === void 0) {\n      options = defaultUpdateOptions;\n    }\n\n    var _this$options2 = this.options,\n        plugins = _this$options2.jss.plugins,\n        sheet = _this$options2.sheet; // It is a rules container like for e.g. ConditionalRule.\n\n    if (rule.rules instanceof RuleList) {\n      rule.rules.update(data, options);\n      return;\n    }\n\n    var styleRule = rule;\n    var style = styleRule.style;\n    plugins.onUpdate(data, rule, sheet, options); // We rely on a new `style` ref in case it was mutated during onUpdate hook.\n\n    if (options.process && style && style !== styleRule.style) {\n      // We need to run the plugins in case new `style` relies on syntax plugins.\n      plugins.onProcessStyle(styleRule.style, styleRule, sheet); // Update and add props.\n\n      for (var prop in styleRule.style) {\n        var nextValue = styleRule.style[prop];\n        var prevValue = style[prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (nextValue !== prevValue) {\n          styleRule.prop(prop, nextValue, forceUpdateOptions);\n        }\n      } // Remove props.\n\n\n      for (var _prop in style) {\n        var _nextValue = styleRule.style[_prop];\n        var _prevValue = style[_prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (_nextValue == null && _nextValue !== _prevValue) {\n          styleRule.prop(_prop, null, forceUpdateOptions);\n        }\n      }\n    }\n  }\n  /**\n   * Convert rules to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    var str = '';\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n\n    for (var index = 0; index < this.index.length; index++) {\n      var rule = this.index[index];\n      var css = rule.toString(options); // No need to render an empty rule.\n\n      if (!css && !link) continue;\n      if (str) str += '\\n';\n      str += css;\n    }\n\n    return str;\n  };\n\n  return RuleList;\n}();\n\nvar StyleSheet = /*#__PURE__*/function () {\n  function StyleSheet(styles, options) {\n    this.options = void 0;\n    this.deployed = void 0;\n    this.attached = void 0;\n    this.rules = void 0;\n    this.renderer = void 0;\n    this.classes = void 0;\n    this.keyframes = void 0;\n    this.queue = void 0;\n    this.attached = false;\n    this.deployed = false;\n    this.classes = {};\n    this.keyframes = {};\n    this.options = _extends({}, options, {\n      sheet: this,\n      parent: this,\n      classes: this.classes,\n      keyframes: this.keyframes\n    });\n\n    if (options.Renderer) {\n      this.renderer = new options.Renderer(this);\n    }\n\n    this.rules = new RuleList(this.options);\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Attach renderable to the render tree.\n   */\n\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.attach = function attach() {\n    if (this.attached) return this;\n    if (this.renderer) this.renderer.attach();\n    this.attached = true; // Order is important, because we can't use insertRule API if style element is not attached.\n\n    if (!this.deployed) this.deploy();\n    return this;\n  }\n  /**\n   * Remove renderable from render tree.\n   */\n  ;\n\n  _proto.detach = function detach() {\n    if (!this.attached) return this;\n    if (this.renderer) this.renderer.detach();\n    this.attached = false;\n    return this;\n  }\n  /**\n   * Add a rule to the current stylesheet.\n   * Will insert a rule also after the stylesheet has been rendered first time.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, decl, options) {\n    var queue = this.queue; // Plugins can create rules.\n    // In order to preserve the right order, we need to queue all `.addRule` calls,\n    // which happen after the first `rules.add()` call.\n\n    if (this.attached && !queue) this.queue = [];\n    var rule = this.rules.add(name, decl, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n\n    if (this.attached) {\n      if (!this.deployed) return rule; // Don't insert rule directly if there is no stringified version yet.\n      // It will be inserted all together when .attach is called.\n\n      if (queue) queue.push(rule);else {\n        this.insertRule(rule);\n\n        if (this.queue) {\n          this.queue.forEach(this.insertRule, this);\n          this.queue = undefined;\n        }\n      }\n      return rule;\n    } // We can't add rules to a detached style node.\n    // We will redeploy the sheet once user will attach it.\n\n\n    this.deployed = false;\n    return rule;\n  }\n  /**\n   * Insert rule into the StyleSheet\n   */\n  ;\n\n  _proto.insertRule = function insertRule(rule) {\n    if (this.renderer) {\n      this.renderer.insertRule(rule);\n    }\n  }\n  /**\n   * Create and add rules.\n   * Will render also after Style Sheet was rendered the first time.\n   */\n  ;\n\n  _proto.addRules = function addRules(styles, options) {\n    var added = [];\n\n    for (var name in styles) {\n      var rule = this.addRule(name, styles[name], options);\n      if (rule) added.push(rule);\n    }\n\n    return added;\n  }\n  /**\n   * Get a rule by name.\n   */\n  ;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Delete a rule by name.\n   * Returns `true`: if rule has been deleted from the DOM.\n   */\n  ;\n\n  _proto.deleteRule = function deleteRule(name) {\n    var rule = typeof name === 'object' ? name : this.rules.get(name);\n\n    if (!rule || // Style sheet was created without link: true and attached, in this case we\n    // won't be able to remove the CSS rule from the DOM.\n    this.attached && !rule.renderable) {\n      return false;\n    }\n\n    this.rules.remove(rule);\n\n    if (this.attached && rule.renderable && this.renderer) {\n      return this.renderer.deleteRule(rule.renderable);\n    }\n\n    return true;\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Deploy pure CSS string to a renderable.\n   */\n  ;\n\n  _proto.deploy = function deploy() {\n    if (this.renderer) this.renderer.deploy();\n    this.deployed = true;\n    return this;\n  }\n  /**\n   * Update the function values with a new data.\n   */\n  ;\n\n  _proto.update = function update() {\n    var _this$rules;\n\n    (_this$rules = this.rules).update.apply(_this$rules, arguments);\n\n    return this;\n  }\n  /**\n   * Updates a single rule.\n   */\n  ;\n\n  _proto.updateOne = function updateOne(rule, data, options) {\n    this.rules.updateOne(rule, data, options);\n    return this;\n  }\n  /**\n   * Convert rules to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    return this.rules.toString(options);\n  };\n\n  return StyleSheet;\n}();\n\nvar PluginsRegistry = /*#__PURE__*/function () {\n  function PluginsRegistry() {\n    this.plugins = {\n      internal: [],\n      external: []\n    };\n    this.registry = void 0;\n  }\n\n  var _proto = PluginsRegistry.prototype;\n  /**\n   * Call `onCreateRule` hooks and return an object if returned by a hook.\n   */\n\n  _proto.onCreateRule = function onCreateRule(name, decl, options) {\n    for (var i = 0; i < this.registry.onCreateRule.length; i++) {\n      var rule = this.registry.onCreateRule[i](name, decl, options);\n      if (rule) return rule;\n    }\n\n    return null;\n  }\n  /**\n   * Call `onProcessRule` hooks.\n   */\n  ;\n\n  _proto.onProcessRule = function onProcessRule(rule) {\n    if (rule.isProcessed) return;\n    var sheet = rule.options.sheet;\n\n    for (var i = 0; i < this.registry.onProcessRule.length; i++) {\n      this.registry.onProcessRule[i](rule, sheet);\n    }\n\n    if (rule.style) this.onProcessStyle(rule.style, rule, sheet);\n    rule.isProcessed = true;\n  }\n  /**\n   * Call `onProcessStyle` hooks.\n   */\n  ;\n\n  _proto.onProcessStyle = function onProcessStyle(style, rule, sheet) {\n    for (var i = 0; i < this.registry.onProcessStyle.length; i++) {\n      // $FlowFixMe[prop-missing]\n      rule.style = this.registry.onProcessStyle[i](rule.style, rule, sheet);\n    }\n  }\n  /**\n   * Call `onProcessSheet` hooks.\n   */\n  ;\n\n  _proto.onProcessSheet = function onProcessSheet(sheet) {\n    for (var i = 0; i < this.registry.onProcessSheet.length; i++) {\n      this.registry.onProcessSheet[i](sheet);\n    }\n  }\n  /**\n   * Call `onUpdate` hooks.\n   */\n  ;\n\n  _proto.onUpdate = function onUpdate(data, rule, sheet, options) {\n    for (var i = 0; i < this.registry.onUpdate.length; i++) {\n      this.registry.onUpdate[i](data, rule, sheet, options);\n    }\n  }\n  /**\n   * Call `onChangeValue` hooks.\n   */\n  ;\n\n  _proto.onChangeValue = function onChangeValue(value, prop, rule) {\n    var processedValue = value;\n\n    for (var i = 0; i < this.registry.onChangeValue.length; i++) {\n      processedValue = this.registry.onChangeValue[i](processedValue, prop, rule);\n    }\n\n    return processedValue;\n  }\n  /**\n   * Register a plugin.\n   */\n  ;\n\n  _proto.use = function use(newPlugin, options) {\n    if (options === void 0) {\n      options = {\n        queue: 'external'\n      };\n    }\n\n    var plugins = this.plugins[options.queue]; // Avoids applying same plugin twice, at least based on ref.\n\n    if (plugins.indexOf(newPlugin) !== -1) {\n      return;\n    }\n\n    plugins.push(newPlugin);\n    this.registry = [].concat(this.plugins.external, this.plugins.internal).reduce(function (registry, plugin) {\n      for (var name in plugin) {\n        if (name in registry) {\n          registry[name].push(plugin[name]);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown hook \\\"\" + name + \"\\\".\") : void 0;\n        }\n      }\n\n      return registry;\n    }, {\n      onCreateRule: [],\n      onProcessRule: [],\n      onProcessStyle: [],\n      onProcessSheet: [],\n      onChangeValue: [],\n      onUpdate: []\n    });\n  };\n\n  return PluginsRegistry;\n}();\n/**\n * Sheets registry to access them all at one place.\n */\n\n\nvar SheetsRegistry = /*#__PURE__*/function () {\n  function SheetsRegistry() {\n    this.registry = [];\n  }\n\n  var _proto = SheetsRegistry.prototype;\n  /**\n   * Register a Style Sheet.\n   */\n\n  _proto.add = function add(sheet) {\n    var registry = this.registry;\n    var index = sheet.options.index;\n    if (registry.indexOf(sheet) !== -1) return;\n\n    if (registry.length === 0 || index >= this.index) {\n      registry.push(sheet);\n      return;\n    } // Find a position.\n\n\n    for (var i = 0; i < registry.length; i++) {\n      if (registry[i].options.index > index) {\n        registry.splice(i, 0, sheet);\n        return;\n      }\n    }\n  }\n  /**\n   * Reset the registry.\n   */\n  ;\n\n  _proto.reset = function reset() {\n    this.registry = [];\n  }\n  /**\n   * Remove a Style Sheet.\n   */\n  ;\n\n  _proto.remove = function remove(sheet) {\n    var index = this.registry.indexOf(sheet);\n    this.registry.splice(index, 1);\n  }\n  /**\n   * Convert all attached sheets to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        attached = _ref.attached,\n        options = _objectWithoutPropertiesLoose(_ref, [\"attached\"]);\n\n    var css = '';\n\n    for (var i = 0; i < this.registry.length; i++) {\n      var sheet = this.registry[i];\n\n      if (attached != null && sheet.attached !== attached) {\n        continue;\n      }\n\n      if (css) css += '\\n';\n      css += sheet.toString(options);\n    }\n\n    return css;\n  };\n\n  _createClass(SheetsRegistry, [{\n    key: \"index\",\n\n    /**\n     * Current highest index number.\n     */\n    get: function get() {\n      return this.registry.length === 0 ? 0 : this.registry[this.registry.length - 1].options.index;\n    }\n  }]);\n\n  return SheetsRegistry;\n}();\n/**\n * This is a global sheets registry. Only DomRenderer will add sheets to it.\n * On the server one should use an own SheetsRegistry instance and add the\n * sheets to it, because you need to make sure to create a new registry for\n * each request in order to not leak sheets across requests.\n */\n\n\nvar registry = new SheetsRegistry();\n/* eslint-disable */\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\nvar globalThis = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nvar ns = '2f1acc6c3a606b082e5eef5e54414ffb';\nif (globalThis[ns] == null) globalThis[ns] = 0; // Bundle may contain multiple JSS versions at the same time. In order to identify\n// the current version with just one short number and use it for classes generation\n// we use a counter. Also it is more accurate, because user can manually reevaluate\n// the module.\n\nvar moduleId = globalThis[ns]++;\nvar maxRules = 1e10;\n/**\n * Returns a function which generates unique class names based on counters.\n * When new generator function is created, rule counter is reseted.\n * We need to reset the rule counter for SSR for each request.\n */\n\nvar createGenerateId = function createGenerateId(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var ruleCounter = 0;\n  return function (rule, sheet) {\n    ruleCounter += 1;\n\n    if (ruleCounter > maxRules) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] You might have a memory leak. Rule counter is at \" + ruleCounter + \".\") : void 0;\n    }\n\n    var jssId = '';\n    var prefix = '';\n\n    if (sheet) {\n      if (sheet.options.classNamePrefix) {\n        prefix = sheet.options.classNamePrefix;\n      }\n\n      if (sheet.options.jss.id != null) {\n        jssId = String(sheet.options.jss.id);\n      }\n    }\n\n    if (options.minify) {\n      // Using \"c\" because a number can't be the first char in a class name.\n      return \"\" + (prefix || 'c') + moduleId + jssId + ruleCounter;\n    }\n\n    return prefix + rule.key + \"-\" + moduleId + (jssId ? \"-\" + jssId : '') + \"-\" + ruleCounter;\n  };\n};\n/**\n * Cache the value from the first time a function is called.\n */\n\n\nvar memoize = function memoize(fn) {\n  var value;\n  return function () {\n    if (!value) value = fn();\n    return value;\n  };\n};\n/**\n * Get a style property value.\n */\n\n\nvar getPropertyValue = function getPropertyValue(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      return cssRule.attributeStyleMap.get(prop);\n    }\n\n    return cssRule.style.getPropertyValue(prop);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return '';\n  }\n};\n/**\n * Set a style property.\n */\n\n\nvar setProperty = function setProperty(cssRule, prop, value) {\n  try {\n    var cssValue = value;\n\n    if (Array.isArray(value)) {\n      cssValue = toCssValue(value, true);\n\n      if (value[value.length - 1] === '!important') {\n        cssRule.style.setProperty(prop, cssValue, 'important');\n        return true;\n      }\n    } // Support CSSTOM.\n\n\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.set(prop, cssValue);\n    } else {\n      cssRule.style.setProperty(prop, cssValue);\n    }\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false;\n  }\n\n  return true;\n};\n/**\n * Remove a style property.\n */\n\n\nvar removeProperty = function removeProperty(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.delete(prop);\n    } else {\n      cssRule.style.removeProperty(prop);\n    }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] DOMException \\\"\" + err.message + \"\\\" was thrown. Tried to remove property \\\"\" + prop + \"\\\".\") : void 0;\n  }\n};\n/**\n * Set the selector.\n */\n\n\nvar setSelector = function setSelector(cssRule, selectorText) {\n  cssRule.selectorText = selectorText; // Return false if setter was not successful.\n  // Currently works in chrome only.\n\n  return cssRule.selectorText === selectorText;\n};\n/**\n * Gets the `head` element upon the first call and caches it.\n * We assume it can't be null.\n */\n\n\nvar getHead = memoize(function () {\n  return document.querySelector('head');\n});\n/**\n * Find attached sheet with an index higher than the passed one.\n */\n\nfunction findHigherSheet(registry, options) {\n  for (var i = 0; i < registry.length; i++) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.index > options.index && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find attached sheet with the highest index.\n */\n\n\nfunction findHighestSheet(registry, options) {\n  for (var i = registry.length - 1; i >= 0; i--) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find a comment with \"jss\" inside.\n */\n\n\nfunction findCommentNode(text) {\n  var head = getHead();\n\n  for (var i = 0; i < head.childNodes.length; i++) {\n    var node = head.childNodes[i];\n\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node;\n    }\n  }\n\n  return null;\n}\n/**\n * Find a node before which we can insert the sheet.\n */\n\n\nfunction findPrevNode(options) {\n  var registry$1 = registry.registry;\n\n  if (registry$1.length > 0) {\n    // Try to insert before the next higher sheet.\n    var sheet = findHigherSheet(registry$1, options);\n\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element\n      };\n    } // Otherwise insert after the last attached.\n\n\n    sheet = findHighestSheet(registry$1, options);\n\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element.nextSibling\n      };\n    }\n  } // Try to find a comment placeholder if registry is empty.\n\n\n  var insertionPoint = options.insertionPoint;\n\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    var comment = findCommentNode(insertionPoint);\n\n    if (comment) {\n      return {\n        parent: comment.parentNode,\n        node: comment.nextSibling\n      };\n    } // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n\n\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Insertion point \\\"\" + insertionPoint + \"\\\" not found.\") : void 0;\n  }\n\n  return false;\n}\n/**\n * Insert style element into the DOM.\n */\n\n\nfunction insertStyle(style, options) {\n  var insertionPoint = options.insertionPoint;\n  var nextNode = findPrevNode(options);\n\n  if (nextNode !== false && nextNode.parent) {\n    nextNode.parent.insertBefore(style, nextNode.node);\n    return;\n  } // Works with iframes and any node types.\n\n\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n    var insertionPointElement = insertionPoint;\n    var parentNode = insertionPointElement.parentNode;\n    if (parentNode) parentNode.insertBefore(style, insertionPointElement.nextSibling);else process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Insertion point is not in the DOM.') : void 0;\n    return;\n  }\n\n  getHead().appendChild(style);\n}\n/**\n * Read jss nonce setting from the page if the user has set it.\n */\n\n\nvar getNonce = memoize(function () {\n  var node = document.querySelector('meta[property=\"csp-nonce\"]');\n  return node ? node.getAttribute('content') : null;\n});\n\nvar _insertRule = function insertRule(container, rule, index) {\n  try {\n    if ('insertRule' in container) {\n      var c = container;\n      c.insertRule(rule, index);\n    } // Keyframes rule.\n    else if ('appendRule' in container) {\n        var _c = container;\n\n        _c.appendRule(rule);\n      }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] \" + err.message) : void 0;\n    return false;\n  }\n\n  return container.cssRules[index];\n};\n\nvar getValidRuleInsertionIndex = function getValidRuleInsertionIndex(container, index) {\n  var maxIndex = container.cssRules.length; // In case previous insertion fails, passed index might be wrong\n\n  if (index === undefined || index > maxIndex) {\n    // eslint-disable-next-line no-param-reassign\n    return maxIndex;\n  }\n\n  return index;\n};\n\nvar createStyle = function createStyle() {\n  var el = document.createElement('style'); // Without it, IE will have a broken source order specificity if we\n  // insert rules after we insert the style tag.\n  // It seems to kick-off the source order specificity algorithm.\n\n  el.textContent = '\\n';\n  return el;\n};\n\nvar DomRenderer = /*#__PURE__*/function () {\n  // HTMLStyleElement needs fixing https://github.com/facebook/flow/issues/2696\n  // Will be empty if link: true option is not set, because\n  // it is only for use together with insertRule API.\n  function DomRenderer(sheet) {\n    this.getPropertyValue = getPropertyValue;\n    this.setProperty = setProperty;\n    this.removeProperty = removeProperty;\n    this.setSelector = setSelector;\n    this.element = void 0;\n    this.sheet = void 0;\n    this.hasInsertedRules = false;\n    this.cssRules = []; // There is no sheet when the renderer is used from a standalone StyleRule.\n\n    if (sheet) registry.add(sheet);\n    this.sheet = sheet;\n\n    var _ref = this.sheet ? this.sheet.options : {},\n        media = _ref.media,\n        meta = _ref.meta,\n        element = _ref.element;\n\n    this.element = element || createStyle();\n    this.element.setAttribute('data-jss', '');\n    if (media) this.element.setAttribute('media', media);\n    if (meta) this.element.setAttribute('data-meta', meta);\n    var nonce = getNonce();\n    if (nonce) this.element.setAttribute('nonce', nonce);\n  }\n  /**\n   * Insert style element into render tree.\n   */\n\n\n  var _proto = DomRenderer.prototype;\n\n  _proto.attach = function attach() {\n    // In the case the element node is external and it is already in the DOM.\n    if (this.element.parentNode || !this.sheet) return;\n    insertStyle(this.element, this.sheet.options); // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n    // most browsers create a new CSSStyleSheet, except of all IEs.\n\n    var deployed = Boolean(this.sheet && this.sheet.deployed);\n\n    if (this.hasInsertedRules && deployed) {\n      this.hasInsertedRules = false;\n      this.deploy();\n    }\n  }\n  /**\n   * Remove style element from render tree.\n   */\n  ;\n\n  _proto.detach = function detach() {\n    if (!this.sheet) return;\n    var parentNode = this.element.parentNode;\n    if (parentNode) parentNode.removeChild(this.element); // In the most browsers, rules inserted using insertRule() API will be lost when style element is removed.\n    // Though IE will keep them and we need a consistent behavior.\n\n    if (this.sheet.options.link) {\n      this.cssRules = [];\n      this.element.textContent = '\\n';\n    }\n  }\n  /**\n   * Inject CSS string into element.\n   */\n  ;\n\n  _proto.deploy = function deploy() {\n    var sheet = this.sheet;\n    if (!sheet) return;\n\n    if (sheet.options.link) {\n      this.insertRules(sheet.rules);\n      return;\n    }\n\n    this.element.textContent = \"\\n\" + sheet.toString() + \"\\n\";\n  }\n  /**\n   * Insert RuleList into an element.\n   */\n  ;\n\n  _proto.insertRules = function insertRules(rules, nativeParent) {\n    for (var i = 0; i < rules.index.length; i++) {\n      this.insertRule(rules.index[i], i, nativeParent);\n    }\n  }\n  /**\n   * Insert a rule into element.\n   */\n  ;\n\n  _proto.insertRule = function insertRule(rule, index, nativeParent) {\n    if (nativeParent === void 0) {\n      nativeParent = this.element.sheet;\n    }\n\n    if (rule.rules) {\n      var parent = rule;\n      var latestNativeParent = nativeParent;\n\n      if (rule.type === 'conditional' || rule.type === 'keyframes') {\n        var _insertionIndex = getValidRuleInsertionIndex(nativeParent, index); // We need to render the container without children first.\n\n\n        latestNativeParent = _insertRule(nativeParent, parent.toString({\n          children: false\n        }), _insertionIndex);\n\n        if (latestNativeParent === false) {\n          return false;\n        }\n\n        this.refCssRule(rule, _insertionIndex, latestNativeParent);\n      }\n\n      this.insertRules(parent.rules, latestNativeParent);\n      return latestNativeParent;\n    }\n\n    var ruleStr = rule.toString();\n    if (!ruleStr) return false;\n    var insertionIndex = getValidRuleInsertionIndex(nativeParent, index);\n\n    var nativeRule = _insertRule(nativeParent, ruleStr, insertionIndex);\n\n    if (nativeRule === false) {\n      return false;\n    }\n\n    this.hasInsertedRules = true;\n    this.refCssRule(rule, insertionIndex, nativeRule);\n    return nativeRule;\n  };\n\n  _proto.refCssRule = function refCssRule(rule, index, cssRule) {\n    rule.renderable = cssRule; // We only want to reference the top level rules, deleteRule API doesn't support removing nested rules\n    // like rules inside media queries or keyframes\n\n    if (rule.options.parent instanceof StyleSheet) {\n      this.cssRules[index] = cssRule;\n    }\n  }\n  /**\n   * Delete a rule.\n   */\n  ;\n\n  _proto.deleteRule = function deleteRule(cssRule) {\n    var sheet = this.element.sheet;\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    sheet.deleteRule(index);\n    this.cssRules.splice(index, 1);\n    return true;\n  }\n  /**\n   * Get index of a CSS Rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(cssRule) {\n    return this.cssRules.indexOf(cssRule);\n  }\n  /**\n   * Generate a new CSS rule and replace the existing one.\n   *\n   * Only used for some old browsers because they can't set a selector.\n   */\n  ;\n\n  _proto.replaceRule = function replaceRule(cssRule, rule) {\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    this.element.sheet.deleteRule(index);\n    this.cssRules.splice(index, 1);\n    return this.insertRule(rule, index);\n  }\n  /**\n   * Get all rules elements.\n   */\n  ;\n\n  _proto.getRules = function getRules() {\n    return this.element.sheet.cssRules;\n  };\n\n  return DomRenderer;\n}();\n\nvar instanceCounter = 0;\n\nvar Jss = /*#__PURE__*/function () {\n  function Jss(options) {\n    this.id = instanceCounter++;\n    this.version = \"10.5.1\";\n    this.plugins = new PluginsRegistry();\n    this.options = {\n      id: {\n        minify: false\n      },\n      createGenerateId: createGenerateId,\n      Renderer: isInBrowser ? DomRenderer : null,\n      plugins: []\n    };\n    this.generateId = createGenerateId({\n      minify: false\n    });\n\n    for (var i = 0; i < plugins.length; i++) {\n      this.plugins.use(plugins[i], {\n        queue: 'internal'\n      });\n    }\n\n    this.setup(options);\n  }\n  /**\n   * Prepares various options, applies plugins.\n   * Should not be used twice on the same instance, because there is no plugins\n   * deduplication logic.\n   */\n\n\n  var _proto = Jss.prototype;\n\n  _proto.setup = function setup(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.createGenerateId) {\n      this.options.createGenerateId = options.createGenerateId;\n    }\n\n    if (options.id) {\n      this.options.id = _extends({}, this.options.id, options.id);\n    }\n\n    if (options.createGenerateId || options.id) {\n      this.generateId = this.options.createGenerateId(this.options.id);\n    }\n\n    if (options.insertionPoint != null) this.options.insertionPoint = options.insertionPoint;\n\n    if ('Renderer' in options) {\n      this.options.Renderer = options.Renderer;\n    } // eslint-disable-next-line prefer-spread\n\n\n    if (options.plugins) this.use.apply(this, options.plugins);\n    return this;\n  }\n  /**\n   * Create a Style Sheet.\n   */\n  ;\n\n  _proto.createStyleSheet = function createStyleSheet(styles, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        index = _options.index;\n\n    if (typeof index !== 'number') {\n      index = registry.index === 0 ? 0 : registry.index + 1;\n    }\n\n    var sheet = new StyleSheet(styles, _extends({}, options, {\n      jss: this,\n      generateId: options.generateId || this.generateId,\n      insertionPoint: this.options.insertionPoint,\n      Renderer: this.options.Renderer,\n      index: index\n    }));\n    this.plugins.onProcessSheet(sheet);\n    return sheet;\n  }\n  /**\n   * Detach the Style Sheet and remove it from the registry.\n   */\n  ;\n\n  _proto.removeStyleSheet = function removeStyleSheet(sheet) {\n    sheet.detach();\n    registry.remove(sheet);\n    return this;\n  }\n  /**\n   * Create a rule without a Style Sheet.\n   * [Deprecated] will be removed in the next major version.\n   */\n  ;\n\n  _proto.createRule = function createRule$1(name, style, options) {\n    if (style === void 0) {\n      style = {};\n    }\n\n    if (options === void 0) {\n      options = {};\n    } // Enable rule without name for inline styles.\n\n\n    if (typeof name === 'object') {\n      // $FlowFixMe[incompatible-call]\n      return this.createRule(undefined, name, style);\n    } // $FlowFixMe[incompatible-type]\n\n\n    var ruleOptions = _extends({}, options, {\n      name: name,\n      jss: this,\n      Renderer: this.options.Renderer\n    });\n\n    if (!ruleOptions.generateId) ruleOptions.generateId = this.generateId;\n    if (!ruleOptions.classes) ruleOptions.classes = {};\n    if (!ruleOptions.keyframes) ruleOptions.keyframes = {};\n    var rule = createRule(name, style, ruleOptions);\n    if (rule) this.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Register plugin. Passed function will be invoked with a rule instance.\n   */\n  ;\n\n  _proto.use = function use() {\n    var _this = this;\n\n    for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n      plugins[_key] = arguments[_key];\n    }\n\n    plugins.forEach(function (plugin) {\n      _this.plugins.use(plugin);\n    });\n    return this;\n  };\n\n  return Jss;\n}();\n/**\n * Extracts a styles object with only props that contain function values.\n */\n\n\nfunction getDynamicStyles(styles) {\n  var to = null;\n\n  for (var key in styles) {\n    var value = styles[key];\n    var type = typeof value;\n\n    if (type === 'function') {\n      if (!to) to = {};\n      to[key] = value;\n    } else if (type === 'object' && value !== null && !Array.isArray(value)) {\n      var extracted = getDynamicStyles(value);\n\n      if (extracted) {\n        if (!to) to = {};\n        to[key] = extracted;\n      }\n    }\n  }\n\n  return to;\n}\n/**\n * SheetsManager is like a WeakMap which is designed to count StyleSheet\n * instances and attach/detach automatically.\n */\n\n\nvar SheetsManager = /*#__PURE__*/function () {\n  function SheetsManager() {\n    this.length = 0;\n    this.sheets = new WeakMap();\n  }\n\n  var _proto = SheetsManager.prototype;\n\n  _proto.get = function get(key) {\n    var entry = this.sheets.get(key);\n    return entry && entry.sheet;\n  };\n\n  _proto.add = function add(key, sheet) {\n    if (this.sheets.has(key)) return;\n    this.length++;\n    this.sheets.set(key, {\n      sheet: sheet,\n      refs: 0\n    });\n  };\n\n  _proto.manage = function manage(key) {\n    var entry = this.sheets.get(key);\n\n    if (entry) {\n      if (entry.refs === 0) {\n        entry.sheet.attach();\n      }\n\n      entry.refs++;\n      return entry.sheet;\n    }\n\n    warning(false, \"[JSS] SheetsManager: can't find sheet to manage\");\n    return undefined;\n  };\n\n  _proto.unmanage = function unmanage(key) {\n    var entry = this.sheets.get(key);\n\n    if (entry) {\n      if (entry.refs > 0) {\n        entry.refs--;\n        if (entry.refs === 0) entry.sheet.detach();\n      }\n    } else {\n      warning(false, \"SheetsManager: can't find sheet to unmanage\");\n    }\n  };\n\n  _createClass(SheetsManager, [{\n    key: \"size\",\n    get: function get() {\n      return this.length;\n    }\n  }]);\n\n  return SheetsManager;\n}();\n/**\n * A better abstraction over CSS.\n *\n * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n * @website https://github.com/cssinjs/jss\n * @license MIT\n */\n\n/**\n * Export a constant indicating if this browser has CSSTOM support.\n * https://developers.google.com/web/updates/2018/03/cssom\n */\n\n\nvar hasCSSTOMSupport = typeof CSS === 'object' && CSS != null && 'number' in CSS;\n/**\n * Creates a new instance of Jss.\n */\n\nvar create = function create(options) {\n  return new Jss(options);\n};\n/**\n * A global Jss instance.\n */\n\n\nvar jss = create();\nexport default jss;\nexport { RuleList, SheetsManager, SheetsRegistry, create, createGenerateId, createRule, getDynamicStyles, hasCSSTOMSupport, registry as sheets, toCssValue };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getDisplayName } from '@material-ui/utils';\nexport default function mergeClasses() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var baseClasses = options.baseClasses,\n      newClasses = options.newClasses,\n      Component = options.Component;\n\n  if (!newClasses) {\n    return baseClasses;\n  }\n\n  var nextClasses = _extends({}, baseClasses);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof newClasses === 'string') {\n      console.error([\"Material-UI: The value `\".concat(newClasses, \"` \") + \"provided to the classes prop of \".concat(getDisplayName(Component), \" is incorrect.\"), 'You might want to use the className prop instead.'].join('\\n'));\n      return baseClasses;\n    }\n  }\n\n  Object.keys(newClasses).forEach(function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!baseClasses[key] && newClasses[key]) {\n        console.error([\"Material-UI: The key `\".concat(key, \"` \") + \"provided to the classes prop is not implemented in \".concat(getDisplayName(Component), \".\"), \"You can only override one of the following: \".concat(Object.keys(baseClasses).join(','), \".\")].join('\\n'));\n      }\n\n      if (newClasses[key] && typeof newClasses[key] !== 'string') {\n        console.error([\"Material-UI: The key `\".concat(key, \"` \") + \"provided to the classes prop is not valid for \".concat(getDisplayName(Component), \".\"), \"You need to provide a non empty string instead of: \".concat(newClasses[key], \".\")].join('\\n'));\n      }\n    }\n\n    if (newClasses[key]) {\n      nextClasses[key] = \"\".concat(baseClasses[key], \" \").concat(newClasses[key]);\n    }\n  });\n  return nextClasses;\n}","// Used https://github.com/thinkloop/multi-key-cache as inspiration\nvar multiKeyStore = {\n  set: function set(cache, key1, key2, value) {\n    var subCache = cache.get(key1);\n\n    if (!subCache) {\n      subCache = new Map();\n      cache.set(key1, subCache);\n    }\n\n    subCache.set(key2, value);\n  },\n  get: function get(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    return subCache ? subCache.get(key2) : undefined;\n  },\n  delete: function _delete(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    subCache.delete(key2);\n  }\n};\nexport default multiKeyStore;","import React from 'react';\nvar ThemeContext = React.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  ThemeContext.displayName = 'ThemeContext';\n}\n\nexport default ThemeContext;","import React from 'react';\nimport ThemeContext from './ThemeContext';\nexport default function useTheme() {\n  var theme = React.useContext(ThemeContext);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue(theme);\n  }\n\n  return theme;\n}","var hasSymbol = typeof Symbol === 'function' && Symbol.for;\nexport default hasSymbol ? Symbol.for('mui.nested') : '__THEME_NESTED__';","import nested from '../ThemeProvider/nested';\n/**\n * This is the list of the style rule name we use as drop in replacement for the built-in\n * pseudo classes (:checked, :disabled, :focused, etc.).\n *\n * Why do they exist in the first place?\n * These classes are used at a specificity of 2.\n * It allows them to override previously definied styles as well as\n * being untouched by simple user overrides.\n */\n\nvar pseudoClasses = ['checked', 'disabled', 'error', 'focused', 'focusVisible', 'required', 'expanded', 'selected']; // Returns a function which generates unique class names based on counters.\n// When new generator function is created, rule counter is reset.\n// We need to reset the rule counter for SSR for each request.\n//\n// It's inspired by\n// https://github.com/cssinjs/jss/blob/4e6a05dd3f7b6572fdd3ab216861d9e446c20331/src/utils/createGenerateClassName.js\n\nexport default function createGenerateClassName() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$disableGloba = options.disableGlobal,\n      disableGlobal = _options$disableGloba === void 0 ? false : _options$disableGloba,\n      _options$productionPr = options.productionPrefix,\n      productionPrefix = _options$productionPr === void 0 ? 'jss' : _options$productionPr,\n      _options$seed = options.seed,\n      seed = _options$seed === void 0 ? '' : _options$seed;\n  var seedPrefix = seed === '' ? '' : \"\".concat(seed, \"-\");\n  var ruleCounter = 0;\n\n  var getNextCounterId = function getNextCounterId() {\n    ruleCounter += 1;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (ruleCounter >= 1e10) {\n        console.warn(['Material-UI: You might have a memory leak.', 'The ruleCounter is not supposed to grow that much.'].join(''));\n      }\n    }\n\n    return ruleCounter;\n  };\n\n  return function (rule, styleSheet) {\n    var name = styleSheet.options.name; // Is a global static MUI style?\n\n    if (name && name.indexOf('Mui') === 0 && !styleSheet.options.link && !disableGlobal) {\n      // We can use a shorthand class name, we never use the keys to style the components.\n      if (pseudoClasses.indexOf(rule.key) !== -1) {\n        return \"Mui-\".concat(rule.key);\n      }\n\n      var prefix = \"\".concat(seedPrefix).concat(name, \"-\").concat(rule.key);\n\n      if (!styleSheet.options.theme[nested] || seed !== '') {\n        return prefix;\n      }\n\n      return \"\".concat(prefix, \"-\").concat(getNextCounterId());\n    }\n\n    if (process.env.NODE_ENV === 'production') {\n      return \"\".concat(seedPrefix).concat(productionPrefix).concat(getNextCounterId());\n    }\n\n    var suffix = \"\".concat(rule.key, \"-\").concat(getNextCounterId()); // Help with debuggability.\n\n    if (styleSheet.options.classNamePrefix) {\n      return \"\".concat(seedPrefix).concat(styleSheet.options.classNamePrefix, \"-\").concat(suffix);\n    }\n\n    return \"\".concat(seedPrefix).concat(suffix);\n  };\n}","import warning from 'tiny-warning';\nimport { createRule } from 'jss';\nvar now = Date.now();\nvar fnValuesNs = \"fnValues\" + now;\nvar fnRuleNs = \"fnStyle\" + ++now;\n\nvar functionPlugin = function functionPlugin() {\n  return {\n    onCreateRule: function onCreateRule(name, decl, options) {\n      if (typeof decl !== 'function') return null;\n      var rule = createRule(name, {}, options);\n      rule[fnRuleNs] = decl;\n      return rule;\n    },\n    onProcessStyle: function onProcessStyle(style, rule) {\n      // We need to extract function values from the declaration, so that we can keep core unaware of them.\n      // We need to do that only once.\n      // We don't need to extract functions on each style update, since this can happen only once.\n      // We don't support function values inside of function rules.\n      if (fnValuesNs in rule || fnRuleNs in rule) return style;\n      var fnValues = {};\n\n      for (var prop in style) {\n        var value = style[prop];\n        if (typeof value !== 'function') continue;\n        delete style[prop];\n        fnValues[prop] = value;\n      } // $FlowFixMe[prop-missing]\n\n\n      rule[fnValuesNs] = fnValues;\n      return style;\n    },\n    onUpdate: function onUpdate(data, rule, sheet, options) {\n      var styleRule = rule; // $FlowFixMe[prop-missing]\n\n      var fnRule = styleRule[fnRuleNs]; // If we have a style function, the entire rule is dynamic and style object\n      // will be returned from that function.\n\n      if (fnRule) {\n        // Empty object will remove all currently defined props\n        // in case function rule returns a falsy value.\n        styleRule.style = fnRule(data) || {};\n\n        if (process.env.NODE_ENV === 'development') {\n          for (var prop in styleRule.style) {\n            if (typeof styleRule.style[prop] === 'function') {\n              process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Function values inside function rules are not supported.') : void 0;\n              break;\n            }\n          }\n        }\n      } // $FlowFixMe[prop-missing]\n\n\n      var fnValues = styleRule[fnValuesNs]; // If we have a fn values map, it is a rule with function values.\n\n      if (fnValues) {\n        for (var _prop in fnValues) {\n          styleRule.prop(_prop, fnValues[_prop](data), options);\n        }\n      }\n    }\n  };\n};\n\nexport default functionPlugin;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { RuleList } from 'jss';\nvar at = '@global';\nvar atPrefix = '@global ';\n\nvar GlobalContainerRule = /*#__PURE__*/function () {\n  function GlobalContainerRule(key, styles, options) {\n    this.type = 'global';\n    this.at = at;\n    this.rules = void 0;\n    this.options = void 0;\n    this.key = void 0;\n    this.isProcessed = false;\n    this.key = key;\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var selector in styles) {\n      this.rules.add(selector, styles[selector]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n\n  var _proto = GlobalContainerRule.prototype;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    if (rule) this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString() {\n    return this.rules.toString();\n  };\n\n  return GlobalContainerRule;\n}();\n\nvar GlobalPrefixedRule = /*#__PURE__*/function () {\n  function GlobalPrefixedRule(key, style, options) {\n    this.type = 'global';\n    this.at = at;\n    this.options = void 0;\n    this.rule = void 0;\n    this.isProcessed = false;\n    this.key = void 0;\n    this.key = key;\n    this.options = options;\n    var selector = key.substr(atPrefix.length);\n    this.rule = options.jss.createRule(selector, style, _extends({}, options, {\n      parent: this\n    }));\n  }\n\n  var _proto2 = GlobalPrefixedRule.prototype;\n\n  _proto2.toString = function toString(options) {\n    return this.rule ? this.rule.toString(options) : '';\n  };\n\n  return GlobalPrefixedRule;\n}();\n\nvar separatorRegExp = /\\s*,\\s*/g;\n\nfunction addScope(selector, scope) {\n  var parts = selector.split(separatorRegExp);\n  var scoped = '';\n\n  for (var i = 0; i < parts.length; i++) {\n    scoped += scope + \" \" + parts[i].trim();\n    if (parts[i + 1]) scoped += ', ';\n  }\n\n  return scoped;\n}\n\nfunction handleNestedGlobalContainerRule(rule, sheet) {\n  var options = rule.options,\n      style = rule.style;\n  var rules = style ? style[at] : null;\n  if (!rules) return;\n\n  for (var name in rules) {\n    sheet.addRule(name, rules[name], _extends({}, options, {\n      selector: addScope(name, rule.selector)\n    }));\n  }\n\n  delete style[at];\n}\n\nfunction handlePrefixedGlobalRule(rule, sheet) {\n  var options = rule.options,\n      style = rule.style;\n\n  for (var prop in style) {\n    if (prop[0] !== '@' || prop.substr(0, at.length) !== at) continue;\n    var selector = addScope(prop.substr(at.length), rule.selector);\n    sheet.addRule(selector, style[prop], _extends({}, options, {\n      selector: selector\n    }));\n    delete style[prop];\n  }\n}\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\n\n\nfunction jssGlobal() {\n  function onCreateRule(name, styles, options) {\n    if (!name) return null;\n\n    if (name === at) {\n      return new GlobalContainerRule(name, styles, options);\n    }\n\n    if (name[0] === '@' && name.substr(0, atPrefix.length) === atPrefix) {\n      return new GlobalPrefixedRule(name, styles, options);\n    }\n\n    var parent = options.parent;\n\n    if (parent) {\n      if (parent.type === 'global' || parent.options.parent && parent.options.parent.type === 'global') {\n        options.scoped = false;\n      }\n    }\n\n    if (options.scoped === false) {\n      options.selector = name;\n    }\n\n    return null;\n  }\n\n  function onProcessRule(rule, sheet) {\n    if (rule.type !== 'style' || !sheet) return;\n    handleNestedGlobalContainerRule(rule, sheet);\n    handlePrefixedGlobalRule(rule, sheet);\n  }\n\n  return {\n    onCreateRule: onCreateRule,\n    onProcessRule: onProcessRule\n  };\n}\n\nexport default jssGlobal;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport warning from 'tiny-warning';\nvar separatorRegExp = /\\s*,\\s*/g;\nvar parentRegExp = /&/g;\nvar refRegExp = /\\$([\\w-]+)/g;\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\n\nfunction jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container, sheet) {\n    return function (match, key) {\n      var rule = container.getRule(key) || sheet && sheet.getRule(key);\n\n      if (rule) {\n        rule = rule;\n        return rule.selector;\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Could not find the referenced rule \\\"\" + key + \"\\\" in \\\"\" + (container.options.meta || container.toString()) + \"\\\".\") : void 0;\n      return key;\n    };\n  }\n\n  function replaceParentRefs(nestedProp, parentProp) {\n    var parentSelectors = parentProp.split(separatorRegExp);\n    var nestedSelectors = nestedProp.split(separatorRegExp);\n    var result = '';\n\n    for (var i = 0; i < parentSelectors.length; i++) {\n      var parent = parentSelectors[i];\n\n      for (var j = 0; j < nestedSelectors.length; j++) {\n        var nested = nestedSelectors[j];\n        if (result) result += ', '; // Replace all & by the parent or prefix & with the parent.\n\n        result += nested.indexOf('&') !== -1 ? nested.replace(parentRegExp, parent) : parent + \" \" + nested;\n      }\n    }\n\n    return result;\n  }\n\n  function getOptions(rule, container, prevOptions) {\n    // Options has been already created, now we only increase index.\n    if (prevOptions) return _extends({}, prevOptions, {\n      index: prevOptions.index + 1 // $FlowFixMe[prop-missing]\n\n    });\n    var nestingLevel = rule.options.nestingLevel;\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1;\n\n    var options = _extends({}, rule.options, {\n      nestingLevel: nestingLevel,\n      index: container.indexOf(rule) + 1 // We don't need the parent name to be set options for chlid.\n\n    });\n\n    delete options.name;\n    return options;\n  }\n\n  function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style') return style;\n    var styleRule = rule;\n    var container = styleRule.options.parent;\n    var options;\n    var replaceRef;\n\n    for (var prop in style) {\n      var isNested = prop.indexOf('&') !== -1;\n      var isNestedConditional = prop[0] === '@';\n      if (!isNested && !isNestedConditional) continue;\n      options = getOptions(styleRule, container, options);\n\n      if (isNested) {\n        var selector = replaceParentRefs(prop, styleRule.selector); // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n\n        if (!replaceRef) replaceRef = getReplaceRef(container, sheet); // Replace all $refs.\n\n        selector = selector.replace(refRegExp, replaceRef);\n        container.addRule(selector, style[prop], _extends({}, options, {\n          selector: selector\n        }));\n      } else if (isNestedConditional) {\n        // Place conditional right after the parent rule to ensure right ordering.\n        container.addRule(prop, {}, options) // Flow expects more options but they aren't required\n        // And flow doesn't know this will always be a StyleRule which has the addRule method\n        // $FlowFixMe[incompatible-use]\n        // $FlowFixMe[prop-missing]\n        .addRule(styleRule.key, style[prop], {\n          selector: styleRule.selector\n        });\n      }\n\n      delete style[prop];\n    }\n\n    return style;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle\n  };\n}\n\nexport default jssNested;","/* eslint-disable no-var, prefer-template */\nvar uppercasePattern = /[A-Z]/g;\nvar msPattern = /^ms-/;\nvar cache = {};\n\nfunction toHyphenLower(match) {\n  return '-' + match.toLowerCase();\n}\n\nfunction hyphenateStyleName(name) {\n  if (cache.hasOwnProperty(name)) {\n    return cache[name];\n  }\n\n  var hName = name.replace(uppercasePattern, toHyphenLower);\n  return cache[name] = msPattern.test(hName) ? '-' + hName : hName;\n}\n\nexport default hyphenateStyleName;","import hyphenate from 'hyphenate-style-name';\n/**\n * Convert camel cased property names to dash separated.\n *\n * @param {Object} style\n * @return {Object}\n */\n\nfunction convertCase(style) {\n  var converted = {};\n\n  for (var prop in style) {\n    var key = prop.indexOf('--') === 0 ? prop : hyphenate(prop);\n    converted[key] = style[prop];\n  }\n\n  if (style.fallbacks) {\n    if (Array.isArray(style.fallbacks)) converted.fallbacks = style.fallbacks.map(convertCase);else converted.fallbacks = convertCase(style.fallbacks);\n  }\n\n  return converted;\n}\n/**\n * Allow camel cased property names by converting them back to dasherized.\n *\n * @param {Rule} rule\n */\n\n\nfunction camelCase() {\n  function onProcessStyle(style) {\n    if (Array.isArray(style)) {\n      // Handle rules like @font-face, which can have multiple styles in an array\n      for (var index = 0; index < style.length; index++) {\n        style[index] = convertCase(style[index]);\n      }\n\n      return style;\n    }\n\n    return convertCase(style);\n  }\n\n  function onChangeValue(value, prop, rule) {\n    if (prop.indexOf('--') === 0) {\n      return value;\n    }\n\n    var hyphenatedProp = hyphenate(prop); // There was no camel case in place\n\n    if (prop === hyphenatedProp) return value;\n    rule.prop(hyphenatedProp, value); // Core will ignore that property value we set the proper one above.\n\n    return null;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default camelCase;","import { hasCSSTOMSupport } from 'jss';\nvar px = hasCSSTOMSupport && CSS ? CSS.px : 'px';\nvar ms = hasCSSTOMSupport && CSS ? CSS.ms : 'ms';\nvar percent = hasCSSTOMSupport && CSS ? CSS.percent : '%';\n/**\n * Generated jss-plugin-default-unit CSS property units\n *\n * @type object\n */\n\nvar defaultUnits = {\n  // Animation properties\n  'animation-delay': ms,\n  'animation-duration': ms,\n  // Background properties\n  'background-position': px,\n  'background-position-x': px,\n  'background-position-y': px,\n  'background-size': px,\n  // Border Properties\n  border: px,\n  'border-bottom': px,\n  'border-bottom-left-radius': px,\n  'border-bottom-right-radius': px,\n  'border-bottom-width': px,\n  'border-left': px,\n  'border-left-width': px,\n  'border-radius': px,\n  'border-right': px,\n  'border-right-width': px,\n  'border-top': px,\n  'border-top-left-radius': px,\n  'border-top-right-radius': px,\n  'border-top-width': px,\n  'border-width': px,\n  'border-block': px,\n  'border-block-end': px,\n  'border-block-end-width': px,\n  'border-block-start': px,\n  'border-block-start-width': px,\n  'border-block-width': px,\n  'border-inline': px,\n  'border-inline-end': px,\n  'border-inline-end-width': px,\n  'border-inline-start': px,\n  'border-inline-start-width': px,\n  'border-inline-width': px,\n  'border-start-start-radius': px,\n  'border-start-end-radius': px,\n  'border-end-start-radius': px,\n  'border-end-end-radius': px,\n  // Margin properties\n  margin: px,\n  'margin-bottom': px,\n  'margin-left': px,\n  'margin-right': px,\n  'margin-top': px,\n  'margin-block': px,\n  'margin-block-end': px,\n  'margin-block-start': px,\n  'margin-inline': px,\n  'margin-inline-end': px,\n  'margin-inline-start': px,\n  // Padding properties\n  padding: px,\n  'padding-bottom': px,\n  'padding-left': px,\n  'padding-right': px,\n  'padding-top': px,\n  'padding-block': px,\n  'padding-block-end': px,\n  'padding-block-start': px,\n  'padding-inline': px,\n  'padding-inline-end': px,\n  'padding-inline-start': px,\n  // Mask properties\n  'mask-position-x': px,\n  'mask-position-y': px,\n  'mask-size': px,\n  // Width and height properties\n  height: px,\n  width: px,\n  'min-height': px,\n  'max-height': px,\n  'min-width': px,\n  'max-width': px,\n  // Position properties\n  bottom: px,\n  left: px,\n  top: px,\n  right: px,\n  inset: px,\n  'inset-block': px,\n  'inset-block-end': px,\n  'inset-block-start': px,\n  'inset-inline': px,\n  'inset-inline-end': px,\n  'inset-inline-start': px,\n  // Shadow properties\n  'box-shadow': px,\n  'text-shadow': px,\n  // Column properties\n  'column-gap': px,\n  'column-rule': px,\n  'column-rule-width': px,\n  'column-width': px,\n  // Font and text properties\n  'font-size': px,\n  'font-size-delta': px,\n  'letter-spacing': px,\n  'text-decoration-thickness': px,\n  'text-indent': px,\n  'text-stroke': px,\n  'text-stroke-width': px,\n  'word-spacing': px,\n  // Motion properties\n  motion: px,\n  'motion-offset': px,\n  // Outline properties\n  outline: px,\n  'outline-offset': px,\n  'outline-width': px,\n  // Perspective properties\n  perspective: px,\n  'perspective-origin-x': percent,\n  'perspective-origin-y': percent,\n  // Transform properties\n  'transform-origin': percent,\n  'transform-origin-x': percent,\n  'transform-origin-y': percent,\n  'transform-origin-z': percent,\n  // Transition properties\n  'transition-delay': ms,\n  'transition-duration': ms,\n  // Alignment properties\n  'vertical-align': px,\n  'flex-basis': px,\n  // Some random properties\n  'shape-margin': px,\n  size: px,\n  gap: px,\n  // Grid properties\n  grid: px,\n  'grid-gap': px,\n  'row-gap': px,\n  'grid-row-gap': px,\n  'grid-column-gap': px,\n  'grid-template-rows': px,\n  'grid-template-columns': px,\n  'grid-auto-rows': px,\n  'grid-auto-columns': px,\n  // Not existing properties.\n  // Used to avoid issues with jss-plugin-expand integration.\n  'box-shadow-x': px,\n  'box-shadow-y': px,\n  'box-shadow-blur': px,\n  'box-shadow-spread': px,\n  'font-line-height': px,\n  'text-shadow-x': px,\n  'text-shadow-y': px,\n  'text-shadow-blur': px\n};\n/**\n * Clones the object and adds a camel cased property version.\n */\n\nfunction addCamelCasedVersion(obj) {\n  var regExp = /(-[a-z])/g;\n\n  var replace = function replace(str) {\n    return str[1].toUpperCase();\n  };\n\n  var newObj = {};\n\n  for (var _key in obj) {\n    newObj[_key] = obj[_key];\n    newObj[_key.replace(regExp, replace)] = obj[_key];\n  }\n\n  return newObj;\n}\n\nvar units = addCamelCasedVersion(defaultUnits);\n/**\n * Recursive deep style passing function\n */\n\nfunction iterate(prop, value, options) {\n  if (value == null) return value;\n\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; i++) {\n      value[i] = iterate(prop, value[i], options);\n    }\n  } else if (typeof value === 'object') {\n    if (prop === 'fallbacks') {\n      for (var innerProp in value) {\n        value[innerProp] = iterate(innerProp, value[innerProp], options);\n      }\n    } else {\n      for (var _innerProp in value) {\n        value[_innerProp] = iterate(prop + \"-\" + _innerProp, value[_innerProp], options);\n      }\n    }\n  } else if (typeof value === 'number' && !Number.isNaN(value)) {\n    var unit = options[prop] || units[prop]; // Add the unit if available, except for the special case of 0px.\n\n    if (unit && !(value === 0 && unit === px)) {\n      return typeof unit === 'function' ? unit(value).toString() : \"\" + value + unit;\n    }\n\n    return value.toString();\n  }\n\n  return value;\n}\n/**\n * Add unit to numeric values.\n */\n\n\nfunction defaultUnit(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var camelCasedOptions = addCamelCasedVersion(options);\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n\n    for (var prop in style) {\n      style[prop] = iterate(prop, style[prop], camelCasedOptions);\n    }\n\n    return style;\n  }\n\n  function onChangeValue(value, prop) {\n    return iterate(prop, value, camelCasedOptions);\n  }\n\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default defaultUnit;","import \"core-js/modules/es.array.reduce.js\";\nimport isInBrowser from 'is-in-browser';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray'; // Export javascript style and css style vendor prefixes.\n\nvar js = '';\nvar css = '';\nvar vendor = '';\nvar browser = '';\nvar isTouch = isInBrowser && 'ontouchstart' in document.documentElement; // We should not do anything if required serverside.\n\nif (isInBrowser) {\n  // Order matters. We need to check Webkit the last one because\n  // other vendors use to add Webkit prefixes to some properties\n  var jsCssMap = {\n    Moz: '-moz-',\n    ms: '-ms-',\n    O: '-o-',\n    Webkit: '-webkit-'\n  };\n\n  var _document$createEleme = document.createElement('p'),\n      style = _document$createEleme.style;\n\n  var testProp = 'Transform';\n\n  for (var key in jsCssMap) {\n    if (key + testProp in style) {\n      js = key;\n      css = jsCssMap[key];\n      break;\n    }\n  } // Correctly detect the Edge browser.\n\n\n  if (js === 'Webkit' && 'msHyphens' in style) {\n    js = 'ms';\n    css = jsCssMap.ms;\n    browser = 'edge';\n  } // Correctly detect the Safari browser.\n\n\n  if (js === 'Webkit' && '-apple-trailing-word' in style) {\n    vendor = 'apple';\n  }\n}\n/**\n * Vendor prefix string for the current browser.\n *\n * @type {{js: String, css: String, vendor: String, browser: String}}\n * @api public\n */\n\n\nvar prefix = {\n  js: js,\n  css: css,\n  vendor: vendor,\n  browser: browser,\n  isTouch: isTouch\n};\n/**\n * Test if a keyframe at-rule should be prefixed or not\n *\n * @param {String} vendor prefix string for the current browser.\n * @return {String}\n * @api public\n */\n\nfunction supportedKeyframes(key) {\n  // Keyframes is already prefixed. e.g. key = '@-webkit-keyframes a'\n  if (key[1] === '-') return key; // No need to prefix IE/Edge. Older browsers will ignore unsupported rules.\n  // https://caniuse.com/#search=keyframes\n\n  if (prefix.js === 'ms') return key;\n  return \"@\" + prefix.css + \"keyframes\" + key.substr(10);\n} // https://caniuse.com/#search=appearance\n\n\nvar appearence = {\n  noPrefill: ['appearance'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'appearance') return false;\n    if (prefix.js === 'ms') return \"-webkit-\" + prop;\n    return prefix.css + prop;\n  }\n}; // https://caniuse.com/#search=color-adjust\n\nvar colorAdjust = {\n  noPrefill: ['color-adjust'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'color-adjust') return false;\n    if (prefix.js === 'Webkit') return prefix.css + \"print-\" + prop;\n    return prop;\n  }\n};\nvar regExp = /[-\\s]+(.)?/g;\n/**\n * Replaces the letter with the capital letter\n *\n * @param {String} match\n * @param {String} c\n * @return {String}\n * @api private\n */\n\nfunction toUpper(match, c) {\n  return c ? c.toUpperCase() : '';\n}\n/**\n * Convert dash separated strings to camel-cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\n\nfunction camelize(str) {\n  return str.replace(regExp, toUpper);\n}\n/**\n * Convert dash separated strings to pascal cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\n\nfunction pascalize(str) {\n  return camelize(\"-\" + str);\n} // but we can use a longhand property instead.\n// https://caniuse.com/#search=mask\n\n\nvar mask = {\n  noPrefill: ['mask'],\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^mask/.test(prop)) return false;\n\n    if (prefix.js === 'Webkit') {\n      var longhand = 'mask-image';\n\n      if (camelize(longhand) in style) {\n        return prop;\n      }\n\n      if (prefix.js + pascalize(longhand) in style) {\n        return prefix.css + prop;\n      }\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=text-orientation\n\nvar textOrientation = {\n  noPrefill: ['text-orientation'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'text-orientation') return false;\n\n    if (prefix.vendor === 'apple' && !prefix.isTouch) {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=transform\n\nvar transform = {\n  noPrefill: ['transform'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transform') return false;\n\n    if (options.transform) {\n      return prop;\n    }\n\n    return prefix.css + prop;\n  }\n}; // https://caniuse.com/#search=transition\n\nvar transition = {\n  noPrefill: ['transition'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transition') return false;\n\n    if (options.transition) {\n      return prop;\n    }\n\n    return prefix.css + prop;\n  }\n}; // https://caniuse.com/#search=writing-mode\n\nvar writingMode = {\n  noPrefill: ['writing-mode'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'writing-mode') return false;\n\n    if (prefix.js === 'Webkit' || prefix.js === 'ms' && prefix.browser !== 'edge') {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=user-select\n\nvar userSelect = {\n  noPrefill: ['user-select'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'user-select') return false;\n\n    if (prefix.js === 'Moz' || prefix.js === 'ms' || prefix.vendor === 'apple') {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=multicolumn\n// https://github.com/postcss/autoprefixer/issues/491\n// https://github.com/postcss/autoprefixer/issues/177\n\nvar breakPropsOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^break-/.test(prop)) return false;\n\n    if (prefix.js === 'Webkit') {\n      var jsProp = \"WebkitColumn\" + pascalize(prop);\n      return jsProp in style ? prefix.css + \"column-\" + prop : false;\n    }\n\n    if (prefix.js === 'Moz') {\n      var _jsProp = \"page\" + pascalize(prop);\n\n      return _jsProp in style ? \"page-\" + prop : false;\n    }\n\n    return false;\n  }\n}; // See https://github.com/postcss/autoprefixer/issues/324.\n\nvar inlineLogicalOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^(border|margin|padding)-inline/.test(prop)) return false;\n    if (prefix.js === 'Moz') return prop;\n    var newProp = prop.replace('-inline', '');\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n}; // Camelization is required because we can't test using.\n// CSS syntax for e.g. in FF.\n\nvar unprefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    return camelize(prop) in style ? prop : false;\n  }\n};\nvar prefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var pascalized = pascalize(prop); // Return custom CSS variable without prefixing.\n\n    if (prop[0] === '-') return prop; // Return already prefixed value without prefixing.\n\n    if (prop[0] === '-' && prop[1] === '-') return prop;\n    if (prefix.js + pascalized in style) return prefix.css + prop; // Try webkit fallback.\n\n    if (prefix.js !== 'Webkit' && \"Webkit\" + pascalized in style) return \"-webkit-\" + prop;\n    return false;\n  }\n}; // https://caniuse.com/#search=scroll-snap\n\nvar scrollSnap = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop.substring(0, 11) !== 'scroll-snap') return false;\n\n    if (prefix.js === 'ms') {\n      return \"\" + prefix.css + prop;\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=overscroll-behavior\n\nvar overscrollBehavior = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'overscroll-behavior') return false;\n\n    if (prefix.js === 'ms') {\n      return prefix.css + \"scroll-chaining\";\n    }\n\n    return prop;\n  }\n};\nvar propMap = {\n  'flex-grow': 'flex-positive',\n  'flex-shrink': 'flex-negative',\n  'flex-basis': 'flex-preferred-size',\n  'justify-content': 'flex-pack',\n  order: 'flex-order',\n  'align-items': 'flex-align',\n  'align-content': 'flex-line-pack' // 'align-self' is handled by 'align-self' plugin.\n\n}; // Support old flex spec from 2012.\n\nvar flex2012 = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var newProp = propMap[prop];\n    if (!newProp) return false;\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n};\nvar propMap$1 = {\n  flex: 'box-flex',\n  'flex-grow': 'box-flex',\n  'flex-direction': ['box-orient', 'box-direction'],\n  order: 'box-ordinal-group',\n  'align-items': 'box-align',\n  'flex-flow': ['box-orient', 'box-direction'],\n  'justify-content': 'box-pack'\n};\nvar propKeys = Object.keys(propMap$1);\n\nvar prefixCss = function prefixCss(p) {\n  return prefix.css + p;\n}; // Support old flex spec from 2009.\n\n\nvar flex2009 = {\n  supportedProperty: function supportedProperty(prop, style, _ref) {\n    var multiple = _ref.multiple;\n\n    if (propKeys.indexOf(prop) > -1) {\n      var newProp = propMap$1[prop];\n\n      if (!Array.isArray(newProp)) {\n        return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n      }\n\n      if (!multiple) return false;\n\n      for (var i = 0; i < newProp.length; i++) {\n        if (!(prefix.js + pascalize(newProp[0]) in style)) {\n          return false;\n        }\n      }\n\n      return newProp.map(prefixCss);\n    }\n\n    return false;\n  }\n}; // plugins = [\n//   ...plugins,\n//    breakPropsOld,\n//    inlineLogicalOld,\n//    unprefixed,\n//    prefixed,\n//    scrollSnap,\n//    flex2012,\n//    flex2009\n// ]\n// Plugins without 'noPrefill' value, going last.\n// 'flex-*' plugins should be at the bottom.\n// 'flex2009' going after 'flex2012'.\n// 'prefixed' going after 'unprefixed'\n\nvar plugins = [appearence, colorAdjust, mask, textOrientation, transform, transition, writingMode, userSelect, breakPropsOld, inlineLogicalOld, unprefixed, prefixed, scrollSnap, overscrollBehavior, flex2012, flex2009];\nvar propertyDetectors = plugins.filter(function (p) {\n  return p.supportedProperty;\n}).map(function (p) {\n  return p.supportedProperty;\n});\nvar noPrefill = plugins.filter(function (p) {\n  return p.noPrefill;\n}).reduce(function (a, p) {\n  a.push.apply(a, _toConsumableArray(p.noPrefill));\n  return a;\n}, []);\nvar el;\nvar cache = {};\n\nif (isInBrowser) {\n  el = document.createElement('p'); // We test every property on vendor prefix requirement.\n  // Once tested, result is cached. It gives us up to 70% perf boost.\n  // http://jsperf.com/element-style-object-access-vs-plain-object\n  //\n  // Prefill cache with known css properties to reduce amount of\n  // properties we need to feature test at runtime.\n  // http://davidwalsh.name/vendor-prefix\n\n  var computed = window.getComputedStyle(document.documentElement, '');\n\n  for (var key$1 in computed) {\n    // eslint-disable-next-line no-restricted-globals\n    if (!isNaN(key$1)) cache[computed[key$1]] = computed[key$1];\n  } // Properties that cannot be correctly detected using the\n  // cache prefill method.\n\n\n  noPrefill.forEach(function (x) {\n    return delete cache[x];\n  });\n}\n/**\n * Test if a property is supported, returns supported property with vendor\n * prefix if required. Returns `false` if not supported.\n *\n * @param {String} prop dash separated\n * @param {Object} [options]\n * @return {String|Boolean}\n * @api public\n */\n\n\nfunction supportedProperty(prop, options) {\n  if (options === void 0) {\n    options = {};\n  } // For server-side rendering.\n\n\n  if (!el) return prop; // Remove cache for benchmark tests or return property from the cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache[prop] != null) {\n    return cache[prop];\n  } // Check if 'transition' or 'transform' natively supported in browser.\n\n\n  if (prop === 'transition' || prop === 'transform') {\n    options[prop] = prop in el.style;\n  } // Find a plugin for current prefix property.\n\n\n  for (var i = 0; i < propertyDetectors.length; i++) {\n    cache[prop] = propertyDetectors[i](prop, el.style, options); // Break loop, if value found.\n\n    if (cache[prop]) break;\n  } // Reset styles for current property.\n  // Firefox can even throw an error for invalid properties, e.g., \"0\".\n\n\n  try {\n    el.style[prop] = '';\n  } catch (err) {\n    return false;\n  }\n\n  return cache[prop];\n}\n\nvar cache$1 = {};\nvar transitionProperties = {\n  transition: 1,\n  'transition-property': 1,\n  '-webkit-transition': 1,\n  '-webkit-transition-property': 1\n};\nvar transPropsRegExp = /(^\\s*[\\w-]+)|, (\\s*[\\w-]+)(?![^()]*\\))/g;\nvar el$1;\n/**\n * Returns prefixed value transition/transform if needed.\n *\n * @param {String} match\n * @param {String} p1\n * @param {String} p2\n * @return {String}\n * @api private\n */\n\nfunction prefixTransitionCallback(match, p1, p2) {\n  if (p1 === 'var') return 'var';\n  if (p1 === 'all') return 'all';\n  if (p2 === 'all') return ', all';\n  var prefixedValue = p1 ? supportedProperty(p1) : \", \" + supportedProperty(p2);\n  if (!prefixedValue) return p1 || p2;\n  return prefixedValue;\n}\n\nif (isInBrowser) el$1 = document.createElement('p');\n/**\n * Returns prefixed value if needed. Returns `false` if value is not supported.\n *\n * @param {String} property\n * @param {String} value\n * @return {String|Boolean}\n * @api public\n */\n\nfunction supportedValue(property, value) {\n  // For server-side rendering.\n  var prefixedValue = value;\n  if (!el$1 || property === 'content') return value; // It is a string or a number as a string like '1'.\n  // We want only prefixable values here.\n  // eslint-disable-next-line no-restricted-globals\n\n  if (typeof prefixedValue !== 'string' || !isNaN(parseInt(prefixedValue, 10))) {\n    return prefixedValue;\n  } // Create cache key for current value.\n\n\n  var cacheKey = property + prefixedValue; // Remove cache for benchmark tests or return value from cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache$1[cacheKey] != null) {\n    return cache$1[cacheKey];\n  } // IE can even throw an error in some cases, for e.g. style.content = 'bar'.\n\n\n  try {\n    // Test value as it is.\n    el$1.style[property] = prefixedValue;\n  } catch (err) {\n    // Return false if value not supported.\n    cache$1[cacheKey] = false;\n    return false;\n  } // If 'transition' or 'transition-property' property.\n\n\n  if (transitionProperties[property]) {\n    prefixedValue = prefixedValue.replace(transPropsRegExp, prefixTransitionCallback);\n  } else if (el$1.style[property] === '') {\n    // Value with a vendor prefix.\n    prefixedValue = prefix.css + prefixedValue; // Hardcode test to convert \"flex\" to \"-ms-flexbox\" for IE10.\n\n    if (prefixedValue === '-ms-flex') el$1.style[property] = '-ms-flexbox'; // Test prefixed value.\n\n    el$1.style[property] = prefixedValue; // Return false if value not supported.\n\n    if (el$1.style[property] === '') {\n      cache$1[cacheKey] = false;\n      return false;\n    }\n  } // Reset styles for current property.\n\n\n  el$1.style[property] = ''; // Write current value to cache.\n\n  cache$1[cacheKey] = prefixedValue;\n  return cache$1[cacheKey];\n}\n\nexport { prefix, supportedKeyframes, supportedProperty, supportedValue };","import { supportedKeyframes, supportedValue, supportedProperty } from 'css-vendor';\nimport { toCssValue } from 'jss';\n/**\n * Add vendor prefix to a property name when needed.\n *\n * @api public\n */\n\nfunction jssVendorPrefixer() {\n  function onProcessRule(rule) {\n    if (rule.type === 'keyframes') {\n      var atRule = rule;\n      atRule.at = supportedKeyframes(atRule.at);\n    }\n  }\n\n  function prefixStyle(style) {\n    for (var prop in style) {\n      var value = style[prop];\n\n      if (prop === 'fallbacks' && Array.isArray(value)) {\n        style[prop] = value.map(prefixStyle);\n        continue;\n      }\n\n      var changeProp = false;\n      var supportedProp = supportedProperty(prop);\n      if (supportedProp && supportedProp !== prop) changeProp = true;\n      var changeValue = false;\n      var supportedValue$1 = supportedValue(supportedProp, toCssValue(value));\n      if (supportedValue$1 && supportedValue$1 !== value) changeValue = true;\n\n      if (changeProp || changeValue) {\n        if (changeProp) delete style[prop];\n        style[supportedProp || prop] = supportedValue$1 || value;\n      }\n    }\n\n    return style;\n  }\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n    return prefixStyle(style);\n  }\n\n  function onChangeValue(value, prop) {\n    return supportedValue(prop, toCssValue(value)) || value;\n  }\n\n  return {\n    onProcessRule: onProcessRule,\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default jssVendorPrefixer;","/**\n * Sort props by length.\n */\nfunction jssPropsSort() {\n  var sort = function sort(prop0, prop1) {\n    if (prop0.length === prop1.length) {\n      return prop0 > prop1 ? 1 : -1;\n    }\n\n    return prop0.length - prop1.length;\n  };\n\n  return {\n    onProcessStyle: function onProcessStyle(style, rule) {\n      if (rule.type !== 'style') return style;\n      var newStyle = {};\n      var props = Object.keys(style).sort(sort);\n\n      for (var i = 0; i < props.length; i++) {\n        newStyle[props[i]] = style[props[i]];\n      }\n\n      return newStyle;\n    }\n  };\n}\n\nexport default jssPropsSort;","import functions from 'jss-plugin-rule-value-function';\nimport global from 'jss-plugin-global';\nimport nested from 'jss-plugin-nested';\nimport camelCase from 'jss-plugin-camel-case';\nimport defaultUnit from 'jss-plugin-default-unit';\nimport vendorPrefixer from 'jss-plugin-vendor-prefixer';\nimport propsSort from 'jss-plugin-props-sort'; // Subset of jss-preset-default with only the plugins the Material-UI components are using.\n\nexport default function jssPreset() {\n  return {\n    plugins: [functions(), global(), nested(), camelCase(), defaultUnit(), // Disable the vendor prefixer server-side, it does nothing.\n    // This way, we can get a performance boost.\n    // In the documentation, we are using `autoprefixer` to solve this problem.\n    typeof window === 'undefined' ? null : vendorPrefixer(), propsSort()]\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport { exactProp } from '@material-ui/utils';\nimport createGenerateClassName from '../createGenerateClassName';\nimport { create } from 'jss';\nimport jssPreset from '../jssPreset'; // Default JSS instance.\n\nvar jss = create(jssPreset()); // Use a singleton or the provided one by the context.\n//\n// The counter-based approach doesn't tolerate any mistake.\n// It's much safer to use the same counter everywhere.\n\nvar generateClassName = createGenerateClassName(); // Exported for test purposes\n\nexport var sheetsManager = new Map();\nvar defaultOptions = {\n  disableGeneration: false,\n  generateClassName: generateClassName,\n  jss: jss,\n  sheetsCache: null,\n  sheetsManager: sheetsManager,\n  sheetsRegistry: null\n};\nexport var StylesContext = React.createContext(defaultOptions);\n\nif (process.env.NODE_ENV !== 'production') {\n  StylesContext.displayName = 'StylesContext';\n}\n\nvar injectFirstNode;\nexport default function StylesProvider(props) {\n  var children = props.children,\n      _props$injectFirst = props.injectFirst,\n      injectFirst = _props$injectFirst === void 0 ? false : _props$injectFirst,\n      _props$disableGenerat = props.disableGeneration,\n      disableGeneration = _props$disableGenerat === void 0 ? false : _props$disableGenerat,\n      localOptions = _objectWithoutProperties(props, [\"children\", \"injectFirst\", \"disableGeneration\"]);\n\n  var outerOptions = React.useContext(StylesContext);\n\n  var context = _extends({}, outerOptions, {\n    disableGeneration: disableGeneration\n  }, localOptions);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof window === 'undefined' && !context.sheetsManager) {\n      console.error('Material-UI: You need to use the ServerStyleSheets API when rendering on the server.');\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (context.jss.options.insertionPoint && injectFirst) {\n      console.error('Material-UI: You cannot use a custom insertionPoint and <StylesContext injectFirst> at the same time.');\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (injectFirst && localOptions.jss) {\n      console.error('Material-UI: You cannot use the jss and injectFirst props at the same time.');\n    }\n  }\n\n  if (!context.jss.options.insertionPoint && injectFirst && typeof window !== 'undefined') {\n    if (!injectFirstNode) {\n      var head = document.head;\n      injectFirstNode = document.createComment('mui-inject-first');\n      head.insertBefore(injectFirstNode, head.firstChild);\n    }\n\n    context.jss = create({\n      plugins: jssPreset().plugins,\n      insertionPoint: injectFirstNode\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(StylesContext.Provider, {\n    value: context\n  }, children);\n}\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n}","/* eslint-disable import/prefer-default-export */\n// Global index counter to preserve source order.\n// We create the style sheet during the creation of the component,\n// children are handled after the parents, so the order of style elements would be parent->child.\n// It is a problem though when a parent passes a className\n// which needs to override any child's styles.\n// StyleSheet of the child has a higher specificity, because of the source order.\n// So our solution is to render sheets them in the reverse order child->sheet, so\n// that parent has a higher specificity.\nvar indexCounter = -1e9;\nexport function increment() {\n  indexCounter += 1;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (indexCounter >= 0) {\n      console.warn(['Material-UI: You might have a memory leak.', 'The indexCounter is not supposed to grow that much.'].join('\\n'));\n    }\n  }\n\n  return indexCounter;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport function isPlainObject(item) {\n  return item && _typeof(item) === 'object' && item.constructor === Object;\n}\nexport default function deepmerge(target, source) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    clone: true\n  };\n  var output = options.clone ? _extends({}, target) : target;\n\n  if (isPlainObject(target) && isPlainObject(source)) {\n    Object.keys(source).forEach(function (key) {\n      // Avoid prototype pollution\n      if (key === '__proto__') {\n        return;\n      }\n\n      if (isPlainObject(source[key]) && key in target) {\n        output[key] = deepmerge(target[key], source[key], options);\n      } else {\n        output[key] = source[key];\n      }\n    });\n  }\n\n  return output;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { deepmerge } from '@material-ui/utils';\nimport noopTheme from './noopTheme';\nexport default function getStylesCreator(stylesOrCreator) {\n  var themingEnabled = typeof stylesOrCreator === 'function';\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (_typeof(stylesOrCreator) !== 'object' && !themingEnabled) {\n      console.error(['Material-UI: The `styles` argument provided is invalid.', 'You need to provide a function generating the styles or a styles object.'].join('\\n'));\n    }\n  }\n\n  return {\n    create: function create(theme, name) {\n      var styles;\n\n      try {\n        styles = themingEnabled ? stylesOrCreator(theme) : stylesOrCreator;\n      } catch (err) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (themingEnabled === true && theme === noopTheme) {\n            // TODO: prepend error message/name instead\n            console.error(['Material-UI: The `styles` argument provided is invalid.', 'You are providing a function without a theme in the context.', 'One of the parent elements needs to use a ThemeProvider.'].join('\\n'));\n          }\n        }\n\n        throw err;\n      }\n\n      if (!name || !theme.overrides || !theme.overrides[name]) {\n        return styles;\n      }\n\n      var overrides = theme.overrides[name];\n\n      var stylesWithOverrides = _extends({}, styles);\n\n      Object.keys(overrides).forEach(function (key) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (!stylesWithOverrides[key]) {\n            console.warn(['Material-UI: You are trying to override a style that does not exist.', \"Fix the `\".concat(key, \"` key of `theme.overrides.\").concat(name, \"`.\")].join('\\n'));\n          }\n        }\n\n        stylesWithOverrides[key] = deepmerge(stylesWithOverrides[key], overrides[key]);\n      });\n      return stylesWithOverrides;\n    },\n    options: {}\n  };\n}","// We use the same empty object to ref count the styles that don't need a theme object.\nvar noopTheme = {};\nexport default noopTheme;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport { getDynamicStyles } from 'jss';\nimport mergeClasses from '../mergeClasses';\nimport multiKeyStore from './multiKeyStore';\nimport useTheme from '../useTheme';\nimport { StylesContext } from '../StylesProvider';\nimport { increment } from './indexCounter';\nimport getStylesCreator from '../getStylesCreator';\nimport noopTheme from '../getStylesCreator/noopTheme';\n\nfunction getClasses(_ref, classes, Component) {\n  var state = _ref.state,\n      stylesOptions = _ref.stylesOptions;\n\n  if (stylesOptions.disableGeneration) {\n    return classes || {};\n  }\n\n  if (!state.cacheClasses) {\n    state.cacheClasses = {\n      // Cache for the finalized classes value.\n      value: null,\n      // Cache for the last used classes prop pointer.\n      lastProp: null,\n      // Cache for the last used rendered classes pointer.\n      lastJSS: {}\n    };\n  } // Tracks if either the rendered classes or classes prop has changed,\n  // requiring the generation of a new finalized classes object.\n\n\n  var generate = false;\n\n  if (state.classes !== state.cacheClasses.lastJSS) {\n    state.cacheClasses.lastJSS = state.classes;\n    generate = true;\n  }\n\n  if (classes !== state.cacheClasses.lastProp) {\n    state.cacheClasses.lastProp = classes;\n    generate = true;\n  }\n\n  if (generate) {\n    state.cacheClasses.value = mergeClasses({\n      baseClasses: state.cacheClasses.lastJSS,\n      newClasses: classes,\n      Component: Component\n    });\n  }\n\n  return state.cacheClasses.value;\n}\n\nfunction attach(_ref2, props) {\n  var state = _ref2.state,\n      theme = _ref2.theme,\n      stylesOptions = _ref2.stylesOptions,\n      stylesCreator = _ref2.stylesCreator,\n      name = _ref2.name;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n\n  if (!sheetManager) {\n    sheetManager = {\n      refs: 0,\n      staticSheet: null,\n      dynamicStyles: null\n    };\n    multiKeyStore.set(stylesOptions.sheetsManager, stylesCreator, theme, sheetManager);\n  }\n\n  var options = _extends({}, stylesCreator.options, stylesOptions, {\n    theme: theme,\n    flip: typeof stylesOptions.flip === 'boolean' ? stylesOptions.flip : theme.direction === 'rtl'\n  });\n\n  options.generateId = options.serverGenerateClassName || options.generateClassName;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    var staticSheet;\n\n    if (stylesOptions.sheetsCache) {\n      staticSheet = multiKeyStore.get(stylesOptions.sheetsCache, stylesCreator, theme);\n    }\n\n    var styles = stylesCreator.create(theme, name);\n\n    if (!staticSheet) {\n      staticSheet = stylesOptions.jss.createStyleSheet(styles, _extends({\n        link: false\n      }, options));\n      staticSheet.attach();\n\n      if (stylesOptions.sheetsCache) {\n        multiKeyStore.set(stylesOptions.sheetsCache, stylesCreator, theme, staticSheet);\n      }\n    }\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(staticSheet);\n    }\n\n    sheetManager.staticSheet = staticSheet;\n    sheetManager.dynamicStyles = getDynamicStyles(styles);\n  }\n\n  if (sheetManager.dynamicStyles) {\n    var dynamicSheet = stylesOptions.jss.createStyleSheet(sheetManager.dynamicStyles, _extends({\n      link: true\n    }, options));\n    dynamicSheet.update(props);\n    dynamicSheet.attach();\n    state.dynamicSheet = dynamicSheet;\n    state.classes = mergeClasses({\n      baseClasses: sheetManager.staticSheet.classes,\n      newClasses: dynamicSheet.classes\n    });\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(dynamicSheet);\n    }\n  } else {\n    state.classes = sheetManager.staticSheet.classes;\n  }\n\n  sheetManager.refs += 1;\n}\n\nfunction update(_ref3, props) {\n  var state = _ref3.state;\n\n  if (state.dynamicSheet) {\n    state.dynamicSheet.update(props);\n  }\n}\n\nfunction detach(_ref4) {\n  var state = _ref4.state,\n      theme = _ref4.theme,\n      stylesOptions = _ref4.stylesOptions,\n      stylesCreator = _ref4.stylesCreator;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n  sheetManager.refs -= 1;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    multiKeyStore.delete(stylesOptions.sheetsManager, stylesCreator, theme);\n    stylesOptions.jss.removeStyleSheet(sheetManager.staticSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(sheetManager.staticSheet);\n    }\n  }\n\n  if (state.dynamicSheet) {\n    stylesOptions.jss.removeStyleSheet(state.dynamicSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(state.dynamicSheet);\n    }\n  }\n}\n\nfunction useSynchronousEffect(func, values) {\n  var key = React.useRef([]);\n  var output; // Store \"generation\" key. Just returns a new object every time\n\n  var currentKey = React.useMemo(function () {\n    return {};\n  }, values); // eslint-disable-line react-hooks/exhaustive-deps\n  // \"the first render\", or \"memo dropped the value\"\n\n  if (key.current !== currentKey) {\n    key.current = currentKey;\n    output = func();\n  }\n\n  React.useEffect(function () {\n    return function () {\n      if (output) {\n        output();\n      }\n    };\n  }, [currentKey] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n}\n\nexport default function makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var name = options.name,\n      classNamePrefixOption = options.classNamePrefix,\n      Component = options.Component,\n      _options$defaultTheme = options.defaultTheme,\n      defaultTheme = _options$defaultTheme === void 0 ? noopTheme : _options$defaultTheme,\n      stylesOptions2 = _objectWithoutProperties(options, [\"name\", \"classNamePrefix\", \"Component\", \"defaultTheme\"]);\n\n  var stylesCreator = getStylesCreator(stylesOrCreator);\n  var classNamePrefix = name || classNamePrefixOption || 'makeStyles';\n  stylesCreator.options = {\n    index: increment(),\n    name: name,\n    meta: classNamePrefix,\n    classNamePrefix: classNamePrefix\n  };\n\n  var useStyles = function useStyles() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var theme = useTheme() || defaultTheme;\n\n    var stylesOptions = _extends({}, React.useContext(StylesContext), stylesOptions2);\n\n    var instance = React.useRef();\n    var shouldUpdate = React.useRef();\n    useSynchronousEffect(function () {\n      var current = {\n        name: name,\n        state: {},\n        stylesCreator: stylesCreator,\n        stylesOptions: stylesOptions,\n        theme: theme\n      };\n      attach(current, props);\n      shouldUpdate.current = false;\n      instance.current = current;\n      return function () {\n        detach(current);\n      };\n    }, [theme, stylesCreator]);\n    React.useEffect(function () {\n      if (shouldUpdate.current) {\n        update(instance.current, props);\n      }\n\n      shouldUpdate.current = true;\n    });\n    var classes = getClasses(instance.current, props.classes, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      React.useDebugValue(classes);\n    }\n\n    return classes;\n  };\n\n  return useStyles;\n}","/* eslint-disable no-restricted-syntax */\nexport default function getThemeProps(params) {\n  var theme = params.theme,\n      name = params.name,\n      props = params.props;\n\n  if (!theme || !theme.props || !theme.props[name]) {\n    return props;\n  } // Resolve default props, code borrow from React source.\n  // https://github.com/facebook/react/blob/15a8f031838a553e41c0b66eb1bcf1da8448104d/packages/react/src/ReactElement.js#L221\n\n\n  var defaultProps = theme.props[name];\n  var propName;\n\n  for (propName in defaultProps) {\n    if (props[propName] === undefined) {\n      props[propName] = defaultProps[propName];\n    }\n  }\n\n  return props;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { chainPropTypes, getDisplayName } from '@material-ui/utils';\nimport makeStyles from '../makeStyles';\nimport getThemeProps from '../getThemeProps';\nimport useTheme from '../useTheme'; // Link a style sheet with a component.\n// It does not modify the component passed to it;\n// instead, it returns a new component, with a `classes` property.\n\nvar withStyles = function withStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (Component) {\n    var defaultTheme = options.defaultTheme,\n        _options$withTheme = options.withTheme,\n        withTheme = _options$withTheme === void 0 ? false : _options$withTheme,\n        name = options.name,\n        stylesOptions = _objectWithoutProperties(options, [\"defaultTheme\", \"withTheme\", \"name\"]);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (Component === undefined) {\n        throw new Error(['You are calling withStyles(styles)(Component) with an undefined component.', 'You may have forgotten to import it.'].join('\\n'));\n      }\n    }\n\n    var classNamePrefix = name;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!name) {\n        // Provide a better DX outside production.\n        var displayName = getDisplayName(Component);\n\n        if (displayName !== undefined) {\n          classNamePrefix = displayName;\n        }\n      }\n    }\n\n    var useStyles = makeStyles(stylesOrCreator, _extends({\n      defaultTheme: defaultTheme,\n      Component: Component,\n      name: name || Component.displayName,\n      classNamePrefix: classNamePrefix\n    }, stylesOptions));\n    var WithStyles = /*#__PURE__*/React.forwardRef(function WithStyles(props, ref) {\n      var classesProp = props.classes,\n          innerRef = props.innerRef,\n          other = _objectWithoutProperties(props, [\"classes\", \"innerRef\"]); // The wrapper receives only user supplied props, which could be a subset of\n      // the actual props Component might receive due to merging with defaultProps.\n      // So copying it here would give us the same result in the wrapper as well.\n\n\n      var classes = useStyles(_extends({}, Component.defaultProps, props));\n      var theme;\n      var more = other;\n\n      if (typeof name === 'string' || withTheme) {\n        // name and withTheme are invariant in the outer scope\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        theme = useTheme() || defaultTheme;\n\n        if (name) {\n          more = getThemeProps({\n            theme: theme,\n            name: name,\n            props: other\n          });\n        } // Provide the theme to the wrapped component.\n        // So we don't have to use the `withTheme()` Higher-order Component.\n\n\n        if (withTheme && !more.theme) {\n          more.theme = theme;\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(Component, _extends({\n        ref: innerRef || ref,\n        classes: classes\n      }, more));\n    });\n    process.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      WithStyles.displayName = \"WithStyles(\".concat(getDisplayName(Component), \")\");\n    }\n\n    hoistNonReactStatics(WithStyles, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Exposed for test purposes.\n      WithStyles.Naked = Component;\n      WithStyles.options = options;\n      WithStyles.useStyles = useStyles;\n    }\n\n    return WithStyles;\n  };\n};\n\nexport default withStyles;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\"; // Sorted ASC by size. That's important.\n// It can't be configured as it's used statically for propTypes.\n\nexport var keys = ['xs', 'sm', 'md', 'lg', 'xl']; // Keep in mind that @media is inclusive by the CSS specification.\n\nexport default function createBreakpoints(breakpoints) {\n  var _breakpoints$values = breakpoints.values,\n      values = _breakpoints$values === void 0 ? {\n    xs: 0,\n    sm: 600,\n    md: 960,\n    lg: 1280,\n    xl: 1920\n  } : _breakpoints$values,\n      _breakpoints$unit = breakpoints.unit,\n      unit = _breakpoints$unit === void 0 ? 'px' : _breakpoints$unit,\n      _breakpoints$step = breakpoints.step,\n      step = _breakpoints$step === void 0 ? 5 : _breakpoints$step,\n      other = _objectWithoutProperties(breakpoints, [\"values\", \"unit\", \"step\"]);\n\n  function up(key) {\n    var value = typeof values[key] === 'number' ? values[key] : key;\n    return \"@media (min-width:\".concat(value).concat(unit, \")\");\n  }\n\n  function down(key) {\n    var endIndex = keys.indexOf(key) + 1;\n    var upperbound = values[keys[endIndex]];\n\n    if (endIndex === keys.length) {\n      // xl down applies to all sizes\n      return up('xs');\n    }\n\n    var value = typeof upperbound === 'number' && endIndex > 0 ? upperbound : key;\n    return \"@media (max-width:\".concat(value - step / 100).concat(unit, \")\");\n  }\n\n  function between(start, end) {\n    var endIndex = keys.indexOf(end);\n\n    if (endIndex === keys.length - 1) {\n      return up(start);\n    }\n\n    return \"@media (min-width:\".concat(typeof values[start] === 'number' ? values[start] : start).concat(unit, \") and \") + \"(max-width:\".concat((endIndex !== -1 && typeof values[keys[endIndex + 1]] === 'number' ? values[keys[endIndex + 1]] : end) - step / 100).concat(unit, \")\");\n  }\n\n  function only(key) {\n    return between(key, key);\n  }\n\n  function width(key) {\n    return values[key];\n  }\n\n  return _extends({\n    keys: keys,\n    values: values,\n    up: up,\n    down: down,\n    between: between,\n    only: only,\n    width: width\n  }, other);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nexport default function createMixins(breakpoints, spacing, mixins) {\n  var _toolbar;\n\n  return _extends({\n    gutters: function gutters() {\n      var styles = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}; // To deprecate in v4.1\n      //       warning(\n      //         false,\n      //         [\n      //           'Material-UI: Theme.mixins.gutters() is deprecated.',\n      //           'You can use the source of the mixin directly:',\n      //           `\n      // paddingLeft: theme.spacing(2),\n      // paddingRight: theme.spacing(2),\n      // [theme.breakpoints.up('sm')]: {\n      //   paddingLeft: theme.spacing(3),\n      //   paddingRight: theme.spacing(3),\n      // },\n      // `,\n      //         ].join('\\n'),\n      //       );\n\n      return _extends({\n        paddingLeft: spacing(2),\n        paddingRight: spacing(2)\n      }, styles, _defineProperty({}, breakpoints.up('sm'), _extends({\n        paddingLeft: spacing(3),\n        paddingRight: spacing(3)\n      }, styles[breakpoints.up('sm')])));\n    },\n    toolbar: (_toolbar = {\n      minHeight: 56\n    }, _defineProperty(_toolbar, \"\".concat(breakpoints.up('xs'), \" and (orientation: landscape)\"), {\n      minHeight: 48\n    }), _defineProperty(_toolbar, breakpoints.up('sm'), {\n      minHeight: 64\n    }), _toolbar)\n  }, mixins);\n}","/**\n * WARNING: Don't import this directly.\n * Use `MuiError` from `@material-ui/utils/macros/MuiError.macro` instead.\n * @param {number} code\n */\nexport default function formatMuiErrorMessage(code) {\n  // Apply babel-plugin-transform-template-literals in loose mode\n  // loose mode is safe iff we're concatenating primitives\n  // see https://babeljs.io/docs/en/babel-plugin-transform-template-literals#loose\n\n  /* eslint-disable prefer-template */\n  var url = 'https://material-ui.com/production-error/?code=' + code;\n\n  for (var i = 1; i < arguments.length; i += 1) {\n    // rest params over-transpile for this case\n    // eslint-disable-next-line prefer-rest-params\n    url += '&args[]=' + encodeURIComponent(arguments[i]);\n  }\n\n  return 'Minified Material-UI error #' + code + '; visit ' + url + ' for the full message.';\n  /* eslint-enable prefer-template */\n}","var common = {\n  black: '#000',\n  white: '#fff'\n};\nexport default common;","var grey = {\n  50: '#fafafa',\n  100: '#f5f5f5',\n  200: '#eeeeee',\n  300: '#e0e0e0',\n  400: '#bdbdbd',\n  500: '#9e9e9e',\n  600: '#757575',\n  700: '#616161',\n  800: '#424242',\n  900: '#212121',\n  A100: '#d5d5d5',\n  A200: '#aaaaaa',\n  A400: '#303030',\n  A700: '#616161'\n};\nexport default grey;","var indigo = {\n  50: '#e8eaf6',\n  100: '#c5cae9',\n  200: '#9fa8da',\n  300: '#7986cb',\n  400: '#5c6bc0',\n  500: '#3f51b5',\n  600: '#3949ab',\n  700: '#303f9f',\n  800: '#283593',\n  900: '#1a237e',\n  A100: '#8c9eff',\n  A200: '#536dfe',\n  A400: '#3d5afe',\n  A700: '#304ffe'\n};\nexport default indigo;","var pink = {\n  50: '#fce4ec',\n  100: '#f8bbd0',\n  200: '#f48fb1',\n  300: '#f06292',\n  400: '#ec407a',\n  500: '#e91e63',\n  600: '#d81b60',\n  700: '#c2185b',\n  800: '#ad1457',\n  900: '#880e4f',\n  A100: '#ff80ab',\n  A200: '#ff4081',\n  A400: '#f50057',\n  A700: '#c51162'\n};\nexport default pink;","var red = {\n  50: '#ffebee',\n  100: '#ffcdd2',\n  200: '#ef9a9a',\n  300: '#e57373',\n  400: '#ef5350',\n  500: '#f44336',\n  600: '#e53935',\n  700: '#d32f2f',\n  800: '#c62828',\n  900: '#b71c1c',\n  A100: '#ff8a80',\n  A200: '#ff5252',\n  A400: '#ff1744',\n  A700: '#d50000'\n};\nexport default red;","var orange = {\n  50: '#fff3e0',\n  100: '#ffe0b2',\n  200: '#ffcc80',\n  300: '#ffb74d',\n  400: '#ffa726',\n  500: '#ff9800',\n  600: '#fb8c00',\n  700: '#f57c00',\n  800: '#ef6c00',\n  900: '#e65100',\n  A100: '#ffd180',\n  A200: '#ffab40',\n  A400: '#ff9100',\n  A700: '#ff6d00'\n};\nexport default orange;","var blue = {\n  50: '#e3f2fd',\n  100: '#bbdefb',\n  200: '#90caf9',\n  300: '#64b5f6',\n  400: '#42a5f5',\n  500: '#2196f3',\n  600: '#1e88e5',\n  700: '#1976d2',\n  800: '#1565c0',\n  900: '#0d47a1',\n  A100: '#82b1ff',\n  A200: '#448aff',\n  A400: '#2979ff',\n  A700: '#2962ff'\n};\nexport default blue;","var green = {\n  50: '#e8f5e9',\n  100: '#c8e6c9',\n  200: '#a5d6a7',\n  300: '#81c784',\n  400: '#66bb6a',\n  500: '#4caf50',\n  600: '#43a047',\n  700: '#388e3c',\n  800: '#2e7d32',\n  900: '#1b5e20',\n  A100: '#b9f6ca',\n  A200: '#69f0ae',\n  A400: '#00e676',\n  A700: '#00c853'\n};\nexport default green;","import { formatMuiErrorMessage as _formatMuiErrorMessage } from \"@material-ui/utils\";\n/* eslint-disable no-use-before-define */\n\n/**\n * Returns a number whose value is limited to the given range.\n *\n * @param {number} value The value to be clamped\n * @param {number} min The lower boundary of the output range\n * @param {number} max The upper boundary of the output range\n * @returns {number} A number in the range [min, max]\n */\n\nfunction clamp(value) {\n  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (value < min || value > max) {\n      console.error(\"Material-UI: The value provided \".concat(value, \" is out of range [\").concat(min, \", \").concat(max, \"].\"));\n    }\n  }\n\n  return Math.min(Math.max(min, value), max);\n}\n/**\n * Converts a color from CSS hex format to CSS rgb format.\n *\n * @param {string} color - Hex color, i.e. #nnn or #nnnnnn\n * @returns {string} A CSS rgb color string\n */\n\n\nexport function hexToRgb(color) {\n  color = color.substr(1);\n  var re = new RegExp(\".{1,\".concat(color.length >= 6 ? 2 : 1, \"}\"), 'g');\n  var colors = color.match(re);\n\n  if (colors && colors[0].length === 1) {\n    colors = colors.map(function (n) {\n      return n + n;\n    });\n  }\n\n  return colors ? \"rgb\".concat(colors.length === 4 ? 'a' : '', \"(\").concat(colors.map(function (n, index) {\n    return index < 3 ? parseInt(n, 16) : Math.round(parseInt(n, 16) / 255 * 1000) / 1000;\n  }).join(', '), \")\") : '';\n}\n\nfunction intToHex(int) {\n  var hex = int.toString(16);\n  return hex.length === 1 ? \"0\".concat(hex) : hex;\n}\n/**\n * Converts a color from CSS rgb format to CSS hex format.\n *\n * @param {string} color - RGB color, i.e. rgb(n, n, n)\n * @returns {string} A CSS rgb color string, i.e. #nnnnnn\n */\n\n\nexport function rgbToHex(color) {\n  // Idempotent\n  if (color.indexOf('#') === 0) {\n    return color;\n  }\n\n  var _decomposeColor = decomposeColor(color),\n      values = _decomposeColor.values;\n\n  return \"#\".concat(values.map(function (n) {\n    return intToHex(n);\n  }).join(''));\n}\n/**\n * Converts a color from hsl format to rgb format.\n *\n * @param {string} color - HSL color values\n * @returns {string} rgb color values\n */\n\nexport function hslToRgb(color) {\n  color = decomposeColor(color);\n  var _color = color,\n      values = _color.values;\n  var h = values[0];\n  var s = values[1] / 100;\n  var l = values[2] / 100;\n  var a = s * Math.min(l, 1 - l);\n\n  var f = function f(n) {\n    var k = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (n + h / 30) % 12;\n    return l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  };\n\n  var type = 'rgb';\n  var rgb = [Math.round(f(0) * 255), Math.round(f(8) * 255), Math.round(f(4) * 255)];\n\n  if (color.type === 'hsla') {\n    type += 'a';\n    rgb.push(values[3]);\n  }\n\n  return recomposeColor({\n    type: type,\n    values: rgb\n  });\n}\n/**\n * Returns an object with the type and values of a color.\n *\n * Note: Does not support rgb % values.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {object} - A MUI color object: {type: string, values: number[]}\n */\n\nexport function decomposeColor(color) {\n  // Idempotent\n  if (color.type) {\n    return color;\n  }\n\n  if (color.charAt(0) === '#') {\n    return decomposeColor(hexToRgb(color));\n  }\n\n  var marker = color.indexOf('(');\n  var type = color.substring(0, marker);\n\n  if (['rgb', 'rgba', 'hsl', 'hsla'].indexOf(type) === -1) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: Unsupported `\".concat(color, \"` color.\\nWe support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla().\") : _formatMuiErrorMessage(3, color));\n  }\n\n  var values = color.substring(marker + 1, color.length - 1).split(',');\n  values = values.map(function (value) {\n    return parseFloat(value);\n  });\n  return {\n    type: type,\n    values: values\n  };\n}\n/**\n * Converts a color object with type and values to a string.\n *\n * @param {object} color - Decomposed color\n * @param {string} color.type - One of: 'rgb', 'rgba', 'hsl', 'hsla'\n * @param {array} color.values - [n,n,n] or [n,n,n,n]\n * @returns {string} A CSS color string\n */\n\nexport function recomposeColor(color) {\n  var type = color.type;\n  var values = color.values;\n\n  if (type.indexOf('rgb') !== -1) {\n    // Only convert the first 3 values to int (i.e. not alpha)\n    values = values.map(function (n, i) {\n      return i < 3 ? parseInt(n, 10) : n;\n    });\n  } else if (type.indexOf('hsl') !== -1) {\n    values[1] = \"\".concat(values[1], \"%\");\n    values[2] = \"\".concat(values[2], \"%\");\n  }\n\n  return \"\".concat(type, \"(\").concat(values.join(', '), \")\");\n}\n/**\n * Calculates the contrast ratio between two colors.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n *\n * @param {string} foreground - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {string} background - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {number} A contrast ratio value in the range 0 - 21.\n */\n\nexport function getContrastRatio(foreground, background) {\n  var lumA = getLuminance(foreground);\n  var lumB = getLuminance(background);\n  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);\n}\n/**\n * The relative brightness of any point in a color space,\n * normalized to 0 for darkest black and 1 for lightest white.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {number} The relative brightness of the color in the range 0 - 1\n */\n\nexport function getLuminance(color) {\n  color = decomposeColor(color);\n  var rgb = color.type === 'hsl' ? decomposeColor(hslToRgb(color)).values : color.values;\n  rgb = rgb.map(function (val) {\n    val /= 255; // normalized\n\n    return val <= 0.03928 ? val / 12.92 : Math.pow((val + 0.055) / 1.055, 2.4);\n  }); // Truncate at 3 digits\n\n  return Number((0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2]).toFixed(3));\n}\n/**\n * Darken or lighten a color, depending on its luminance.\n * Light colors are darkened, dark colors are lightened.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient=0.15 - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function emphasize(color) {\n  var coefficient = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.15;\n  return getLuminance(color) > 0.5 ? darken(color, coefficient) : lighten(color, coefficient);\n}\n/**\n * Set the absolute transparency of a color.\n * Any existing alpha values are overwritten.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} value - value to set the alpha channel to in the range 0 -1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function fade(color, value) {\n  color = decomposeColor(color);\n  value = clamp(value);\n\n  if (color.type === 'rgb' || color.type === 'hsl') {\n    color.type += 'a';\n  }\n\n  color.values[3] = value;\n  return recomposeColor(color);\n}\n/**\n * Darkens a color.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function darken(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clamp(coefficient);\n\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] *= 1 - coefficient;\n  } else if (color.type.indexOf('rgb') !== -1) {\n    for (var i = 0; i < 3; i += 1) {\n      color.values[i] *= 1 - coefficient;\n    }\n  }\n\n  return recomposeColor(color);\n}\n/**\n * Lightens a color.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function lighten(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clamp(coefficient);\n\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] += (100 - color.values[2]) * coefficient;\n  } else if (color.type.indexOf('rgb') !== -1) {\n    for (var i = 0; i < 3; i += 1) {\n      color.values[i] += (255 - color.values[i]) * coefficient;\n    }\n  }\n\n  return recomposeColor(color);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { formatMuiErrorMessage as _formatMuiErrorMessage } from \"@material-ui/utils\";\nimport { deepmerge } from '@material-ui/utils';\nimport common from '../colors/common';\nimport grey from '../colors/grey';\nimport indigo from '../colors/indigo';\nimport pink from '../colors/pink';\nimport red from '../colors/red';\nimport orange from '../colors/orange';\nimport blue from '../colors/blue';\nimport green from '../colors/green';\nimport { darken, getContrastRatio, lighten } from './colorManipulator';\nexport var light = {\n  // The colors used to style the text.\n  text: {\n    // The most important text.\n    primary: 'rgba(0, 0, 0, 0.87)',\n    // Secondary text.\n    secondary: 'rgba(0, 0, 0, 0.54)',\n    // Disabled text have even lower visual prominence.\n    disabled: 'rgba(0, 0, 0, 0.38)',\n    // Text hints.\n    hint: 'rgba(0, 0, 0, 0.38)'\n  },\n  // The color used to divide different elements.\n  divider: 'rgba(0, 0, 0, 0.12)',\n  // The background colors used to style the surfaces.\n  // Consistency between these values is important.\n  background: {\n    paper: common.white,\n    default: grey[50]\n  },\n  // The colors used to style the action elements.\n  action: {\n    // The color of an active action like an icon button.\n    active: 'rgba(0, 0, 0, 0.54)',\n    // The color of an hovered action.\n    hover: 'rgba(0, 0, 0, 0.04)',\n    hoverOpacity: 0.04,\n    // The color of a selected action.\n    selected: 'rgba(0, 0, 0, 0.08)',\n    selectedOpacity: 0.08,\n    // The color of a disabled action.\n    disabled: 'rgba(0, 0, 0, 0.26)',\n    // The background color of a disabled action.\n    disabledBackground: 'rgba(0, 0, 0, 0.12)',\n    disabledOpacity: 0.38,\n    focus: 'rgba(0, 0, 0, 0.12)',\n    focusOpacity: 0.12,\n    activatedOpacity: 0.12\n  }\n};\nexport var dark = {\n  text: {\n    primary: common.white,\n    secondary: 'rgba(255, 255, 255, 0.7)',\n    disabled: 'rgba(255, 255, 255, 0.5)',\n    hint: 'rgba(255, 255, 255, 0.5)',\n    icon: 'rgba(255, 255, 255, 0.5)'\n  },\n  divider: 'rgba(255, 255, 255, 0.12)',\n  background: {\n    paper: grey[800],\n    default: '#303030'\n  },\n  action: {\n    active: common.white,\n    hover: 'rgba(255, 255, 255, 0.08)',\n    hoverOpacity: 0.08,\n    selected: 'rgba(255, 255, 255, 0.16)',\n    selectedOpacity: 0.16,\n    disabled: 'rgba(255, 255, 255, 0.3)',\n    disabledBackground: 'rgba(255, 255, 255, 0.12)',\n    disabledOpacity: 0.38,\n    focus: 'rgba(255, 255, 255, 0.12)',\n    focusOpacity: 0.12,\n    activatedOpacity: 0.24\n  }\n};\n\nfunction addLightOrDark(intent, direction, shade, tonalOffset) {\n  var tonalOffsetLight = tonalOffset.light || tonalOffset;\n  var tonalOffsetDark = tonalOffset.dark || tonalOffset * 1.5;\n\n  if (!intent[direction]) {\n    if (intent.hasOwnProperty(shade)) {\n      intent[direction] = intent[shade];\n    } else if (direction === 'light') {\n      intent.light = lighten(intent.main, tonalOffsetLight);\n    } else if (direction === 'dark') {\n      intent.dark = darken(intent.main, tonalOffsetDark);\n    }\n  }\n}\n\nexport default function createPalette(palette) {\n  var _palette$primary = palette.primary,\n      primary = _palette$primary === void 0 ? {\n    light: indigo[300],\n    main: indigo[500],\n    dark: indigo[700]\n  } : _palette$primary,\n      _palette$secondary = palette.secondary,\n      secondary = _palette$secondary === void 0 ? {\n    light: pink.A200,\n    main: pink.A400,\n    dark: pink.A700\n  } : _palette$secondary,\n      _palette$error = palette.error,\n      error = _palette$error === void 0 ? {\n    light: red[300],\n    main: red[500],\n    dark: red[700]\n  } : _palette$error,\n      _palette$warning = palette.warning,\n      warning = _palette$warning === void 0 ? {\n    light: orange[300],\n    main: orange[500],\n    dark: orange[700]\n  } : _palette$warning,\n      _palette$info = palette.info,\n      info = _palette$info === void 0 ? {\n    light: blue[300],\n    main: blue[500],\n    dark: blue[700]\n  } : _palette$info,\n      _palette$success = palette.success,\n      success = _palette$success === void 0 ? {\n    light: green[300],\n    main: green[500],\n    dark: green[700]\n  } : _palette$success,\n      _palette$type = palette.type,\n      type = _palette$type === void 0 ? 'light' : _palette$type,\n      _palette$contrastThre = palette.contrastThreshold,\n      contrastThreshold = _palette$contrastThre === void 0 ? 3 : _palette$contrastThre,\n      _palette$tonalOffset = palette.tonalOffset,\n      tonalOffset = _palette$tonalOffset === void 0 ? 0.2 : _palette$tonalOffset,\n      other = _objectWithoutProperties(palette, [\"primary\", \"secondary\", \"error\", \"warning\", \"info\", \"success\", \"type\", \"contrastThreshold\", \"tonalOffset\"]); // Use the same logic as\n  // Bootstrap: https://github.com/twbs/bootstrap/blob/1d6e3710dd447de1a200f29e8fa521f8a0908f70/scss/_functions.scss#L59\n  // and material-components-web https://github.com/material-components/material-components-web/blob/ac46b8863c4dab9fc22c4c662dc6bd1b65dd652f/packages/mdc-theme/_functions.scss#L54\n\n\n  function getContrastText(background) {\n    var contrastText = getContrastRatio(background, dark.text.primary) >= contrastThreshold ? dark.text.primary : light.text.primary;\n\n    if (process.env.NODE_ENV !== 'production') {\n      var contrast = getContrastRatio(background, contrastText);\n\n      if (contrast < 3) {\n        console.error([\"Material-UI: The contrast ratio of \".concat(contrast, \":1 for \").concat(contrastText, \" on \").concat(background), 'falls below the WCAG recommended absolute minimum contrast ratio of 3:1.', 'https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast'].join('\\n'));\n      }\n    }\n\n    return contrastText;\n  }\n\n  var augmentColor = function augmentColor(color) {\n    var mainShade = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n    var lightShade = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 300;\n    var darkShade = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 700;\n    color = _extends({}, color);\n\n    if (!color.main && color[mainShade]) {\n      color.main = color[mainShade];\n    }\n\n    if (!color.main) {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: The color provided to augmentColor(color) is invalid.\\nThe color object needs to have a `main` property or a `\".concat(mainShade, \"` property.\") : _formatMuiErrorMessage(4, mainShade));\n    }\n\n    if (typeof color.main !== 'string') {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: The color provided to augmentColor(color) is invalid.\\n`color.main` should be a string, but `\".concat(JSON.stringify(color.main), \"` was provided instead.\\n\\nDid you intend to use one of the following approaches?\\n\\nimport {\\xA0green } from \\\"@material-ui/core/colors\\\";\\n\\nconst theme1 = createMuiTheme({ palette: {\\n  primary: green,\\n} });\\n\\nconst theme2 = createMuiTheme({ palette: {\\n  primary: { main: green[500] },\\n} });\") : _formatMuiErrorMessage(5, JSON.stringify(color.main)));\n    }\n\n    addLightOrDark(color, 'light', lightShade, tonalOffset);\n    addLightOrDark(color, 'dark', darkShade, tonalOffset);\n\n    if (!color.contrastText) {\n      color.contrastText = getContrastText(color.main);\n    }\n\n    return color;\n  };\n\n  var types = {\n    dark: dark,\n    light: light\n  };\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!types[type]) {\n      console.error(\"Material-UI: The palette type `\".concat(type, \"` is not supported.\"));\n    }\n  }\n\n  var paletteOutput = deepmerge(_extends({\n    // A collection of common colors.\n    common: common,\n    // The palette type, can be light or dark.\n    type: type,\n    // The colors used to represent primary interface elements for a user.\n    primary: augmentColor(primary),\n    // The colors used to represent secondary interface elements for a user.\n    secondary: augmentColor(secondary, 'A400', 'A200', 'A700'),\n    // The colors used to represent interface elements that the user should be made aware of.\n    error: augmentColor(error),\n    // The colors used to represent potentially dangerous actions or important messages.\n    warning: augmentColor(warning),\n    // The colors used to present information to the user that is neutral and not necessarily important.\n    info: augmentColor(info),\n    // The colors used to indicate the successful completion of an action that user triggered.\n    success: augmentColor(success),\n    // The grey colors.\n    grey: grey,\n    // Used by `getContrastText()` to maximize the contrast between\n    // the background and the text.\n    contrastThreshold: contrastThreshold,\n    // Takes a background color and returns the text color that maximizes the contrast.\n    getContrastText: getContrastText,\n    // Generate a rich color object.\n    augmentColor: augmentColor,\n    // Used by the functions below to shift a color's luminance by approximately\n    // two indexes within its tonal palette.\n    // E.g., shift from Red 500 to Red 300 or Red 700.\n    tonalOffset: tonalOffset\n  }, types[type]), other);\n  return paletteOutput;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { deepmerge } from '@material-ui/utils';\n\nfunction round(value) {\n  return Math.round(value * 1e5) / 1e5;\n}\n\nvar caseAllCaps = {\n  textTransform: 'uppercase'\n};\nvar defaultFontFamily = '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif';\n/**\n * @see @link{https://material.io/design/typography/the-type-system.html}\n * @see @link{https://material.io/design/typography/understanding-typography.html}\n */\n\nexport default function createTypography(palette, typography) {\n  var _ref = typeof typography === 'function' ? typography(palette) : typography,\n      _ref$fontFamily = _ref.fontFamily,\n      fontFamily = _ref$fontFamily === void 0 ? defaultFontFamily : _ref$fontFamily,\n      _ref$fontSize = _ref.fontSize,\n      fontSize = _ref$fontSize === void 0 ? 14 : _ref$fontSize,\n      _ref$fontWeightLight = _ref.fontWeightLight,\n      fontWeightLight = _ref$fontWeightLight === void 0 ? 300 : _ref$fontWeightLight,\n      _ref$fontWeightRegula = _ref.fontWeightRegular,\n      fontWeightRegular = _ref$fontWeightRegula === void 0 ? 400 : _ref$fontWeightRegula,\n      _ref$fontWeightMedium = _ref.fontWeightMedium,\n      fontWeightMedium = _ref$fontWeightMedium === void 0 ? 500 : _ref$fontWeightMedium,\n      _ref$fontWeightBold = _ref.fontWeightBold,\n      fontWeightBold = _ref$fontWeightBold === void 0 ? 700 : _ref$fontWeightBold,\n      _ref$htmlFontSize = _ref.htmlFontSize,\n      htmlFontSize = _ref$htmlFontSize === void 0 ? 16 : _ref$htmlFontSize,\n      allVariants = _ref.allVariants,\n      pxToRem2 = _ref.pxToRem,\n      other = _objectWithoutProperties(_ref, [\"fontFamily\", \"fontSize\", \"fontWeightLight\", \"fontWeightRegular\", \"fontWeightMedium\", \"fontWeightBold\", \"htmlFontSize\", \"allVariants\", \"pxToRem\"]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof fontSize !== 'number') {\n      console.error('Material-UI: `fontSize` is required to be a number.');\n    }\n\n    if (typeof htmlFontSize !== 'number') {\n      console.error('Material-UI: `htmlFontSize` is required to be a number.');\n    }\n  }\n\n  var coef = fontSize / 14;\n\n  var pxToRem = pxToRem2 || function (size) {\n    return \"\".concat(size / htmlFontSize * coef, \"rem\");\n  };\n\n  var buildVariant = function buildVariant(fontWeight, size, lineHeight, letterSpacing, casing) {\n    return _extends({\n      fontFamily: fontFamily,\n      fontWeight: fontWeight,\n      fontSize: pxToRem(size),\n      // Unitless following https://meyerweb.com/eric/thoughts/2006/02/08/unitless-line-heights/\n      lineHeight: lineHeight\n    }, fontFamily === defaultFontFamily ? {\n      letterSpacing: \"\".concat(round(letterSpacing / size), \"em\")\n    } : {}, casing, allVariants);\n  };\n\n  var variants = {\n    h1: buildVariant(fontWeightLight, 96, 1.167, -1.5),\n    h2: buildVariant(fontWeightLight, 60, 1.2, -0.5),\n    h3: buildVariant(fontWeightRegular, 48, 1.167, 0),\n    h4: buildVariant(fontWeightRegular, 34, 1.235, 0.25),\n    h5: buildVariant(fontWeightRegular, 24, 1.334, 0),\n    h6: buildVariant(fontWeightMedium, 20, 1.6, 0.15),\n    subtitle1: buildVariant(fontWeightRegular, 16, 1.75, 0.15),\n    subtitle2: buildVariant(fontWeightMedium, 14, 1.57, 0.1),\n    body1: buildVariant(fontWeightRegular, 16, 1.5, 0.15),\n    body2: buildVariant(fontWeightRegular, 14, 1.43, 0.15),\n    button: buildVariant(fontWeightMedium, 14, 1.75, 0.4, caseAllCaps),\n    caption: buildVariant(fontWeightRegular, 12, 1.66, 0.4),\n    overline: buildVariant(fontWeightRegular, 12, 2.66, 1, caseAllCaps)\n  };\n  return deepmerge(_extends({\n    htmlFontSize: htmlFontSize,\n    pxToRem: pxToRem,\n    round: round,\n    // TODO v5: remove\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fontWeightLight: fontWeightLight,\n    fontWeightRegular: fontWeightRegular,\n    fontWeightMedium: fontWeightMedium,\n    fontWeightBold: fontWeightBold\n  }, variants), other, {\n    clone: false // No need to clone deep\n\n  });\n}","var shadowKeyUmbraOpacity = 0.2;\nvar shadowKeyPenumbraOpacity = 0.14;\nvar shadowAmbientShadowOpacity = 0.12;\n\nfunction createShadow() {\n  return [\"\".concat(arguments.length <= 0 ? undefined : arguments[0], \"px \").concat(arguments.length <= 1 ? undefined : arguments[1], \"px \").concat(arguments.length <= 2 ? undefined : arguments[2], \"px \").concat(arguments.length <= 3 ? undefined : arguments[3], \"px rgba(0,0,0,\").concat(shadowKeyUmbraOpacity, \")\"), \"\".concat(arguments.length <= 4 ? undefined : arguments[4], \"px \").concat(arguments.length <= 5 ? undefined : arguments[5], \"px \").concat(arguments.length <= 6 ? undefined : arguments[6], \"px \").concat(arguments.length <= 7 ? undefined : arguments[7], \"px rgba(0,0,0,\").concat(shadowKeyPenumbraOpacity, \")\"), \"\".concat(arguments.length <= 8 ? undefined : arguments[8], \"px \").concat(arguments.length <= 9 ? undefined : arguments[9], \"px \").concat(arguments.length <= 10 ? undefined : arguments[10], \"px \").concat(arguments.length <= 11 ? undefined : arguments[11], \"px rgba(0,0,0,\").concat(shadowAmbientShadowOpacity, \")\")].join(',');\n} // Values from https://github.com/material-components/material-components-web/blob/be8747f94574669cb5e7add1a7c54fa41a89cec7/packages/mdc-elevation/_variables.scss\n\n\nvar shadows = ['none', createShadow(0, 2, 1, -1, 0, 1, 1, 0, 0, 1, 3, 0), createShadow(0, 3, 1, -2, 0, 2, 2, 0, 0, 1, 5, 0), createShadow(0, 3, 3, -2, 0, 3, 4, 0, 0, 1, 8, 0), createShadow(0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0), createShadow(0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0), createShadow(0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0), createShadow(0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1), createShadow(0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2), createShadow(0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2), createShadow(0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3), createShadow(0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3), createShadow(0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4), createShadow(0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4), createShadow(0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4), createShadow(0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5), createShadow(0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5), createShadow(0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5), createShadow(0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6), createShadow(0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6), createShadow(0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7), createShadow(0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7), createShadow(0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7), createShadow(0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8), createShadow(0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8)];\nexport default shadows;","var shape = {\n  borderRadius: 4\n};\nexport default shape;","import arrayWithHoles from \"@babel/runtime/helpers/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import { deepmerge } from '@material-ui/utils';\n\nfunction merge(acc, item) {\n  if (!item) {\n    return acc;\n  }\n\n  return deepmerge(acc, item, {\n    clone: false // No need to clone deep, it's way faster.\n\n  });\n}\n\nexport default merge;","import \"core-js/modules/es.array.reduce.js\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport PropTypes from 'prop-types';\nimport merge from './merge'; // The breakpoint **start** at this value.\n// For instance with the first breakpoint xs: [xs, sm[.\n\nvar values = {\n  xs: 0,\n  sm: 600,\n  md: 960,\n  lg: 1280,\n  xl: 1920\n};\nvar defaultBreakpoints = {\n  // Sorted ASC by size. That's important.\n  // It can't be configured as it's used statically for propTypes.\n  keys: ['xs', 'sm', 'md', 'lg', 'xl'],\n  up: function up(key) {\n    return \"@media (min-width:\".concat(values[key], \"px)\");\n  }\n};\nexport function handleBreakpoints(props, propValue, styleFromPropValue) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!props.theme) {\n      console.error('Material-UI: You are calling a style function without a theme value.');\n    }\n  }\n\n  if (Array.isArray(propValue)) {\n    var themeBreakpoints = props.theme.breakpoints || defaultBreakpoints;\n    return propValue.reduce(function (acc, item, index) {\n      acc[themeBreakpoints.up(themeBreakpoints.keys[index])] = styleFromPropValue(propValue[index]);\n      return acc;\n    }, {});\n  }\n\n  if (_typeof(propValue) === 'object') {\n    var _themeBreakpoints = props.theme.breakpoints || defaultBreakpoints;\n\n    return Object.keys(propValue).reduce(function (acc, breakpoint) {\n      acc[_themeBreakpoints.up(breakpoint)] = styleFromPropValue(propValue[breakpoint]);\n      return acc;\n    }, {});\n  }\n\n  var output = styleFromPropValue(propValue);\n  return output;\n}\n\nfunction breakpoints(styleFunction) {\n  var newStyleFunction = function newStyleFunction(props) {\n    var base = styleFunction(props);\n    var themeBreakpoints = props.theme.breakpoints || defaultBreakpoints;\n    var extended = themeBreakpoints.keys.reduce(function (acc, key) {\n      if (props[key]) {\n        acc = acc || {};\n        acc[themeBreakpoints.up(key)] = styleFunction(_extends({\n          theme: props.theme\n        }, props[key]));\n      }\n\n      return acc;\n    }, null);\n    return merge(base, extended);\n  };\n\n  newStyleFunction.propTypes = process.env.NODE_ENV !== 'production' ? _extends({}, styleFunction.propTypes, {\n    xs: PropTypes.object,\n    sm: PropTypes.object,\n    md: PropTypes.object,\n    lg: PropTypes.object,\n    xl: PropTypes.object\n  }) : {};\n  newStyleFunction.filterProps = ['xs', 'sm', 'md', 'lg', 'xl'].concat(_toConsumableArray(styleFunction.filterProps));\n  return newStyleFunction;\n}\n\nexport default breakpoints;","import \"core-js/modules/es.array.reduce.js\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport responsivePropType from './responsivePropType';\nimport { handleBreakpoints } from './breakpoints';\nimport merge from './merge';\nimport memoize from './memoize';\nvar properties = {\n  m: 'margin',\n  p: 'padding'\n};\nvar directions = {\n  t: 'Top',\n  r: 'Right',\n  b: 'Bottom',\n  l: 'Left',\n  x: ['Left', 'Right'],\n  y: ['Top', 'Bottom']\n};\nvar aliases = {\n  marginX: 'mx',\n  marginY: 'my',\n  paddingX: 'px',\n  paddingY: 'py'\n}; // memoize() impact:\n// From 300,000 ops/sec\n// To 350,000 ops/sec\n\nvar getCssProperties = memoize(function (prop) {\n  // It's not a shorthand notation.\n  if (prop.length > 2) {\n    if (aliases[prop]) {\n      prop = aliases[prop];\n    } else {\n      return [prop];\n    }\n  }\n\n  var _prop$split = prop.split(''),\n      _prop$split2 = _slicedToArray(_prop$split, 2),\n      a = _prop$split2[0],\n      b = _prop$split2[1];\n\n  var property = properties[a];\n  var direction = directions[b] || '';\n  return Array.isArray(direction) ? direction.map(function (dir) {\n    return property + dir;\n  }) : [property + direction];\n});\nvar spacingKeys = ['m', 'mt', 'mr', 'mb', 'ml', 'mx', 'my', 'p', 'pt', 'pr', 'pb', 'pl', 'px', 'py', 'margin', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'marginX', 'marginY', 'padding', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'paddingX', 'paddingY'];\nexport function createUnarySpacing(theme) {\n  var themeSpacing = theme.spacing || 8;\n\n  if (typeof themeSpacing === 'number') {\n    return function (abs) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (typeof abs !== 'number') {\n          console.error(\"Material-UI: Expected spacing argument to be a number, got \".concat(abs, \".\"));\n        }\n      }\n\n      return themeSpacing * abs;\n    };\n  }\n\n  if (Array.isArray(themeSpacing)) {\n    return function (abs) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (abs > themeSpacing.length - 1) {\n          console.error([\"Material-UI: The value provided (\".concat(abs, \") overflows.\"), \"The supported values are: \".concat(JSON.stringify(themeSpacing), \".\"), \"\".concat(abs, \" > \").concat(themeSpacing.length - 1, \", you need to add the missing values.\")].join('\\n'));\n        }\n      }\n\n      return themeSpacing[abs];\n    };\n  }\n\n  if (typeof themeSpacing === 'function') {\n    return themeSpacing;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    console.error([\"Material-UI: The `theme.spacing` value (\".concat(themeSpacing, \") is invalid.\"), 'It should be a number, an array or a function.'].join('\\n'));\n  }\n\n  return function () {\n    return undefined;\n  };\n}\n\nfunction getValue(transformer, propValue) {\n  if (typeof propValue === 'string' || propValue == null) {\n    return propValue;\n  }\n\n  var abs = Math.abs(propValue);\n  var transformed = transformer(abs);\n\n  if (propValue >= 0) {\n    return transformed;\n  }\n\n  if (typeof transformed === 'number') {\n    return -transformed;\n  }\n\n  return \"-\".concat(transformed);\n}\n\nfunction getStyleFromPropValue(cssProperties, transformer) {\n  return function (propValue) {\n    return cssProperties.reduce(function (acc, cssProperty) {\n      acc[cssProperty] = getValue(transformer, propValue);\n      return acc;\n    }, {});\n  };\n}\n\nfunction spacing(props) {\n  var theme = props.theme;\n  var transformer = createUnarySpacing(theme);\n  return Object.keys(props).map(function (prop) {\n    // Using a hash computation over an array iteration could be faster, but with only 28 items,\n    // it's doesn't worth the bundle size.\n    if (spacingKeys.indexOf(prop) === -1) {\n      return null;\n    }\n\n    var cssProperties = getCssProperties(prop);\n    var styleFromPropValue = getStyleFromPropValue(cssProperties, transformer);\n    var propValue = props[prop];\n    return handleBreakpoints(props, propValue, styleFromPropValue);\n  }).reduce(merge, {});\n}\n\nspacing.propTypes = process.env.NODE_ENV !== 'production' ? spacingKeys.reduce(function (obj, key) {\n  obj[key] = responsivePropType;\n  return obj;\n}, {}) : {};\nspacing.filterProps = spacingKeys;\nexport default spacing;","export default function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) {\n      cache[arg] = fn(arg);\n    }\n\n    return cache[arg];\n  };\n}","import { createUnarySpacing } from '@material-ui/system';\nvar warnOnce;\nexport default function createSpacing() {\n  var spacingInput = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8; // Already transformed.\n\n  if (spacingInput.mui) {\n    return spacingInput;\n  } // Material Design layouts are visually balanced. Most measurements align to an 8dp grid applied, which aligns both spacing and the overall layout.\n  // Smaller components, such as icons and type, can align to a 4dp grid.\n  // https://material.io/design/layout/understanding-layout.html#usage\n\n\n  var transform = createUnarySpacing({\n    spacing: spacingInput\n  });\n\n  var spacing = function spacing() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!(args.length <= 4)) {\n        console.error(\"Material-UI: Too many arguments provided, expected between 0 and 4, got \".concat(args.length));\n      }\n    }\n\n    if (args.length === 0) {\n      return transform(1);\n    }\n\n    if (args.length === 1) {\n      return transform(args[0]);\n    }\n\n    return args.map(function (argument) {\n      if (typeof argument === 'string') {\n        return argument;\n      }\n\n      var output = transform(argument);\n      return typeof output === 'number' ? \"\".concat(output, \"px\") : output;\n    }).join(' ');\n  }; // Backward compatibility, to remove in v5.\n\n\n  Object.defineProperty(spacing, 'unit', {\n    get: function get() {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!warnOnce || process.env.NODE_ENV === 'test') {\n          console.error(['Material-UI: theme.spacing.unit usage has been deprecated.', 'It will be removed in v5.', 'You can replace `theme.spacing.unit * y` with `theme.spacing(y)`.', '', 'You can use the `https://github.com/mui-org/material-ui/tree/master/packages/material-ui-codemod/README.md#theme-spacing-api` migration helper to make the process smoother.'].join('\\n'));\n        }\n\n        warnOnce = true;\n      }\n\n      return spacingInput;\n    }\n  });\n  spacing.mui = true;\n  return spacing;\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\"; // Follow https://material.google.com/motion/duration-easing.html#duration-easing-natural-easing-curves\n// to learn the context in which each easing should be used.\n\nexport var easing = {\n  // This is the most common easing curve.\n  easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n  // Objects enter the screen at full velocity from off-screen and\n  // slowly decelerate to a resting point.\n  easeOut: 'cubic-bezier(0.0, 0, 0.2, 1)',\n  // Objects leave the screen at full velocity. They do not decelerate when off-screen.\n  easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n  // The sharp curve is used by objects that may return to the screen at any time.\n  sharp: 'cubic-bezier(0.4, 0, 0.6, 1)'\n}; // Follow https://material.io/guidelines/motion/duration-easing.html#duration-easing-common-durations\n// to learn when use what timing\n\nexport var duration = {\n  shortest: 150,\n  shorter: 200,\n  short: 250,\n  // most basic recommended timing\n  standard: 300,\n  // this is to be used in complex animations\n  complex: 375,\n  // recommended when something is entering screen\n  enteringScreen: 225,\n  // recommended when something is leaving screen\n  leavingScreen: 195\n};\n\nfunction formatMs(milliseconds) {\n  return \"\".concat(Math.round(milliseconds), \"ms\");\n}\n/**\n * @param {string|Array} props\n * @param {object} param\n * @param {string} param.prop\n * @param {number} param.duration\n * @param {string} param.easing\n * @param {number} param.delay\n */\n\n\nexport default {\n  easing: easing,\n  duration: duration,\n  create: function create() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['all'];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _options$duration = options.duration,\n        durationOption = _options$duration === void 0 ? duration.standard : _options$duration,\n        _options$easing = options.easing,\n        easingOption = _options$easing === void 0 ? easing.easeInOut : _options$easing,\n        _options$delay = options.delay,\n        delay = _options$delay === void 0 ? 0 : _options$delay,\n        other = _objectWithoutProperties(options, [\"duration\", \"easing\", \"delay\"]);\n\n    if (process.env.NODE_ENV !== 'production') {\n      var isString = function isString(value) {\n        return typeof value === 'string';\n      };\n\n      var isNumber = function isNumber(value) {\n        return !isNaN(parseFloat(value));\n      };\n\n      if (!isString(props) && !Array.isArray(props)) {\n        console.error('Material-UI: Argument \"props\" must be a string or Array.');\n      }\n\n      if (!isNumber(durationOption) && !isString(durationOption)) {\n        console.error(\"Material-UI: Argument \\\"duration\\\" must be a number or a string but found \".concat(durationOption, \".\"));\n      }\n\n      if (!isString(easingOption)) {\n        console.error('Material-UI: Argument \"easing\" must be a string.');\n      }\n\n      if (!isNumber(delay) && !isString(delay)) {\n        console.error('Material-UI: Argument \"delay\" must be a number or a string.');\n      }\n\n      if (Object.keys(other).length !== 0) {\n        console.error(\"Material-UI: Unrecognized argument(s) [\".concat(Object.keys(other).join(','), \"].\"));\n      }\n    }\n\n    return (Array.isArray(props) ? props : [props]).map(function (animatedProp) {\n      return \"\".concat(animatedProp, \" \").concat(typeof durationOption === 'string' ? durationOption : formatMs(durationOption), \" \").concat(easingOption, \" \").concat(typeof delay === 'string' ? delay : formatMs(delay));\n    }).join(',');\n  },\n  getAutoHeightDuration: function getAutoHeightDuration(height) {\n    if (!height) {\n      return 0;\n    }\n\n    var constant = height / 36; // https://www.wolframalpha.com/input/?i=(4+%2B+15+*+(x+%2F+36+)+**+0.25+%2B+(x+%2F+36)+%2F+5)+*+10\n\n    return Math.round((4 + 15 * Math.pow(constant, 0.25) + constant / 5) * 10);\n  }\n};","// We need to centralize the zIndex definitions as they work\n// like global values in the browser.\nvar zIndex = {\n  mobileStepper: 1000,\n  speedDial: 1050,\n  appBar: 1100,\n  drawer: 1200,\n  modal: 1300,\n  snackbar: 1400,\n  tooltip: 1500\n};\nexport default zIndex;","import \"core-js/modules/es.array.reduce.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { deepmerge } from '@material-ui/utils';\nimport createBreakpoints from './createBreakpoints';\nimport createMixins from './createMixins';\nimport createPalette from './createPalette';\nimport createTypography from './createTypography';\nimport shadows from './shadows';\nimport shape from './shape';\nimport createSpacing from './createSpacing';\nimport transitions from './transitions';\nimport zIndex from './zIndex';\n\nfunction createMuiTheme() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options$breakpoints = options.breakpoints,\n      breakpointsInput = _options$breakpoints === void 0 ? {} : _options$breakpoints,\n      _options$mixins = options.mixins,\n      mixinsInput = _options$mixins === void 0 ? {} : _options$mixins,\n      _options$palette = options.palette,\n      paletteInput = _options$palette === void 0 ? {} : _options$palette,\n      spacingInput = options.spacing,\n      _options$typography = options.typography,\n      typographyInput = _options$typography === void 0 ? {} : _options$typography,\n      other = _objectWithoutProperties(options, [\"breakpoints\", \"mixins\", \"palette\", \"spacing\", \"typography\"]);\n\n  var palette = createPalette(paletteInput);\n  var breakpoints = createBreakpoints(breakpointsInput);\n  var spacing = createSpacing(spacingInput);\n  var muiTheme = deepmerge({\n    breakpoints: breakpoints,\n    direction: 'ltr',\n    mixins: createMixins(breakpoints, spacing, mixinsInput),\n    overrides: {},\n    // Inject custom styles\n    palette: palette,\n    props: {},\n    // Provide default props\n    shadows: shadows,\n    typography: createTypography(palette, typographyInput),\n    spacing: spacing,\n    shape: shape,\n    transitions: transitions,\n    zIndex: zIndex\n  }, other);\n\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  muiTheme = args.reduce(function (acc, argument) {\n    return deepmerge(acc, argument);\n  }, muiTheme);\n\n  if (process.env.NODE_ENV !== 'production') {\n    var pseudoClasses = ['checked', 'disabled', 'error', 'focused', 'focusVisible', 'required', 'expanded', 'selected'];\n\n    var traverse = function traverse(node, parentKey) {\n      var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var key; // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n      for (key in node) {\n        var child = node[key];\n\n        if (depth === 1) {\n          if (key.indexOf('Mui') === 0 && child) {\n            traverse(child, key, depth + 1);\n          }\n        } else if (pseudoClasses.indexOf(key) !== -1 && Object.keys(child).length > 0) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.error([\"Material-UI: The `\".concat(parentKey, \"` component increases \") + \"the CSS specificity of the `\".concat(key, \"` internal state.\"), 'You can not override it like this: ', JSON.stringify(node, null, 2), '', 'Instead, you need to use the $ruleName syntax:', JSON.stringify({\n              root: _defineProperty({}, \"&$\".concat(key), child)\n            }, null, 2), '', 'https://material-ui.com/r/pseudo-classes-guide'].join('\\n'));\n          } // Remove the style to prevent global conflicts.\n\n\n          node[key] = {};\n        }\n      }\n    };\n\n    traverse(muiTheme.overrides);\n  }\n\n  return muiTheme;\n}\n\nexport default createMuiTheme;","import createMuiTheme from './createMuiTheme';\nvar defaultTheme = createMuiTheme();\nexport default defaultTheme;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { withStyles as withStylesWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\n\nfunction withStyles(stylesOrCreator, options) {\n  return withStylesWithoutDefault(stylesOrCreator, _extends({\n    defaultTheme: defaultTheme\n  }, options));\n}\n\nexport default withStyles;","import * as React from 'react';\n/**\n * @ignore - internal component.\n */\n\nvar ListContext = React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  ListContext.displayName = 'ListContext';\n}\n\nexport default ListContext;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListContext from './ListContext';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    listStyle: 'none',\n    margin: 0,\n    padding: 0,\n    position: 'relative'\n  },\n\n  /* Styles applied to the root element if `disablePadding={false}`. */\n  padding: {\n    paddingTop: 8,\n    paddingBottom: 8\n  },\n\n  /* Styles applied to the root element if dense. */\n  dense: {},\n\n  /* Styles applied to the root element if a `subheader` is provided. */\n  subheader: {\n    paddingTop: 0\n  }\n};\nvar List = /*#__PURE__*/React.forwardRef(function List(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'ul' : _props$component,\n      _props$dense = props.dense,\n      dense = _props$dense === void 0 ? false : _props$dense,\n      _props$disablePadding = props.disablePadding,\n      disablePadding = _props$disablePadding === void 0 ? false : _props$disablePadding,\n      subheader = props.subheader,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"component\", \"dense\", \"disablePadding\", \"subheader\"]);\n\n  var context = React.useMemo(function () {\n    return {\n      dense: dense\n    };\n  }, [dense]);\n  return /*#__PURE__*/React.createElement(ListContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, dense && classes.dense, !disablePadding && classes.padding, subheader && classes.subheader),\n    ref: ref\n  }, other), subheader, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiList'\n})(List);","// TODO v5: consider to make it private\nexport default function setRef(ref, value) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}","import * as React from 'react';\nimport setRef from './setRef';\nexport default function useForkRef(refA, refB) {\n  /**\n   * This will create a new function if the ref props change and are defined.\n   * This means react will call the old forkRef with `null` and the new forkRef\n   * with the ref. Cleanup naturally emerges from this behavior\n   */\n  return React.useMemo(function () {\n    if (refA == null && refB == null) {\n      return null;\n    }\n\n    return function (refValue) {\n      setRef(refA, refValue);\n      setRef(refB, refValue);\n    };\n  }, [refA, refB]);\n}","import * as React from 'react';\nvar useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n/**\n * https://github.com/facebook/react/issues/14099#issuecomment-440013892\n *\n * @param {function} fn\n */\n\nexport default function useEventCallback(fn) {\n  var ref = React.useRef(fn);\n  useEnhancedEffect(function () {\n    ref.current = fn;\n  });\n  return React.useCallback(function () {\n    return (0, ref.current).apply(void 0, arguments);\n  }, []);\n}","// based on https://github.com/WICG/focus-visible/blob/v4.1.5/src/focus-visible.js\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nvar hadKeyboardEvent = true;\nvar hadFocusVisibleRecently = false;\nvar hadFocusVisibleRecentlyTimeout = null;\nvar inputTypesWhitelist = {\n  text: true,\n  search: true,\n  url: true,\n  tel: true,\n  email: true,\n  password: true,\n  number: true,\n  date: true,\n  month: true,\n  week: true,\n  time: true,\n  datetime: true,\n  'datetime-local': true\n};\n/**\n * Computes whether the given element should automatically trigger the\n * `focus-visible` class being added, i.e. whether it should always match\n * `:focus-visible` when focused.\n * @param {Element} node\n * @return {boolean}\n */\n\nfunction focusTriggersKeyboardModality(node) {\n  var type = node.type,\n      tagName = node.tagName;\n\n  if (tagName === 'INPUT' && inputTypesWhitelist[type] && !node.readOnly) {\n    return true;\n  }\n\n  if (tagName === 'TEXTAREA' && !node.readOnly) {\n    return true;\n  }\n\n  if (node.isContentEditable) {\n    return true;\n  }\n\n  return false;\n}\n/**\n * Keep track of our keyboard modality state with `hadKeyboardEvent`.\n * If the most recent user interaction was via the keyboard;\n * and the key press did not include a meta, alt/option, or control key;\n * then the modality is keyboard. Otherwise, the modality is not keyboard.\n * @param {KeyboardEvent} event\n */\n\n\nfunction handleKeyDown(event) {\n  if (event.metaKey || event.altKey || event.ctrlKey) {\n    return;\n  }\n\n  hadKeyboardEvent = true;\n}\n/**\n * If at any point a user clicks with a pointing device, ensure that we change\n * the modality away from keyboard.\n * This avoids the situation where a user presses a key on an already focused\n * element, and then clicks on a different element, focusing it with a\n * pointing device, while we still think we're in keyboard modality.\n */\n\n\nfunction handlePointerDown() {\n  hadKeyboardEvent = false;\n}\n\nfunction handleVisibilityChange() {\n  if (this.visibilityState === 'hidden') {\n    // If the tab becomes active again, the browser will handle calling focus\n    // on the element (Safari actually calls it twice).\n    // If this tab change caused a blur on an element with focus-visible,\n    // re-apply the class when the user switches back to the tab.\n    if (hadFocusVisibleRecently) {\n      hadKeyboardEvent = true;\n    }\n  }\n}\n\nfunction prepare(doc) {\n  doc.addEventListener('keydown', handleKeyDown, true);\n  doc.addEventListener('mousedown', handlePointerDown, true);\n  doc.addEventListener('pointerdown', handlePointerDown, true);\n  doc.addEventListener('touchstart', handlePointerDown, true);\n  doc.addEventListener('visibilitychange', handleVisibilityChange, true);\n}\n\nexport function teardown(doc) {\n  doc.removeEventListener('keydown', handleKeyDown, true);\n  doc.removeEventListener('mousedown', handlePointerDown, true);\n  doc.removeEventListener('pointerdown', handlePointerDown, true);\n  doc.removeEventListener('touchstart', handlePointerDown, true);\n  doc.removeEventListener('visibilitychange', handleVisibilityChange, true);\n}\n\nfunction isFocusVisible(event) {\n  var target = event.target;\n\n  try {\n    return target.matches(':focus-visible');\n  } catch (error) {} // browsers not implementing :focus-visible will throw a SyntaxError\n  // we use our own heuristic for those browsers\n  // rethrow might be better if it's not the expected error but do we really\n  // want to crash if focus-visible malfunctioned?\n  // no need for validFocusTarget check. the user does that by attaching it to\n  // focusable events only\n\n\n  return hadKeyboardEvent || focusTriggersKeyboardModality(target);\n}\n/**\n * Should be called if a blur event is fired on a focus-visible element\n */\n\n\nfunction handleBlurVisible() {\n  // To detect a tab/window switch, we look for a blur event followed\n  // rapidly by a visibility change.\n  // If we don't see a visibility change within 100ms, it's probably a\n  // regular focus change.\n  hadFocusVisibleRecently = true;\n  window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n  hadFocusVisibleRecentlyTimeout = window.setTimeout(function () {\n    hadFocusVisibleRecently = false;\n  }, 100);\n}\n\nexport default function useIsFocusVisible() {\n  var ref = React.useCallback(function (instance) {\n    var node = ReactDOM.findDOMNode(instance);\n\n    if (node != null) {\n      prepare(node.ownerDocument);\n    }\n  }, []);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue(isFocusVisible);\n  }\n\n  return {\n    isFocusVisible: isFocusVisible,\n    onBlurVisible: handleBlurVisible,\n    ref: ref\n  };\n}","import React from 'react';\nexport default React.createContext(null);","import { Children, cloneElement, isValidElement } from 'react';\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\n\nexport function getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && isValidElement(child) ? mapFn(child) : child;\n  };\n\n  var result = Object.create(null);\n  if (children) Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\n\nexport function mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  } // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  var nextKeysPending = Object.create(null);\n  var pendingKeys = [];\n\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i;\n  var childMapping = {};\n\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\n\nexport function getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return cloneElement(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\nexport function getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n    if (!isValidElement(child)) return;\n    var hasPrev = (key in prevChildMapping);\n    var hasNext = (key in nextChildMapping);\n    var prevChild = prevChildMapping[key];\n    var isLeaving = isValidElement(prevChild) && !prevChild.props.in; // item is new (entering)\n\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = cloneElement(child, {\n        in: false\n      });\n    } else if (hasNext && hasPrev && isValidElement(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n  return children;\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { getChildMapping, getInitialChildMapping, getNextChildMapping } from './utils/ChildMapping';\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n};\n/**\n * The `<TransitionGroup>` component manages a set of transition components\n * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n * components, `<TransitionGroup>` is a state machine for managing the mounting\n * and unmounting of components over time.\n *\n * Consider the example below. As items are removed or added to the TodoList the\n * `in` prop is toggled automatically by the `<TransitionGroup>`.\n *\n * Note that `<TransitionGroup>`  does not define any animation behavior!\n * Exactly _how_ a list item animates is up to the individual transition\n * component. This means you can mix and match animations across different list\n * items.\n */\n\nvar TransitionGroup = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_this)); // Initial children should all be entering, dependent on appear\n\n\n    _this.state = {\n      contextValue: {\n        isMounting: true\n      },\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  var _proto = TransitionGroup.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.setState({\n      contextValue: {\n        isMounting: false\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? getInitialChildMapping(nextProps, handleExited) : getNextChildMapping(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  } // node is `undefined` when user provided `nodeRef` prop\n  ;\n\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = getChildMapping(this.props.children);\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        Component = _this$props.component,\n        childFactory = _this$props.childFactory,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n\n    var contextValue = this.state.contextValue;\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n        value: contextValue\n      }, children);\n    }\n\n    return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n      value: contextValue\n    }, /*#__PURE__*/React.createElement(Component, props, children));\n  };\n\n  return TransitionGroup;\n}(React.Component);\n\nTransitionGroup.defaultProps = defaultProps;\nexport default TransitionGroup;","import * as React from 'react';\nimport clsx from 'clsx';\nimport useEventCallback from '../utils/useEventCallback';\nvar useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n/**\n * @ignore - internal component.\n */\n\nfunction Ripple(props) {\n  var classes = props.classes,\n      _props$pulsate = props.pulsate,\n      pulsate = _props$pulsate === void 0 ? false : _props$pulsate,\n      rippleX = props.rippleX,\n      rippleY = props.rippleY,\n      rippleSize = props.rippleSize,\n      inProp = props.in,\n      _props$onExited = props.onExited,\n      onExited = _props$onExited === void 0 ? function () {} : _props$onExited,\n      timeout = props.timeout;\n\n  var _React$useState = React.useState(false),\n      leaving = _React$useState[0],\n      setLeaving = _React$useState[1];\n\n  var rippleClassName = clsx(classes.ripple, classes.rippleVisible, pulsate && classes.ripplePulsate);\n  var rippleStyles = {\n    width: rippleSize,\n    height: rippleSize,\n    top: -(rippleSize / 2) + rippleY,\n    left: -(rippleSize / 2) + rippleX\n  };\n  var childClassName = clsx(classes.child, leaving && classes.childLeaving, pulsate && classes.childPulsate);\n  var handleExited = useEventCallback(onExited); // Ripple is used for user feedback (e.g. click or press) so we want to apply styles with the highest priority\n\n  useEnhancedEffect(function () {\n    if (!inProp) {\n      // react-transition-group#onExit\n      setLeaving(true); // react-transition-group#onExited\n\n      var timeoutId = setTimeout(handleExited, timeout);\n      return function () {\n        clearTimeout(timeoutId);\n      };\n    }\n\n    return undefined;\n  }, [handleExited, inProp, timeout]);\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: rippleClassName,\n    style: rippleStyles\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: childClassName\n  }));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default Ripple;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { TransitionGroup } from 'react-transition-group';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Ripple from './Ripple';\nvar DURATION = 550;\nexport var DELAY_RIPPLE = 80;\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      overflow: 'hidden',\n      pointerEvents: 'none',\n      position: 'absolute',\n      zIndex: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      borderRadius: 'inherit'\n    },\n\n    /* Styles applied to the internal `Ripple` components `ripple` class. */\n    ripple: {\n      opacity: 0,\n      position: 'absolute'\n    },\n\n    /* Styles applied to the internal `Ripple` components `rippleVisible` class. */\n    rippleVisible: {\n      opacity: 0.3,\n      transform: 'scale(1)',\n      animation: \"$enter \".concat(DURATION, \"ms \").concat(theme.transitions.easing.easeInOut)\n    },\n\n    /* Styles applied to the internal `Ripple` components `ripplePulsate` class. */\n    ripplePulsate: {\n      animationDuration: \"\".concat(theme.transitions.duration.shorter, \"ms\")\n    },\n\n    /* Styles applied to the internal `Ripple` components `child` class. */\n    child: {\n      opacity: 1,\n      display: 'block',\n      width: '100%',\n      height: '100%',\n      borderRadius: '50%',\n      backgroundColor: 'currentColor'\n    },\n\n    /* Styles applied to the internal `Ripple` components `childLeaving` class. */\n    childLeaving: {\n      opacity: 0,\n      animation: \"$exit \".concat(DURATION, \"ms \").concat(theme.transitions.easing.easeInOut)\n    },\n\n    /* Styles applied to the internal `Ripple` components `childPulsate` class. */\n    childPulsate: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      animation: \"$pulsate 2500ms \".concat(theme.transitions.easing.easeInOut, \" 200ms infinite\")\n    },\n    '@keyframes enter': {\n      '0%': {\n        transform: 'scale(0)',\n        opacity: 0.1\n      },\n      '100%': {\n        transform: 'scale(1)',\n        opacity: 0.3\n      }\n    },\n    '@keyframes exit': {\n      '0%': {\n        opacity: 1\n      },\n      '100%': {\n        opacity: 0\n      }\n    },\n    '@keyframes pulsate': {\n      '0%': {\n        transform: 'scale(1)'\n      },\n      '50%': {\n        transform: 'scale(0.92)'\n      },\n      '100%': {\n        transform: 'scale(1)'\n      }\n    }\n  };\n};\n/**\n * @ignore - internal component.\n *\n * TODO v5: Make private\n */\n\nvar TouchRipple = /*#__PURE__*/React.forwardRef(function TouchRipple(props, ref) {\n  var _props$center = props.center,\n      centerProp = _props$center === void 0 ? false : _props$center,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"center\", \"classes\", \"className\"]);\n\n  var _React$useState = React.useState([]),\n      ripples = _React$useState[0],\n      setRipples = _React$useState[1];\n\n  var nextKey = React.useRef(0);\n  var rippleCallback = React.useRef(null);\n  React.useEffect(function () {\n    if (rippleCallback.current) {\n      rippleCallback.current();\n      rippleCallback.current = null;\n    }\n  }, [ripples]); // Used to filter out mouse emulated events on mobile.\n\n  var ignoringMouseDown = React.useRef(false); // We use a timer in order to only show the ripples for touch \"click\" like events.\n  // We don't want to display the ripple for touch scroll events.\n\n  var startTimer = React.useRef(null); // This is the hook called once the previous timeout is ready.\n\n  var startTimerCommit = React.useRef(null);\n  var container = React.useRef(null);\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(startTimer.current);\n    };\n  }, []);\n  var startCommit = React.useCallback(function (params) {\n    var pulsate = params.pulsate,\n        rippleX = params.rippleX,\n        rippleY = params.rippleY,\n        rippleSize = params.rippleSize,\n        cb = params.cb;\n    setRipples(function (oldRipples) {\n      return [].concat(_toConsumableArray(oldRipples), [/*#__PURE__*/React.createElement(Ripple, {\n        key: nextKey.current,\n        classes: classes,\n        timeout: DURATION,\n        pulsate: pulsate,\n        rippleX: rippleX,\n        rippleY: rippleY,\n        rippleSize: rippleSize\n      })]);\n    });\n    nextKey.current += 1;\n    rippleCallback.current = cb;\n  }, [classes]);\n  var start = React.useCallback(function () {\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var cb = arguments.length > 2 ? arguments[2] : undefined;\n    var _options$pulsate = options.pulsate,\n        pulsate = _options$pulsate === void 0 ? false : _options$pulsate,\n        _options$center = options.center,\n        center = _options$center === void 0 ? centerProp || options.pulsate : _options$center,\n        _options$fakeElement = options.fakeElement,\n        fakeElement = _options$fakeElement === void 0 ? false : _options$fakeElement;\n\n    if (event.type === 'mousedown' && ignoringMouseDown.current) {\n      ignoringMouseDown.current = false;\n      return;\n    }\n\n    if (event.type === 'touchstart') {\n      ignoringMouseDown.current = true;\n    }\n\n    var element = fakeElement ? null : container.current;\n    var rect = element ? element.getBoundingClientRect() : {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    }; // Get the size of the ripple\n\n    var rippleX;\n    var rippleY;\n    var rippleSize;\n\n    if (center || event.clientX === 0 && event.clientY === 0 || !event.clientX && !event.touches) {\n      rippleX = Math.round(rect.width / 2);\n      rippleY = Math.round(rect.height / 2);\n    } else {\n      var _ref = event.touches ? event.touches[0] : event,\n          clientX = _ref.clientX,\n          clientY = _ref.clientY;\n\n      rippleX = Math.round(clientX - rect.left);\n      rippleY = Math.round(clientY - rect.top);\n    }\n\n    if (center) {\n      rippleSize = Math.sqrt((2 * Math.pow(rect.width, 2) + Math.pow(rect.height, 2)) / 3); // For some reason the animation is broken on Mobile Chrome if the size if even.\n\n      if (rippleSize % 2 === 0) {\n        rippleSize += 1;\n      }\n    } else {\n      var sizeX = Math.max(Math.abs((element ? element.clientWidth : 0) - rippleX), rippleX) * 2 + 2;\n      var sizeY = Math.max(Math.abs((element ? element.clientHeight : 0) - rippleY), rippleY) * 2 + 2;\n      rippleSize = Math.sqrt(Math.pow(sizeX, 2) + Math.pow(sizeY, 2));\n    } // Touche devices\n\n\n    if (event.touches) {\n      // check that this isn't another touchstart due to multitouch\n      // otherwise we will only clear a single timer when unmounting while two\n      // are running\n      if (startTimerCommit.current === null) {\n        // Prepare the ripple effect.\n        startTimerCommit.current = function () {\n          startCommit({\n            pulsate: pulsate,\n            rippleX: rippleX,\n            rippleY: rippleY,\n            rippleSize: rippleSize,\n            cb: cb\n          });\n        }; // Delay the execution of the ripple effect.\n\n\n        startTimer.current = setTimeout(function () {\n          if (startTimerCommit.current) {\n            startTimerCommit.current();\n            startTimerCommit.current = null;\n          }\n        }, DELAY_RIPPLE); // We have to make a tradeoff with this value.\n      }\n    } else {\n      startCommit({\n        pulsate: pulsate,\n        rippleX: rippleX,\n        rippleY: rippleY,\n        rippleSize: rippleSize,\n        cb: cb\n      });\n    }\n  }, [centerProp, startCommit]);\n  var pulsate = React.useCallback(function () {\n    start({}, {\n      pulsate: true\n    });\n  }, [start]);\n  var stop = React.useCallback(function (event, cb) {\n    clearTimeout(startTimer.current); // The touch interaction occurs too quickly.\n    // We still want to show ripple effect.\n\n    if (event.type === 'touchend' && startTimerCommit.current) {\n      event.persist();\n      startTimerCommit.current();\n      startTimerCommit.current = null;\n      startTimer.current = setTimeout(function () {\n        stop(event, cb);\n      });\n      return;\n    }\n\n    startTimerCommit.current = null;\n    setRipples(function (oldRipples) {\n      if (oldRipples.length > 0) {\n        return oldRipples.slice(1);\n      }\n\n      return oldRipples;\n    });\n    rippleCallback.current = cb;\n  }, []);\n  React.useImperativeHandle(ref, function () {\n    return {\n      pulsate: pulsate,\n      start: start,\n      stop: stop\n    };\n  }, [pulsate, start, stop]);\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    className: clsx(classes.root, className),\n    ref: container\n  }, other), /*#__PURE__*/React.createElement(TransitionGroup, {\n    component: null,\n    exit: true\n  }, ripples));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  flip: false,\n  name: 'MuiTouchRipple'\n})( /*#__PURE__*/React.memo(TouchRipple));","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport clsx from 'clsx';\nimport { elementTypeAcceptingRef, refType } from '@material-ui/utils';\nimport useForkRef from '../utils/useForkRef';\nimport useEventCallback from '../utils/useEventCallback';\nimport withStyles from '../styles/withStyles';\nimport useIsFocusVisible from '../utils/useIsFocusVisible';\nimport TouchRipple from './TouchRipple';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'relative',\n    WebkitTapHighlightColor: 'transparent',\n    backgroundColor: 'transparent',\n    // Reset default value\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    border: 0,\n    margin: 0,\n    // Remove the margin in Safari\n    borderRadius: 0,\n    padding: 0,\n    // Remove the padding in Firefox\n    cursor: 'pointer',\n    userSelect: 'none',\n    verticalAlign: 'middle',\n    '-moz-appearance': 'none',\n    // Reset\n    '-webkit-appearance': 'none',\n    // Reset\n    textDecoration: 'none',\n    // So we take precedent over the style of a native <a /> element.\n    color: 'inherit',\n    '&::-moz-focus-inner': {\n      borderStyle: 'none' // Remove Firefox dotted outline.\n\n    },\n    '&$disabled': {\n      pointerEvents: 'none',\n      // Disable link interactions\n      cursor: 'default'\n    },\n    '@media print': {\n      colorAdjust: 'exact'\n    }\n  },\n\n  /* Pseudo-class applied to the root element if `disabled={true}`. */\n  disabled: {},\n\n  /* Pseudo-class applied to the root element if keyboard focused. */\n  focusVisible: {}\n};\n/**\n * `ButtonBase` contains as few styles as possible.\n * It aims to be a simple building block for creating a button.\n * It contains a load of style reset and some focus/ripple logic.\n */\n\nvar ButtonBase = /*#__PURE__*/React.forwardRef(function ButtonBase(props, ref) {\n  var action = props.action,\n      buttonRefProp = props.buttonRef,\n      _props$centerRipple = props.centerRipple,\n      centerRipple = _props$centerRipple === void 0 ? false : _props$centerRipple,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'button' : _props$component,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableRipple = props.disableRipple,\n      disableRipple = _props$disableRipple === void 0 ? false : _props$disableRipple,\n      _props$disableTouchRi = props.disableTouchRipple,\n      disableTouchRipple = _props$disableTouchRi === void 0 ? false : _props$disableTouchRi,\n      _props$focusRipple = props.focusRipple,\n      focusRipple = _props$focusRipple === void 0 ? false : _props$focusRipple,\n      focusVisibleClassName = props.focusVisibleClassName,\n      onBlur = props.onBlur,\n      onClick = props.onClick,\n      onFocus = props.onFocus,\n      onFocusVisible = props.onFocusVisible,\n      onKeyDown = props.onKeyDown,\n      onKeyUp = props.onKeyUp,\n      onMouseDown = props.onMouseDown,\n      onMouseLeave = props.onMouseLeave,\n      onMouseUp = props.onMouseUp,\n      onTouchEnd = props.onTouchEnd,\n      onTouchMove = props.onTouchMove,\n      onTouchStart = props.onTouchStart,\n      onDragLeave = props.onDragLeave,\n      _props$tabIndex = props.tabIndex,\n      tabIndex = _props$tabIndex === void 0 ? 0 : _props$tabIndex,\n      TouchRippleProps = props.TouchRippleProps,\n      _props$type = props.type,\n      type = _props$type === void 0 ? 'button' : _props$type,\n      other = _objectWithoutProperties(props, [\"action\", \"buttonRef\", \"centerRipple\", \"children\", \"classes\", \"className\", \"component\", \"disabled\", \"disableRipple\", \"disableTouchRipple\", \"focusRipple\", \"focusVisibleClassName\", \"onBlur\", \"onClick\", \"onFocus\", \"onFocusVisible\", \"onKeyDown\", \"onKeyUp\", \"onMouseDown\", \"onMouseLeave\", \"onMouseUp\", \"onTouchEnd\", \"onTouchMove\", \"onTouchStart\", \"onDragLeave\", \"tabIndex\", \"TouchRippleProps\", \"type\"]);\n\n  var buttonRef = React.useRef(null);\n\n  function getButtonNode() {\n    // #StrictMode ready\n    return ReactDOM.findDOMNode(buttonRef.current);\n  }\n\n  var rippleRef = React.useRef(null);\n\n  var _React$useState = React.useState(false),\n      focusVisible = _React$useState[0],\n      setFocusVisible = _React$useState[1];\n\n  if (disabled && focusVisible) {\n    setFocusVisible(false);\n  }\n\n  var _useIsFocusVisible = useIsFocusVisible(),\n      isFocusVisible = _useIsFocusVisible.isFocusVisible,\n      onBlurVisible = _useIsFocusVisible.onBlurVisible,\n      focusVisibleRef = _useIsFocusVisible.ref;\n\n  React.useImperativeHandle(action, function () {\n    return {\n      focusVisible: function focusVisible() {\n        setFocusVisible(true);\n        buttonRef.current.focus();\n      }\n    };\n  }, []);\n  React.useEffect(function () {\n    if (focusVisible && focusRipple && !disableRipple) {\n      rippleRef.current.pulsate();\n    }\n  }, [disableRipple, focusRipple, focusVisible]);\n\n  function useRippleHandler(rippleAction, eventCallback) {\n    var skipRippleAction = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : disableTouchRipple;\n    return useEventCallback(function (event) {\n      if (eventCallback) {\n        eventCallback(event);\n      }\n\n      var ignore = skipRippleAction;\n\n      if (!ignore && rippleRef.current) {\n        rippleRef.current[rippleAction](event);\n      }\n\n      return true;\n    });\n  }\n\n  var handleMouseDown = useRippleHandler('start', onMouseDown);\n  var handleDragLeave = useRippleHandler('stop', onDragLeave);\n  var handleMouseUp = useRippleHandler('stop', onMouseUp);\n  var handleMouseLeave = useRippleHandler('stop', function (event) {\n    if (focusVisible) {\n      event.preventDefault();\n    }\n\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n  });\n  var handleTouchStart = useRippleHandler('start', onTouchStart);\n  var handleTouchEnd = useRippleHandler('stop', onTouchEnd);\n  var handleTouchMove = useRippleHandler('stop', onTouchMove);\n  var handleBlur = useRippleHandler('stop', function (event) {\n    if (focusVisible) {\n      onBlurVisible(event);\n      setFocusVisible(false);\n    }\n\n    if (onBlur) {\n      onBlur(event);\n    }\n  }, false);\n  var handleFocus = useEventCallback(function (event) {\n    // Fix for https://github.com/facebook/react/issues/7769\n    if (!buttonRef.current) {\n      buttonRef.current = event.currentTarget;\n    }\n\n    if (isFocusVisible(event)) {\n      setFocusVisible(true);\n\n      if (onFocusVisible) {\n        onFocusVisible(event);\n      }\n    }\n\n    if (onFocus) {\n      onFocus(event);\n    }\n  });\n\n  var isNonNativeButton = function isNonNativeButton() {\n    var button = getButtonNode();\n    return component && component !== 'button' && !(button.tagName === 'A' && button.href);\n  };\n  /**\n   * IE 11 shim for https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/repeat\n   */\n\n\n  var keydownRef = React.useRef(false);\n  var handleKeyDown = useEventCallback(function (event) {\n    // Check if key is already down to avoid repeats being counted as multiple activations\n    if (focusRipple && !keydownRef.current && focusVisible && rippleRef.current && event.key === ' ') {\n      keydownRef.current = true;\n      event.persist();\n      rippleRef.current.stop(event, function () {\n        rippleRef.current.start(event);\n      });\n    }\n\n    if (event.target === event.currentTarget && isNonNativeButton() && event.key === ' ') {\n      event.preventDefault();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    } // Keyboard accessibility for non interactive elements\n\n\n    if (event.target === event.currentTarget && isNonNativeButton() && event.key === 'Enter' && !disabled) {\n      event.preventDefault();\n\n      if (onClick) {\n        onClick(event);\n      }\n    }\n  });\n  var handleKeyUp = useEventCallback(function (event) {\n    // calling preventDefault in keyUp on a <button> will not dispatch a click event if Space is pressed\n    // https://codesandbox.io/s/button-keyup-preventdefault-dn7f0\n    if (focusRipple && event.key === ' ' && rippleRef.current && focusVisible && !event.defaultPrevented) {\n      keydownRef.current = false;\n      event.persist();\n      rippleRef.current.stop(event, function () {\n        rippleRef.current.pulsate(event);\n      });\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    } // Keyboard accessibility for non interactive elements\n\n\n    if (onClick && event.target === event.currentTarget && isNonNativeButton() && event.key === ' ' && !event.defaultPrevented) {\n      onClick(event);\n    }\n  });\n  var ComponentProp = component;\n\n  if (ComponentProp === 'button' && other.href) {\n    ComponentProp = 'a';\n  }\n\n  var buttonProps = {};\n\n  if (ComponentProp === 'button') {\n    buttonProps.type = type;\n    buttonProps.disabled = disabled;\n  } else {\n    if (ComponentProp !== 'a' || !other.href) {\n      buttonProps.role = 'button';\n    }\n\n    buttonProps['aria-disabled'] = disabled;\n  }\n\n  var handleUserRef = useForkRef(buttonRefProp, ref);\n  var handleOwnRef = useForkRef(focusVisibleRef, buttonRef);\n  var handleRef = useForkRef(handleUserRef, handleOwnRef);\n\n  var _React$useState2 = React.useState(false),\n      mountedState = _React$useState2[0],\n      setMountedState = _React$useState2[1];\n\n  React.useEffect(function () {\n    setMountedState(true);\n  }, []);\n  var enableTouchRipple = mountedState && !disableRipple && !disabled;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(function () {\n      if (enableTouchRipple && !rippleRef.current) {\n        console.error(['Material-UI: The `component` prop provided to ButtonBase is invalid.', 'Please make sure the children prop is rendered in this custom component.'].join('\\n'));\n      }\n    }, [enableTouchRipple]);\n  }\n\n  return /*#__PURE__*/React.createElement(ComponentProp, _extends({\n    className: clsx(classes.root, className, focusVisible && [classes.focusVisible, focusVisibleClassName], disabled && classes.disabled),\n    onBlur: handleBlur,\n    onClick: onClick,\n    onFocus: handleFocus,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    onMouseDown: handleMouseDown,\n    onMouseLeave: handleMouseLeave,\n    onMouseUp: handleMouseUp,\n    onDragLeave: handleDragLeave,\n    onTouchEnd: handleTouchEnd,\n    onTouchMove: handleTouchMove,\n    onTouchStart: handleTouchStart,\n    ref: handleRef,\n    tabIndex: disabled ? -1 : tabIndex\n  }, buttonProps, other), children, enableTouchRipple ?\n  /*#__PURE__*/\n\n  /* TouchRipple is only needed client-side, x2 boost on the server. */\n  React.createElement(TouchRipple, _extends({\n    ref: rippleRef,\n    center: centerRipple\n  }, TouchRippleProps)) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiButtonBase'\n})(ButtonBase);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport isMuiElement from '../utils/isMuiElement';\nimport useForkRef from '../utils/useForkRef';\nimport ListContext from '../List/ListContext';\nimport * as ReactDOM from 'react-dom';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the (normally root) `component` element. May be wrapped by a `container`. */\n    root: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      position: 'relative',\n      textDecoration: 'none',\n      width: '100%',\n      boxSizing: 'border-box',\n      textAlign: 'left',\n      paddingTop: 8,\n      paddingBottom: 8,\n      '&$focusVisible': {\n        backgroundColor: theme.palette.action.selected\n      },\n      '&$selected, &$selected:hover': {\n        backgroundColor: theme.palette.action.selected\n      },\n      '&$disabled': {\n        opacity: 0.5\n      }\n    },\n\n    /* Styles applied to the `container` element if `children` includes `ListItemSecondaryAction`. */\n    container: {\n      position: 'relative'\n    },\n\n    /* Pseudo-class applied to the `component`'s `focusVisibleClassName` prop if `button={true}`. */\n    focusVisible: {},\n\n    /* Styles applied to the `component` element if dense. */\n    dense: {\n      paddingTop: 4,\n      paddingBottom: 4\n    },\n\n    /* Styles applied to the `component` element if `alignItems=\"flex-start\"`. */\n    alignItemsFlexStart: {\n      alignItems: 'flex-start'\n    },\n\n    /* Pseudo-class applied to the inner `component` element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the inner `component` element if `divider={true}`. */\n    divider: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider),\n      backgroundClip: 'padding-box'\n    },\n\n    /* Styles applied to the inner `component` element if `disableGutters={false}`. */\n    gutters: {\n      paddingLeft: 16,\n      paddingRight: 16\n    },\n\n    /* Styles applied to the inner `component` element if `button={true}`. */\n    button: {\n      transition: theme.transitions.create('background-color', {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&:hover': {\n        textDecoration: 'none',\n        backgroundColor: theme.palette.action.hover,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the `component` element if `children` includes `ListItemSecondaryAction`. */\n    secondaryAction: {\n      // Add some space to avoid collision as `ListItemSecondaryAction`\n      // is absolutely positioned.\n      paddingRight: 48\n    },\n\n    /* Pseudo-class applied to the root element if `selected={true}`. */\n    selected: {}\n  };\n};\nvar useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n/**\n * Uses an additional container component if `ListItemSecondaryAction` is the last child.\n */\n\nvar ListItem = /*#__PURE__*/React.forwardRef(function ListItem(props, ref) {\n  var _props$alignItems = props.alignItems,\n      alignItems = _props$alignItems === void 0 ? 'center' : _props$alignItems,\n      _props$autoFocus = props.autoFocus,\n      autoFocus = _props$autoFocus === void 0 ? false : _props$autoFocus,\n      _props$button = props.button,\n      button = _props$button === void 0 ? false : _props$button,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      componentProp = props.component,\n      _props$ContainerCompo = props.ContainerComponent,\n      ContainerComponent = _props$ContainerCompo === void 0 ? 'li' : _props$ContainerCompo,\n      _props$ContainerProps = props.ContainerProps;\n  _props$ContainerProps = _props$ContainerProps === void 0 ? {} : _props$ContainerProps;\n\n  var ContainerClassName = _props$ContainerProps.className,\n      ContainerProps = _objectWithoutProperties(_props$ContainerProps, [\"className\"]),\n      _props$dense = props.dense,\n      dense = _props$dense === void 0 ? false : _props$dense,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$divider = props.divider,\n      divider = _props$divider === void 0 ? false : _props$divider,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$selected = props.selected,\n      selected = _props$selected === void 0 ? false : _props$selected,\n      other = _objectWithoutProperties(props, [\"alignItems\", \"autoFocus\", \"button\", \"children\", \"classes\", \"className\", \"component\", \"ContainerComponent\", \"ContainerProps\", \"dense\", \"disabled\", \"disableGutters\", \"divider\", \"focusVisibleClassName\", \"selected\"]);\n\n  var context = React.useContext(ListContext);\n  var childContext = {\n    dense: dense || context.dense || false,\n    alignItems: alignItems\n  };\n  var listItemRef = React.useRef(null);\n  useEnhancedEffect(function () {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('Material-UI: Unable to set focus to a ListItem whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  var children = React.Children.toArray(childrenProp);\n  var hasSecondaryAction = children.length && isMuiElement(children[children.length - 1], ['ListItemSecondaryAction']);\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    listItemRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(handleOwnRef, ref);\n\n  var componentProps = _extends({\n    className: clsx(classes.root, className, childContext.dense && classes.dense, !disableGutters && classes.gutters, divider && classes.divider, disabled && classes.disabled, button && classes.button, alignItems !== \"center\" && classes.alignItemsFlexStart, hasSecondaryAction && classes.secondaryAction, selected && classes.selected),\n    disabled: disabled\n  }, other);\n\n  var Component = componentProp || 'li';\n\n  if (button) {\n    componentProps.component = componentProp || 'div';\n    componentProps.focusVisibleClassName = clsx(classes.focusVisible, focusVisibleClassName);\n    Component = ButtonBase;\n  }\n\n  if (hasSecondaryAction) {\n    // Use div by default.\n    Component = !componentProps.component && !componentProp ? 'div' : Component; // Avoid nesting of li > li.\n\n    if (ContainerComponent === 'li') {\n      if (Component === 'li') {\n        Component = 'div';\n      } else if (componentProps.component === 'li') {\n        componentProps.component = 'div';\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(ListContext.Provider, {\n      value: childContext\n    }, /*#__PURE__*/React.createElement(ContainerComponent, _extends({\n      className: clsx(classes.container, ContainerClassName),\n      ref: handleRef\n    }, ContainerProps), /*#__PURE__*/React.createElement(Component, componentProps, children), children.pop()));\n  }\n\n  return /*#__PURE__*/React.createElement(ListContext.Provider, {\n    value: childContext\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    ref: handleRef\n  }, componentProps), children));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItem'\n})(ListItem);","import * as React from 'react';\nexport default function isMuiElement(element, muiNames) {\n  return /*#__PURE__*/React.isValidElement(element) && muiNames.indexOf(element.type.muiName) !== -1;\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  var elevations = {};\n  theme.shadows.forEach(function (shadow, index) {\n    elevations[\"elevation\".concat(index)] = {\n      boxShadow: shadow\n    };\n  });\n  return _extends({\n    /* Styles applied to the root element. */\n    root: {\n      backgroundColor: theme.palette.background.paper,\n      color: theme.palette.text.primary,\n      transition: theme.transitions.create('box-shadow')\n    },\n\n    /* Styles applied to the root element if `square={false}`. */\n    rounded: {\n      borderRadius: theme.shape.borderRadius\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"`. */\n    outlined: {\n      border: \"1px solid \".concat(theme.palette.divider)\n    }\n  }, elevations);\n};\nvar Paper = /*#__PURE__*/React.forwardRef(function Paper(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$square = props.square,\n      square = _props$square === void 0 ? false : _props$square,\n      _props$elevation = props.elevation,\n      elevation = _props$elevation === void 0 ? 1 : _props$elevation,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'elevation' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"square\", \"elevation\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, variant === 'outlined' ? classes.outlined : classes[\"elevation\".concat(elevation)], !square && classes.rounded),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiPaper'\n})(Paper);","import { formatMuiErrorMessage as _formatMuiErrorMessage } from \"@material-ui/utils\"; // It should to be noted that this function isn't equivalent to `text-transform: capitalize`.\n//\n// A strict capitalization should uppercase the first letter of each word a the sentence.\n// We only handle the first word.\n\nexport default function capitalize(string) {\n  if (typeof string !== 'string') {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: capitalize(string) expects a string argument.\" : _formatMuiErrorMessage(7));\n  }\n\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, {\n      boxSizing: 'border-box',\n      minWidth: 64,\n      padding: '6px 16px',\n      borderRadius: theme.shape.borderRadius,\n      color: theme.palette.text.primary,\n      transition: theme.transitions.create(['background-color', 'box-shadow', 'border'], {\n        duration: theme.transitions.duration.short\n      }),\n      '&:hover': {\n        textDecoration: 'none',\n        backgroundColor: fade(theme.palette.text.primary, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        '&$disabled': {\n          backgroundColor: 'transparent'\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled\n      }\n    }),\n\n    /* Styles applied to the span element that wraps the children. */\n    label: {\n      width: '100%',\n      // Ensure the correct width for iOS Safari\n      display: 'inherit',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"`. */\n    text: {\n      padding: '6px 8px'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"` and `color=\"primary\"`. */\n    textPrimary: {\n      color: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"` and `color=\"secondary\"`. */\n    textSecondary: {\n      color: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"`. */\n    outlined: {\n      padding: '5px 15px',\n      border: \"1px solid \".concat(theme.palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'),\n      '&$disabled': {\n        border: \"1px solid \".concat(theme.palette.action.disabledBackground)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"primary\"`. */\n    outlinedPrimary: {\n      color: theme.palette.primary.main,\n      border: \"1px solid \".concat(fade(theme.palette.primary.main, 0.5)),\n      '&:hover': {\n        border: \"1px solid \".concat(theme.palette.primary.main),\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"secondary\"`. */\n    outlinedSecondary: {\n      color: theme.palette.secondary.main,\n      border: \"1px solid \".concat(fade(theme.palette.secondary.main, 0.5)),\n      '&:hover': {\n        border: \"1px solid \".concat(theme.palette.secondary.main),\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      },\n      '&$disabled': {\n        border: \"1px solid \".concat(theme.palette.action.disabled)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"contained\"`. */\n    contained: {\n      color: theme.palette.getContrastText(theme.palette.grey[300]),\n      backgroundColor: theme.palette.grey[300],\n      boxShadow: theme.shadows[2],\n      '&:hover': {\n        backgroundColor: theme.palette.grey.A100,\n        boxShadow: theme.shadows[4],\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          boxShadow: theme.shadows[2],\n          backgroundColor: theme.palette.grey[300]\n        },\n        '&$disabled': {\n          backgroundColor: theme.palette.action.disabledBackground\n        }\n      },\n      '&$focusVisible': {\n        boxShadow: theme.shadows[6]\n      },\n      '&:active': {\n        boxShadow: theme.shadows[8]\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled,\n        boxShadow: theme.shadows[0],\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"contained\"` and `color=\"primary\"`. */\n    containedPrimary: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.primary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"contained\"` and `color=\"secondary\"`. */\n    containedSecondary: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.secondary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.secondary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `disableElevation={true}`. */\n    disableElevation: {\n      boxShadow: 'none',\n      '&:hover': {\n        boxShadow: 'none'\n      },\n      '&$focusVisible': {\n        boxShadow: 'none'\n      },\n      '&:active': {\n        boxShadow: 'none'\n      },\n      '&$disabled': {\n        boxShadow: 'none'\n      }\n    },\n\n    /* Pseudo-class applied to the ButtonBase root element if the button is keyboard focused. */\n    focusVisible: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit',\n      borderColor: 'currentColor'\n    },\n\n    /* Styles applied to the root element if `size=\"small\"` and `variant=\"text\"`. */\n    textSizeSmall: {\n      padding: '4px 5px',\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"` and `variant=\"text\"`. */\n    textSizeLarge: {\n      padding: '8px 11px',\n      fontSize: theme.typography.pxToRem(15)\n    },\n\n    /* Styles applied to the root element if `size=\"small\"` and `variant=\"outlined\"`. */\n    outlinedSizeSmall: {\n      padding: '3px 9px',\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"` and `variant=\"outlined\"`. */\n    outlinedSizeLarge: {\n      padding: '7px 21px',\n      fontSize: theme.typography.pxToRem(15)\n    },\n\n    /* Styles applied to the root element if `size=\"small\"` and `variant=\"contained\"`. */\n    containedSizeSmall: {\n      padding: '4px 10px',\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"` and `variant=\"contained\"`. */\n    containedSizeLarge: {\n      padding: '8px 22px',\n      fontSize: theme.typography.pxToRem(15)\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {},\n\n    /* Styles applied to the root element if `size=\"large\"`. */\n    sizeLarge: {},\n\n    /* Styles applied to the root element if `fullWidth={true}`. */\n    fullWidth: {\n      width: '100%'\n    },\n\n    /* Styles applied to the startIcon element if supplied. */\n    startIcon: {\n      display: 'inherit',\n      marginRight: 8,\n      marginLeft: -4,\n      '&$iconSizeSmall': {\n        marginLeft: -2\n      }\n    },\n\n    /* Styles applied to the endIcon element if supplied. */\n    endIcon: {\n      display: 'inherit',\n      marginRight: -4,\n      marginLeft: 8,\n      '&$iconSizeSmall': {\n        marginRight: -2\n      }\n    },\n\n    /* Styles applied to the icon element if supplied and `size=\"small\"`. */\n    iconSizeSmall: {\n      '& > *:first-child': {\n        fontSize: 18\n      }\n    },\n\n    /* Styles applied to the icon element if supplied and `size=\"medium\"`. */\n    iconSizeMedium: {\n      '& > *:first-child': {\n        fontSize: 20\n      }\n    },\n\n    /* Styles applied to the icon element if supplied and `size=\"large\"`. */\n    iconSizeLarge: {\n      '& > *:first-child': {\n        fontSize: 22\n      }\n    }\n  };\n};\nvar Button = /*#__PURE__*/React.forwardRef(function Button(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'button' : _props$component,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableElevati = props.disableElevation,\n      disableElevation = _props$disableElevati === void 0 ? false : _props$disableElevati,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      endIconProp = props.endIcon,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$fullWidth = props.fullWidth,\n      fullWidth = _props$fullWidth === void 0 ? false : _props$fullWidth,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      startIconProp = props.startIcon,\n      _props$type = props.type,\n      type = _props$type === void 0 ? 'button' : _props$type,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"color\", \"component\", \"disabled\", \"disableElevation\", \"disableFocusRipple\", \"endIcon\", \"focusVisibleClassName\", \"fullWidth\", \"size\", \"startIcon\", \"type\", \"variant\"]);\n\n  var startIcon = startIconProp && /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.startIcon, classes[\"iconSize\".concat(capitalize(size))])\n  }, startIconProp);\n  var endIcon = endIconProp && /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.endIcon, classes[\"iconSize\".concat(capitalize(size))])\n  }, endIconProp);\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, classes[variant], className, color === 'inherit' ? classes.colorInherit : color !== 'default' && classes[\"\".concat(variant).concat(capitalize(color))], size !== 'medium' && [classes[\"\".concat(variant, \"Size\").concat(capitalize(size))], classes[\"size\".concat(capitalize(size))]], disableElevation && classes.disableElevation, disabled && classes.disabled, fullWidth && classes.fullWidth),\n    component: component,\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    ref: ref,\n    type: type\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.label\n  }, startIcon, children, endIcon));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiButton'\n})(Button);","import \"core-js/modules/es.math.hypot.js\";\n\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as vec4 from 'gl-matrix/vec4';\nexport function createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nexport function transformVector(matrix, vector) {\n  var result = vec4.transformMat4([], vector, matrix);\n  vec4.scale(result, result, 1 / result[3]);\n  return result;\n}\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function lerp(start, end, step) {\n  return step * end + (1 - step) * start;\n}","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || '@math.gl/web-mercator: assertion failed.');\n  }\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { createMat4, transformVector } from './math-utils';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\nimport assert from './assert';\nvar PI = Math.PI;\nvar PI_4 = PI / 4;\nvar DEGREES_TO_RADIANS = PI / 180;\nvar RADIANS_TO_DEGREES = 180 / PI;\nvar TILE_SIZE = 512;\nvar EARTH_CIRCUMFERENCE = 40.03e6;\nvar DEFAULT_ALTITUDE = 1.5;\nexport function zoomToScale(zoom) {\n  return Math.pow(2, zoom);\n}\nexport function scaleToZoom(scale) {\n  return Math.log2(scale);\n}\nexport function lngLatToWorld(_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      lng = _ref2[0],\n      lat = _ref2[1];\n\n  assert(Number.isFinite(lng));\n  assert(Number.isFinite(lat) && lat >= -90 && lat <= 90, 'invalid latitude');\n  var lambda2 = lng * DEGREES_TO_RADIANS;\n  var phi2 = lat * DEGREES_TO_RADIANS;\n  var x = TILE_SIZE * (lambda2 + PI) / (2 * PI);\n  var y = TILE_SIZE * (PI + Math.log(Math.tan(PI_4 + phi2 * 0.5))) / (2 * PI);\n  return [x, y];\n}\nexport function worldToLngLat(_ref3) {\n  var _ref4 = _slicedToArray(_ref3, 2),\n      x = _ref4[0],\n      y = _ref4[1];\n\n  var lambda2 = x / TILE_SIZE * (2 * PI) - PI;\n  var phi2 = 2 * (Math.atan(Math.exp(y / TILE_SIZE * (2 * PI) - PI)) - PI_4);\n  return [lambda2 * RADIANS_TO_DEGREES, phi2 * RADIANS_TO_DEGREES];\n}\nexport function getMeterZoom(_ref5) {\n  var latitude = _ref5.latitude;\n  assert(Number.isFinite(latitude));\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return scaleToZoom(EARTH_CIRCUMFERENCE * latCosine) - 9;\n}\nexport function getDistanceScales(_ref6) {\n  var latitude = _ref6.latitude,\n      longitude = _ref6.longitude,\n      _ref6$highPrecision = _ref6.highPrecision,\n      highPrecision = _ref6$highPrecision === void 0 ? false : _ref6$highPrecision;\n  assert(Number.isFinite(latitude) && Number.isFinite(longitude));\n  var result = {};\n  var worldSize = TILE_SIZE;\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  var unitsPerDegreeX = worldSize / 360;\n  var unitsPerDegreeY = unitsPerDegreeX / latCosine;\n  var altUnitsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n  result.unitsPerMeter = [altUnitsPerMeter, altUnitsPerMeter, altUnitsPerMeter];\n  result.metersPerUnit = [1 / altUnitsPerMeter, 1 / altUnitsPerMeter, 1 / altUnitsPerMeter];\n  result.unitsPerDegree = [unitsPerDegreeX, unitsPerDegreeY, altUnitsPerMeter];\n  result.degreesPerUnit = [1 / unitsPerDegreeX, 1 / unitsPerDegreeY, 1 / altUnitsPerMeter];\n\n  if (highPrecision) {\n    var latCosine2 = DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS) / latCosine;\n    var unitsPerDegreeY2 = unitsPerDegreeX * latCosine2 / 2;\n    var altUnitsPerDegree2 = worldSize / EARTH_CIRCUMFERENCE * latCosine2;\n    var altUnitsPerMeter2 = altUnitsPerDegree2 / unitsPerDegreeY * altUnitsPerMeter;\n    result.unitsPerDegree2 = [0, unitsPerDegreeY2, altUnitsPerDegree2];\n    result.unitsPerMeter2 = [altUnitsPerMeter2, 0, altUnitsPerMeter2];\n  }\n\n  return result;\n}\nexport function addMetersToLngLat(lngLatZ, xyz) {\n  var _lngLatZ = _slicedToArray(lngLatZ, 3),\n      longitude = _lngLatZ[0],\n      latitude = _lngLatZ[1],\n      z0 = _lngLatZ[2];\n\n  var _xyz = _slicedToArray(xyz, 3),\n      x = _xyz[0],\n      y = _xyz[1],\n      z = _xyz[2];\n\n  var _getDistanceScales = getDistanceScales({\n    longitude: longitude,\n    latitude: latitude,\n    highPrecision: true\n  }),\n      unitsPerMeter = _getDistanceScales.unitsPerMeter,\n      unitsPerMeter2 = _getDistanceScales.unitsPerMeter2;\n\n  var worldspace = lngLatToWorld(lngLatZ);\n  worldspace[0] += x * (unitsPerMeter[0] + unitsPerMeter2[0] * y);\n  worldspace[1] += y * (unitsPerMeter[1] + unitsPerMeter2[1] * y);\n  var newLngLat = worldToLngLat(worldspace);\n  var newZ = (z0 || 0) + (z || 0);\n  return Number.isFinite(z0) || Number.isFinite(z) ? [newLngLat[0], newLngLat[1], newZ] : newLngLat;\n}\nexport function getViewMatrix(_ref7) {\n  var height = _ref7.height,\n      pitch = _ref7.pitch,\n      bearing = _ref7.bearing,\n      altitude = _ref7.altitude,\n      scale = _ref7.scale,\n      _ref7$center = _ref7.center,\n      center = _ref7$center === void 0 ? null : _ref7$center;\n  var vm = createMat4();\n  mat4.translate(vm, vm, [0, 0, -altitude]);\n  mat4.rotateX(vm, vm, -pitch * DEGREES_TO_RADIANS);\n  mat4.rotateZ(vm, vm, bearing * DEGREES_TO_RADIANS);\n  scale /= height;\n  mat4.scale(vm, vm, [scale, scale, scale]);\n\n  if (center) {\n    mat4.translate(vm, vm, vec3.negate([], center));\n  }\n\n  return vm;\n}\nexport function getProjectionParameters(_ref8) {\n  var width = _ref8.width,\n      height = _ref8.height,\n      _ref8$altitude = _ref8.altitude,\n      altitude = _ref8$altitude === void 0 ? DEFAULT_ALTITUDE : _ref8$altitude,\n      _ref8$pitch = _ref8.pitch,\n      pitch = _ref8$pitch === void 0 ? 0 : _ref8$pitch,\n      _ref8$nearZMultiplier = _ref8.nearZMultiplier,\n      nearZMultiplier = _ref8$nearZMultiplier === void 0 ? 1 : _ref8$nearZMultiplier,\n      _ref8$farZMultiplier = _ref8.farZMultiplier,\n      farZMultiplier = _ref8$farZMultiplier === void 0 ? 1 : _ref8$farZMultiplier;\n  var pitchRadians = pitch * DEGREES_TO_RADIANS;\n  var halfFov = Math.atan(0.5 / altitude);\n  var topHalfSurfaceDistance = Math.sin(halfFov) * altitude / Math.sin(Math.min(Math.max(Math.PI / 2 - pitchRadians - halfFov, 0.01), Math.PI - 0.01));\n  var farZ = Math.sin(pitchRadians) * topHalfSurfaceDistance + altitude;\n  return {\n    fov: 2 * halfFov,\n    aspect: width / height,\n    focalDistance: altitude,\n    near: nearZMultiplier,\n    far: farZ * farZMultiplier\n  };\n}\nexport function getProjectionMatrix(_ref9) {\n  var width = _ref9.width,\n      height = _ref9.height,\n      pitch = _ref9.pitch,\n      altitude = _ref9.altitude,\n      nearZMultiplier = _ref9.nearZMultiplier,\n      farZMultiplier = _ref9.farZMultiplier;\n\n  var _getProjectionParamet = getProjectionParameters({\n    width: width,\n    height: height,\n    altitude: altitude,\n    pitch: pitch,\n    nearZMultiplier: nearZMultiplier,\n    farZMultiplier: farZMultiplier\n  }),\n      fov = _getProjectionParamet.fov,\n      aspect = _getProjectionParamet.aspect,\n      near = _getProjectionParamet.near,\n      far = _getProjectionParamet.far;\n\n  var projectionMatrix = mat4.perspective([], fov, aspect, near, far);\n  return projectionMatrix;\n}\nexport function worldToPixels(xyz, pixelProjectionMatrix) {\n  var _xyz2 = _slicedToArray(xyz, 3),\n      x = _xyz2[0],\n      y = _xyz2[1],\n      _xyz2$ = _xyz2[2],\n      z = _xyz2$ === void 0 ? 0 : _xyz2$;\n\n  assert(Number.isFinite(x) && Number.isFinite(y) && Number.isFinite(z));\n  return transformVector(pixelProjectionMatrix, [x, y, z, 1]);\n}\nexport function pixelsToWorld(xyz, pixelUnprojectionMatrix) {\n  var targetZ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  var _xyz3 = _slicedToArray(xyz, 3),\n      x = _xyz3[0],\n      y = _xyz3[1],\n      z = _xyz3[2];\n\n  assert(Number.isFinite(x) && Number.isFinite(y), 'invalid pixel coordinate');\n\n  if (Number.isFinite(z)) {\n    var coord = transformVector(pixelUnprojectionMatrix, [x, y, z, 1]);\n    return coord;\n  }\n\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, y, 0, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, y, 1, 1]);\n  var z0 = coord0[2];\n  var z1 = coord1[2];\n  var t = z0 === z1 ? 0 : ((targetZ || 0) - z0) / (z1 - z0);\n  return vec2.lerp([], coord0, coord1, t);\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport WebMercatorViewport from './web-mercator-viewport';\nimport assert from './assert';\nexport default function fitBounds(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      bounds = _ref.bounds,\n      _ref$minExtent = _ref.minExtent,\n      minExtent = _ref$minExtent === void 0 ? 0 : _ref$minExtent,\n      _ref$maxZoom = _ref.maxZoom,\n      maxZoom = _ref$maxZoom === void 0 ? 24 : _ref$maxZoom,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$offset = _ref.offset,\n      offset = _ref$offset === void 0 ? [0, 0] : _ref$offset;\n\n  var _bounds = _slicedToArray(bounds, 2),\n      _bounds$ = _slicedToArray(_bounds[0], 2),\n      west = _bounds$[0],\n      south = _bounds$[1],\n      _bounds$2 = _slicedToArray(_bounds[1], 2),\n      east = _bounds$2[0],\n      north = _bounds$2[1];\n\n  if (Number.isFinite(padding)) {\n    var p = padding;\n    padding = {\n      top: p,\n      bottom: p,\n      left: p,\n      right: p\n    };\n  } else {\n    assert(Number.isFinite(padding.top) && Number.isFinite(padding.bottom) && Number.isFinite(padding.left) && Number.isFinite(padding.right));\n  }\n\n  var viewport = new WebMercatorViewport({\n    width: width,\n    height: height,\n    longitude: 0,\n    latitude: 0,\n    zoom: 0\n  });\n  var nw = viewport.project([west, north]);\n  var se = viewport.project([east, south]);\n  var size = [Math.max(Math.abs(se[0] - nw[0]), minExtent), Math.max(Math.abs(se[1] - nw[1]), minExtent)];\n  var targetSize = [width - padding.left - padding.right - Math.abs(offset[0]) * 2, height - padding.top - padding.bottom - Math.abs(offset[1]) * 2];\n  assert(targetSize[0] > 0 && targetSize[1] > 0);\n  var scaleX = targetSize[0] / size[0];\n  var scaleY = targetSize[1] / size[1];\n  var offsetX = (padding.right - padding.left) / 2 / scaleX;\n  var offsetY = (padding.bottom - padding.top) / 2 / scaleY;\n  var center = [(se[0] + nw[0]) / 2 + offsetX, (se[1] + nw[1]) / 2 + offsetY];\n  var centerLngLat = viewport.unproject(center);\n  var zoom = Math.min(maxZoom, viewport.zoom + Math.log2(Math.abs(Math.min(scaleX, scaleY))));\n  assert(Number.isFinite(zoom));\n  return {\n    longitude: centerLngLat[0],\n    latitude: centerLngLat[1],\n    zoom: zoom\n  };\n}","import { worldToLngLat } from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\nimport { transformVector } from './math-utils';\nvar DEGREES_TO_RADIANS = Math.PI / 180;\nexport default function getBounds(viewport) {\n  var z = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var width = viewport.width,\n      height = viewport.height,\n      unproject = viewport.unproject;\n  var unprojectOps = {\n    targetZ: z\n  };\n  var bottomLeft = unproject([0, height], unprojectOps);\n  var bottomRight = unproject([width, height], unprojectOps);\n  var topLeft;\n  var topRight;\n  var halfFov = Math.atan(0.5 / viewport.altitude);\n  var angleToGround = (90 - viewport.pitch) * DEGREES_TO_RADIANS;\n\n  if (halfFov > angleToGround - 0.01) {\n    topLeft = unprojectOnFarPlane(viewport, 0, z);\n    topRight = unprojectOnFarPlane(viewport, width, z);\n  } else {\n    topLeft = unproject([0, 0], unprojectOps);\n    topRight = unproject([width, 0], unprojectOps);\n  }\n\n  return [bottomLeft, bottomRight, topRight, topLeft];\n}\n\nfunction unprojectOnFarPlane(viewport, x, targetZ) {\n  var pixelUnprojectionMatrix = viewport.pixelUnprojectionMatrix;\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, 0, 1, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, viewport.height, 1, 1]);\n  var z = targetZ * viewport.distanceScales.unitsPerMeter[2];\n  var t = (z - coord0[2]) / (coord1[2] - coord0[2]);\n  var coord = vec2.lerp([], coord0, coord1, t);\n  var result = worldToLngLat(coord);\n  result[2] = targetZ;\n  return result;\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { createMat4 } from './math-utils';\nimport { zoomToScale, pixelsToWorld, lngLatToWorld, worldToLngLat, worldToPixels, getProjectionMatrix, getDistanceScales, getViewMatrix } from './web-mercator-utils';\nimport _fitBounds from './fit-bounds';\nimport getBounds from './get-bounds';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\n\nvar WebMercatorViewport = function () {\n  function WebMercatorViewport() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      width: 1,\n      height: 1\n    },\n        width = _ref.width,\n        height = _ref.height,\n        _ref$latitude = _ref.latitude,\n        latitude = _ref$latitude === void 0 ? 0 : _ref$latitude,\n        _ref$longitude = _ref.longitude,\n        longitude = _ref$longitude === void 0 ? 0 : _ref$longitude,\n        _ref$zoom = _ref.zoom,\n        zoom = _ref$zoom === void 0 ? 0 : _ref$zoom,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude,\n        _ref$nearZMultiplier = _ref.nearZMultiplier,\n        nearZMultiplier = _ref$nearZMultiplier === void 0 ? 0.02 : _ref$nearZMultiplier,\n        _ref$farZMultiplier = _ref.farZMultiplier,\n        farZMultiplier = _ref$farZMultiplier === void 0 ? 1.01 : _ref$farZMultiplier;\n\n    _classCallCheck(this, WebMercatorViewport);\n\n    width = width || 1;\n    height = height || 1;\n    var scale = zoomToScale(zoom);\n    altitude = Math.max(0.75, altitude);\n    var center = lngLatToWorld([longitude, latitude]);\n    center[2] = 0;\n    this.projectionMatrix = getProjectionMatrix({\n      width: width,\n      height: height,\n      pitch: pitch,\n      altitude: altitude,\n      nearZMultiplier: nearZMultiplier,\n      farZMultiplier: farZMultiplier\n    });\n    this.viewMatrix = getViewMatrix({\n      height: height,\n      scale: scale,\n      center: center,\n      pitch: pitch,\n      bearing: bearing,\n      altitude: altitude\n    });\n    this.width = width;\n    this.height = height;\n    this.scale = scale;\n    this.latitude = latitude;\n    this.longitude = longitude;\n    this.zoom = zoom;\n    this.pitch = pitch;\n    this.bearing = bearing;\n    this.altitude = altitude;\n    this.center = center;\n    this.distanceScales = getDistanceScales(this);\n\n    this._initMatrices();\n\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    Object.freeze(this);\n  }\n\n  _createClass(WebMercatorViewport, [{\n    key: \"_initMatrices\",\n    value: function _initMatrices() {\n      var width = this.width,\n          height = this.height,\n          projectionMatrix = this.projectionMatrix,\n          viewMatrix = this.viewMatrix;\n      var vpm = createMat4();\n      mat4.multiply(vpm, vpm, projectionMatrix);\n      mat4.multiply(vpm, vpm, viewMatrix);\n      this.viewProjectionMatrix = vpm;\n      var m = createMat4();\n      mat4.scale(m, m, [width / 2, -height / 2, 1]);\n      mat4.translate(m, m, [1, -1, 0]);\n      mat4.multiply(m, m, vpm);\n      var mInverse = mat4.invert(createMat4(), m);\n\n      if (!mInverse) {\n        throw new Error('Pixel project matrix not invertible');\n      }\n\n      this.pixelProjectionMatrix = m;\n      this.pixelUnprojectionMatrix = mInverse;\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof WebMercatorViewport)) {\n        return false;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && mat4.equals(viewport.projectionMatrix, this.projectionMatrix) && mat4.equals(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$topLeft = _ref2.topLeft,\n          topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft;\n\n      var worldPosition = this.projectPosition(xyz);\n      var coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n\n      var _coord = _slicedToArray(coord, 2),\n          x = _coord[0],\n          y = _coord[1];\n\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref3$topLeft = _ref3.topLeft,\n          topLeft = _ref3$topLeft === void 0 ? true : _ref3$topLeft,\n          _ref3$targetZ = _ref3.targetZ,\n          targetZ = _ref3$targetZ === void 0 ? undefined : _ref3$targetZ;\n\n      var _xyz = _slicedToArray(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n      var coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = _slicedToArray(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _lngLatToWorld = lngLatToWorld(xyz),\n          _lngLatToWorld2 = _slicedToArray(_lngLatToWorld, 2),\n          X = _lngLatToWorld2[0],\n          Y = _lngLatToWorld2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _worldToLngLat = worldToLngLat(xyz),\n          _worldToLngLat2 = _slicedToArray(_worldToLngLat, 2),\n          X = _worldToLngLat2[0],\n          Y = _worldToLngLat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(lngLat) {\n      return lngLatToWorld(lngLat);\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xy) {\n      return worldToLngLat(xy);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref4) {\n      var lngLat = _ref4.lngLat,\n          pos = _ref4.pos;\n      var fromLocation = pixelsToWorld(pos, this.pixelUnprojectionMatrix);\n      var toLocation = lngLatToWorld(lngLat);\n      var translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n      var newCenter = vec2.add([], this.center, translate);\n      return worldToLngLat(newCenter);\n    }\n  }, {\n    key: \"getLocationAtPoint\",\n    value: function getLocationAtPoint(_ref5) {\n      var lngLat = _ref5.lngLat,\n          pos = _ref5.pos;\n      return this.getMapCenterByLngLatPosition({\n        lngLat: lngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n          height = this.height;\n\n      var _fitBounds2 = _fitBounds(Object.assign({\n        width: width,\n        height: height,\n        bounds: bounds\n      }, options)),\n          longitude = _fitBounds2.longitude,\n          latitude = _fitBounds2.latitude,\n          zoom = _fitBounds2.zoom;\n\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds(options) {\n      var corners = this.getBoundingRegion(options);\n      var west = Math.min.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[0];\n      })));\n      var east = Math.max.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[0];\n      })));\n      var south = Math.min.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[1];\n      })));\n      var north = Math.max.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[1];\n      })));\n      return [[west, south], [east, north]];\n    }\n  }, {\n    key: \"getBoundingRegion\",\n    value: function getBoundingRegion() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return getBounds(this, options.z || 0);\n    }\n  }]);\n\n  return WebMercatorViewport;\n}();\n\nexport { WebMercatorViewport as default };","function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport { lerp } from './math-utils';\nimport { scaleToZoom, zoomToScale, lngLatToWorld, worldToLngLat } from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\nvar EPSILON = 0.01;\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom'];\nvar DEFAULT_OPTS = {\n  curve: 1.414,\n  speed: 1.2\n};\nexport default function flyToViewport(startProps, endProps, t) {\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var viewport = {};\n\n  var _getFlyToTransitionPa = getFlyToTransitionParams(startProps, endProps, opts),\n      startZoom = _getFlyToTransitionPa.startZoom,\n      startCenterXY = _getFlyToTransitionPa.startCenterXY,\n      uDelta = _getFlyToTransitionPa.uDelta,\n      w0 = _getFlyToTransitionPa.w0,\n      u1 = _getFlyToTransitionPa.u1,\n      S = _getFlyToTransitionPa.S,\n      rho = _getFlyToTransitionPa.rho,\n      rho2 = _getFlyToTransitionPa.rho2,\n      r0 = _getFlyToTransitionPa.r0;\n\n  if (u1 < EPSILON) {\n    var _iterator = _createForOfIteratorHelper(VIEWPORT_TRANSITION_PROPS),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var key = _step.value;\n        var startValue = startProps[key];\n        var endValue = endProps[key];\n        viewport[key] = lerp(startValue, endValue, t);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return viewport;\n  }\n\n  var s = t * S;\n  var w = Math.cosh(r0) / Math.cosh(r0 + rho * s);\n  var u = w0 * ((Math.cosh(r0) * Math.tanh(r0 + rho * s) - Math.sinh(r0)) / rho2) / u1;\n  var scaleIncrement = 1 / w;\n  var newZoom = startZoom + scaleToZoom(scaleIncrement);\n  var newCenterWorld = vec2.scale([], uDelta, u);\n  vec2.add(newCenterWorld, newCenterWorld, startCenterXY);\n  var newCenter = worldToLngLat(newCenterWorld);\n  viewport.longitude = newCenter[0];\n  viewport.latitude = newCenter[1];\n  viewport.zoom = newZoom;\n  return viewport;\n}\nexport function getFlyToDuration(startProps, endProps) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var _opts = opts,\n      screenSpeed = _opts.screenSpeed,\n      speed = _opts.speed,\n      maxDuration = _opts.maxDuration;\n\n  var _getFlyToTransitionPa2 = getFlyToTransitionParams(startProps, endProps, opts),\n      S = _getFlyToTransitionPa2.S,\n      rho = _getFlyToTransitionPa2.rho;\n\n  var length = 1000 * S;\n  var duration;\n\n  if (Number.isFinite(screenSpeed)) {\n    duration = length / (screenSpeed / rho);\n  } else {\n    duration = length / speed;\n  }\n\n  return Number.isFinite(maxDuration) && duration > maxDuration ? 0 : duration;\n}\n\nfunction getFlyToTransitionParams(startProps, endProps, opts) {\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var rho = opts.curve;\n  var startZoom = startProps.zoom;\n  var startCenter = [startProps.longitude, startProps.latitude];\n  var startScale = zoomToScale(startZoom);\n  var endZoom = endProps.zoom;\n  var endCenter = [endProps.longitude, endProps.latitude];\n  var scale = zoomToScale(endZoom - startZoom);\n  var startCenterXY = lngLatToWorld(startCenter);\n  var endCenterXY = lngLatToWorld(endCenter);\n  var uDelta = vec2.sub([], endCenterXY, startCenterXY);\n  var w0 = Math.max(startProps.width, startProps.height);\n  var w1 = w0 / scale;\n  var u1 = vec2.length(uDelta) * startScale;\n\n  var _u1 = Math.max(u1, EPSILON);\n\n  var rho2 = rho * rho;\n  var b0 = (w1 * w1 - w0 * w0 + rho2 * rho2 * _u1 * _u1) / (2 * w0 * rho2 * _u1);\n  var b1 = (w1 * w1 - w0 * w0 - rho2 * rho2 * _u1 * _u1) / (2 * w1 * rho2 * _u1);\n  var r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0);\n  var r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n  var S = (r1 - r0) / rho;\n  return {\n    startZoom: startZoom,\n    startCenterXY: startCenterXY,\n    uDelta: uDelta,\n    w0: w0,\n    u1: u1,\n    S: S,\n    rho: rho,\n    rho2: rho2,\n    r0: r0,\n    r1: r1\n  };\n}","var EPSILON = 1e-7;\n\nfunction isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value);\n}\n\nexport function equals(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; ++i) {\n      if (!equals(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return Math.abs(a - b) <= EPSILON;\n}\nexport function clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map(function (ai, i) {\n      return lerp(ai, b[i], t);\n    });\n  }\n\n  return t * b + (1 - t) * a;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'react-map-gl: assertion failed.');\n  }\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport WebMercatorViewport, { normalizeViewportProps } from 'viewport-mercator-project';\nimport { clamp } from './math-utils';\nimport assert from './assert';\nexport var MAPBOX_LIMITS = {\n  minZoom: 0,\n  maxZoom: 24,\n  minPitch: 0,\n  maxPitch: 85\n};\nvar DEFAULT_STATE = {\n  pitch: 0,\n  bearing: 0,\n  altitude: 1.5\n};\nvar PITCH_MOUSE_THRESHOLD = 5;\nvar PITCH_ACCEL = 1.2;\n\nvar MapState = function () {\n  function MapState(_ref) {\n    var width = _ref.width,\n        height = _ref.height,\n        latitude = _ref.latitude,\n        longitude = _ref.longitude,\n        zoom = _ref.zoom,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? DEFAULT_STATE.bearing : _ref$bearing,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? DEFAULT_STATE.pitch : _ref$pitch,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? DEFAULT_STATE.altitude : _ref$altitude,\n        _ref$maxZoom = _ref.maxZoom,\n        maxZoom = _ref$maxZoom === void 0 ? MAPBOX_LIMITS.maxZoom : _ref$maxZoom,\n        _ref$minZoom = _ref.minZoom,\n        minZoom = _ref$minZoom === void 0 ? MAPBOX_LIMITS.minZoom : _ref$minZoom,\n        _ref$maxPitch = _ref.maxPitch,\n        maxPitch = _ref$maxPitch === void 0 ? MAPBOX_LIMITS.maxPitch : _ref$maxPitch,\n        _ref$minPitch = _ref.minPitch,\n        minPitch = _ref$minPitch === void 0 ? MAPBOX_LIMITS.minPitch : _ref$minPitch,\n        transitionDuration = _ref.transitionDuration,\n        transitionEasing = _ref.transitionEasing,\n        transitionInterpolator = _ref.transitionInterpolator,\n        transitionInterruption = _ref.transitionInterruption,\n        startPanLngLat = _ref.startPanLngLat,\n        startZoomLngLat = _ref.startZoomLngLat,\n        startRotatePos = _ref.startRotatePos,\n        startBearing = _ref.startBearing,\n        startPitch = _ref.startPitch,\n        startZoom = _ref.startZoom;\n\n    _classCallCheck(this, MapState);\n\n    assert(Number.isFinite(width), '`width` must be supplied');\n    assert(Number.isFinite(height), '`height` must be supplied');\n    assert(Number.isFinite(longitude), '`longitude` must be supplied');\n    assert(Number.isFinite(latitude), '`latitude` must be supplied');\n    assert(Number.isFinite(zoom), '`zoom` must be supplied');\n    this._viewportProps = this._applyConstraints({\n      width: width,\n      height: height,\n      latitude: latitude,\n      longitude: longitude,\n      zoom: zoom,\n      bearing: bearing,\n      pitch: pitch,\n      altitude: altitude,\n      maxZoom: maxZoom,\n      minZoom: minZoom,\n      maxPitch: maxPitch,\n      minPitch: minPitch,\n      transitionDuration: transitionDuration,\n      transitionEasing: transitionEasing,\n      transitionInterpolator: transitionInterpolator,\n      transitionInterruption: transitionInterruption\n    });\n    this._state = {\n      startPanLngLat: startPanLngLat,\n      startZoomLngLat: startZoomLngLat,\n      startRotatePos: startRotatePos,\n      startBearing: startBearing,\n      startPitch: startPitch,\n      startZoom: startZoom\n    };\n  }\n\n  _createClass(MapState, [{\n    key: \"getViewportProps\",\n    value: function getViewportProps() {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this._state;\n    }\n  }, {\n    key: \"panStart\",\n    value: function panStart(_ref2) {\n      var pos = _ref2.pos;\n      return this._getUpdatedMapState({\n        startPanLngLat: this._unproject(pos)\n      });\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(_ref3) {\n      var pos = _ref3.pos,\n          startPos = _ref3.startPos;\n\n      var startPanLngLat = this._state.startPanLngLat || this._unproject(startPos);\n\n      if (!startPanLngLat) {\n        return this;\n      }\n\n      var _this$_calculateNewLn = this._calculateNewLngLat({\n        startPanLngLat: startPanLngLat,\n        pos: pos\n      }),\n          _this$_calculateNewLn2 = _slicedToArray(_this$_calculateNewLn, 2),\n          longitude = _this$_calculateNewLn2[0],\n          latitude = _this$_calculateNewLn2[1];\n\n      return this._getUpdatedMapState({\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"panEnd\",\n    value: function panEnd() {\n      return this._getUpdatedMapState({\n        startPanLngLat: null\n      });\n    }\n  }, {\n    key: \"rotateStart\",\n    value: function rotateStart(_ref4) {\n      var pos = _ref4.pos;\n      return this._getUpdatedMapState({\n        startRotatePos: pos,\n        startBearing: this._viewportProps.bearing,\n        startPitch: this._viewportProps.pitch\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(_ref5) {\n      var pos = _ref5.pos,\n          _ref5$deltaAngleX = _ref5.deltaAngleX,\n          deltaAngleX = _ref5$deltaAngleX === void 0 ? 0 : _ref5$deltaAngleX,\n          _ref5$deltaAngleY = _ref5.deltaAngleY,\n          deltaAngleY = _ref5$deltaAngleY === void 0 ? 0 : _ref5$deltaAngleY;\n      var _this$_state = this._state,\n          startRotatePos = _this$_state.startRotatePos,\n          startBearing = _this$_state.startBearing,\n          startPitch = _this$_state.startPitch;\n\n      if (!Number.isFinite(startBearing) || !Number.isFinite(startPitch)) {\n        return this;\n      }\n\n      var newRotation;\n\n      if (pos) {\n        newRotation = this._calculateNewPitchAndBearing(_objectSpread(_objectSpread({}, this._getRotationParams(pos, startRotatePos)), {}, {\n          startBearing: startBearing,\n          startPitch: startPitch\n        }));\n      } else {\n        newRotation = {\n          bearing: startBearing + deltaAngleX,\n          pitch: startPitch + deltaAngleY\n        };\n      }\n\n      return this._getUpdatedMapState(newRotation);\n    }\n  }, {\n    key: \"rotateEnd\",\n    value: function rotateEnd() {\n      return this._getUpdatedMapState({\n        startBearing: null,\n        startPitch: null\n      });\n    }\n  }, {\n    key: \"zoomStart\",\n    value: function zoomStart(_ref6) {\n      var pos = _ref6.pos;\n      return this._getUpdatedMapState({\n        startZoomLngLat: this._unproject(pos),\n        startZoom: this._viewportProps.zoom\n      });\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(_ref7) {\n      var pos = _ref7.pos,\n          startPos = _ref7.startPos,\n          scale = _ref7.scale;\n      assert(scale > 0, '`scale` must be a positive number');\n      var _this$_state2 = this._state,\n          startZoom = _this$_state2.startZoom,\n          startZoomLngLat = _this$_state2.startZoomLngLat;\n\n      if (!Number.isFinite(startZoom)) {\n        startZoom = this._viewportProps.zoom;\n        startZoomLngLat = this._unproject(startPos) || this._unproject(pos);\n      }\n\n      assert(startZoomLngLat, '`startZoomLngLat` prop is required ' + 'for zoom behavior to calculate where to position the map.');\n\n      var zoom = this._calculateNewZoom({\n        scale: scale,\n        startZoom: startZoom || 0\n      });\n\n      var zoomedViewport = new WebMercatorViewport(Object.assign({}, this._viewportProps, {\n        zoom: zoom\n      }));\n\n      var _zoomedViewport$getMa = zoomedViewport.getMapCenterByLngLatPosition({\n        lngLat: startZoomLngLat,\n        pos: pos\n      }),\n          _zoomedViewport$getMa2 = _slicedToArray(_zoomedViewport$getMa, 2),\n          longitude = _zoomedViewport$getMa2[0],\n          latitude = _zoomedViewport$getMa2[1];\n\n      return this._getUpdatedMapState({\n        zoom: zoom,\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"zoomEnd\",\n    value: function zoomEnd() {\n      return this._getUpdatedMapState({\n        startZoomLngLat: null,\n        startZoom: null\n      });\n    }\n  }, {\n    key: \"_getUpdatedMapState\",\n    value: function _getUpdatedMapState(newProps) {\n      return new MapState(Object.assign({}, this._viewportProps, this._state, newProps));\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      var maxZoom = props.maxZoom,\n          minZoom = props.minZoom,\n          zoom = props.zoom;\n      props.zoom = clamp(zoom, minZoom, maxZoom);\n      var maxPitch = props.maxPitch,\n          minPitch = props.minPitch,\n          pitch = props.pitch;\n      props.pitch = clamp(pitch, minPitch, maxPitch);\n      Object.assign(props, normalizeViewportProps(props));\n      return props;\n    }\n  }, {\n    key: \"_unproject\",\n    value: function _unproject(pos) {\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return pos && viewport.unproject(pos);\n    }\n  }, {\n    key: \"_calculateNewLngLat\",\n    value: function _calculateNewLngLat(_ref8) {\n      var startPanLngLat = _ref8.startPanLngLat,\n          pos = _ref8.pos;\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return viewport.getMapCenterByLngLatPosition({\n        lngLat: startPanLngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"_calculateNewZoom\",\n    value: function _calculateNewZoom(_ref9) {\n      var scale = _ref9.scale,\n          startZoom = _ref9.startZoom;\n      var _this$_viewportProps = this._viewportProps,\n          maxZoom = _this$_viewportProps.maxZoom,\n          minZoom = _this$_viewportProps.minZoom;\n      var zoom = startZoom + Math.log2(scale);\n      return clamp(zoom, minZoom, maxZoom);\n    }\n  }, {\n    key: \"_calculateNewPitchAndBearing\",\n    value: function _calculateNewPitchAndBearing(_ref10) {\n      var deltaScaleX = _ref10.deltaScaleX,\n          deltaScaleY = _ref10.deltaScaleY,\n          startBearing = _ref10.startBearing,\n          startPitch = _ref10.startPitch;\n      deltaScaleY = clamp(deltaScaleY, -1, 1);\n      var _this$_viewportProps2 = this._viewportProps,\n          minPitch = _this$_viewportProps2.minPitch,\n          maxPitch = _this$_viewportProps2.maxPitch;\n      var bearing = startBearing + 180 * deltaScaleX;\n      var pitch = startPitch;\n\n      if (deltaScaleY > 0) {\n        pitch = startPitch + deltaScaleY * (maxPitch - startPitch);\n      } else if (deltaScaleY < 0) {\n        pitch = startPitch - deltaScaleY * (minPitch - startPitch);\n      }\n\n      return {\n        pitch: pitch,\n        bearing: bearing\n      };\n    }\n  }, {\n    key: \"_getRotationParams\",\n    value: function _getRotationParams(pos, startPos) {\n      var deltaX = pos[0] - startPos[0];\n      var deltaY = pos[1] - startPos[1];\n      var centerY = pos[1];\n      var startY = startPos[1];\n      var _this$_viewportProps3 = this._viewportProps,\n          width = _this$_viewportProps3.width,\n          height = _this$_viewportProps3.height;\n      var deltaScaleX = deltaX / width;\n      var deltaScaleY = 0;\n\n      if (deltaY > 0) {\n        if (Math.abs(height - startY) > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = deltaY / (startY - height) * PITCH_ACCEL;\n        }\n      } else if (deltaY < 0) {\n        if (startY > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = 1 - centerY / startY;\n        }\n      }\n\n      deltaScaleY = Math.min(1, Math.max(-1, deltaScaleY));\n      return {\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY\n      };\n    }\n  }]);\n\n  return MapState;\n}();\n\nexport { MapState as default };","import WebMercatorViewport from './web-mercator-viewport';\nimport { mod } from './math-utils';\nvar MAX_LATITUDE = 85.05113;\nvar MIN_LATITUDE = -85.05113;\nexport default function normalizeViewportProps(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      longitude = _ref.longitude,\n      latitude = _ref.latitude,\n      zoom = _ref.zoom,\n      _ref$pitch = _ref.pitch,\n      pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n      _ref$bearing = _ref.bearing,\n      bearing = _ref$bearing === void 0 ? 0 : _ref$bearing;\n\n  if (longitude < -180 || longitude > 180) {\n    longitude = mod(longitude + 180, 360) - 180;\n  }\n\n  if (bearing < -180 || bearing > 180) {\n    bearing = mod(bearing + 180, 360) - 180;\n  }\n\n  var flatViewport = new WebMercatorViewport({\n    width: width,\n    height: height,\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom\n  });\n  var topY = flatViewport.project([longitude, MAX_LATITUDE])[1];\n  var bottomY = flatViewport.project([longitude, MIN_LATITUDE])[1];\n  var shiftY = 0;\n\n  if (bottomY - topY < height) {\n    zoom += Math.log2(height / (bottomY - topY));\n    flatViewport = new WebMercatorViewport({\n      width: width,\n      height: height,\n      longitude: longitude,\n      latitude: latitude,\n      zoom: zoom\n    });\n    topY = flatViewport.project([longitude, MAX_LATITUDE])[1];\n    bottomY = flatViewport.project([longitude, MIN_LATITUDE])[1];\n  }\n\n  if (topY > 0) {\n    shiftY = topY;\n  } else if (bottomY < height) {\n    shiftY = bottomY - height;\n  }\n\n  if (shiftY) {\n    latitude = flatViewport.unproject([width / 2, height / 2 + shiftY])[1];\n  }\n\n  return {\n    width: width,\n    height: height,\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom,\n    pitch: pitch,\n    bearing: bearing\n  };\n}","import { MAPBOX_LIMITS } from './map-state';\n\nfunction decapitalize(s) {\n  return s[0].toLowerCase() + s.slice(1);\n}\n\nexport function checkVisibilityConstraints(props) {\n  var constraints = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : MAPBOX_LIMITS;\n\n  for (var constraintName in constraints) {\n    var type = constraintName.slice(0, 3);\n    var propName = decapitalize(constraintName.slice(3));\n\n    if (type === 'min' && props[propName] < constraints[constraintName]) {\n      return false;\n    }\n\n    if (type === 'max' && props[propName] > constraints[constraintName]) {\n      return false;\n    }\n  }\n\n  return true;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { createContext, useState, useContext } from 'react';\nvar MapContext = createContext({\n  viewport: null,\n  map: null,\n  container: null,\n  onViewportChange: null,\n  onViewStateChange: null,\n  eventManager: null\n});\nexport var MapContextProvider = MapContext.Provider;\n\nfunction WrappedProvider(_ref) {\n  var value = _ref.value,\n      children = _ref.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      map = _useState2[0],\n      setMap = _useState2[1];\n\n  var context = useContext(MapContext);\n  value = _objectSpread(_objectSpread({\n    setMap: setMap\n  }, context), {}, {\n    map: context && context.map || map\n  }, value);\n  return React.createElement(MapContextProvider, {\n    value: value\n  }, children);\n}\n\nMapContext.Provider = WrappedProvider;\nexport default MapContext;","import { useEffect, useLayoutEffect } from 'react';\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useState, useRef, useContext, useImperativeHandle, forwardRef } from 'react';\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport Mapbox from '../mapbox/mapbox';\nimport mapboxgl from '../utils/mapboxgl';\nimport { checkVisibilityConstraints } from '../utils/map-constraints';\nimport { MAPBOX_LIMITS } from '../utils/map-state';\nimport MapContext, { MapContextProvider } from './map-context';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nvar TOKEN_DOC_URL = 'https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens';\nvar NO_TOKEN_WARNING = 'A valid API access token is required to use Mapbox data';\n\nfunction noop() {}\n\nvar UNAUTHORIZED_ERROR_CODE = 401;\nvar CONTAINER_STYLE = {\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  overflow: 'hidden'\n};\nvar defaultProps = Object.assign({}, Mapbox.defaultProps, {\n  disableTokenWarning: false,\n  visible: true,\n  onResize: noop,\n  className: '',\n  style: null,\n  visibilityConstraints: MAPBOX_LIMITS\n});\n\nfunction NoTokenWarning() {\n  var style = {\n    position: 'absolute',\n    left: 0,\n    top: 0\n  };\n  return React.createElement(\"div\", {\n    key: \"warning\",\n    id: \"no-token-warning\",\n    style: style\n  }, React.createElement(\"h3\", {\n    key: \"header\"\n  }, NO_TOKEN_WARNING), React.createElement(\"div\", {\n    key: \"text\"\n  }, \"For information on setting up your basemap, read\"), React.createElement(\"a\", {\n    key: \"link\",\n    href: TOKEN_DOC_URL\n  }, \"Note on Map Tokens\"));\n}\n\nfunction getRefHandles(mapboxRef) {\n  return {\n    getMap: function getMap() {\n      return mapboxRef.current && mapboxRef.current.getMap();\n    },\n    queryRenderedFeatures: function queryRenderedFeatures(geometry) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var map = mapboxRef.current && mapboxRef.current.getMap();\n      return map && map.queryRenderedFeatures(geometry, options);\n    }\n  };\n}\n\nfunction preventScroll(event) {\n  event.target.scrollTo(0, 0);\n}\n\nvar StaticMap = forwardRef(function (props, ref) {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      accessTokenValid = _useState2[0],\n      setTokenState = _useState2[1];\n\n  var _useState3 = useState([0, 0]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      size = _useState4[0],\n      setSize = _useState4[1];\n\n  var mapboxRef = useRef(null);\n  var mapDivRef = useRef(null);\n  var containerRef = useRef(null);\n  var context = useContext(MapContext);\n  useIsomorphicLayoutEffect(function () {\n    if (!StaticMap.supported()) {\n      return undefined;\n    }\n\n    var mapbox = new Mapbox(_objectSpread(_objectSpread({}, props), {}, {\n      mapboxgl: mapboxgl,\n      width: size[0],\n      height: size[1],\n      container: mapDivRef.current,\n      onError: function onError(evt) {\n        var statusCode = evt.error && evt.error.status || evt.status;\n\n        if (statusCode === UNAUTHORIZED_ERROR_CODE && accessTokenValid) {\n          console.error(NO_TOKEN_WARNING);\n          setTokenState(false);\n        }\n\n        props.onError(evt);\n      }\n    }));\n    mapboxRef.current = mapbox;\n\n    if (context && context.setMap) {\n      context.setMap(mapbox.getMap());\n    }\n\n    var resizeObserver = new ResizeObserver(function (entries) {\n      if (entries[0].contentRect) {\n        var _entries$0$contentRec = entries[0].contentRect,\n            _width = _entries$0$contentRec.width,\n            _height = _entries$0$contentRec.height;\n        setSize([_width, _height]);\n        props.onResize({\n          width: _width,\n          height: _height\n        });\n      }\n    });\n    resizeObserver.observe(containerRef.current);\n    return function () {\n      mapbox.finalize();\n      mapboxRef.current = null;\n      resizeObserver.disconnect();\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    if (mapboxRef.current) {\n      mapboxRef.current.setProps(Object.assign({}, props, {\n        width: size[0],\n        height: size[1]\n      }));\n    }\n  });\n  var map = mapboxRef.current && mapboxRef.current.getMap();\n  useImperativeHandle(ref, function () {\n    return getRefHandles(mapboxRef);\n  }, []);\n  var overlays = map && React.createElement(MapContextProvider, {\n    value: _objectSpread(_objectSpread({}, context), {}, {\n      viewport: context.viewport || new WebMercatorViewport(_objectSpread(_objectSpread(_objectSpread({}, props), props.viewState), {}, {\n        width: size[0],\n        height: size[1]\n      })),\n      map: map,\n      container: context.container || containerRef.current\n    })\n  }, React.createElement(\"div\", {\n    key: \"map-overlays\",\n    className: \"overlays\",\n    style: CONTAINER_STYLE,\n    onScroll: preventScroll\n  }, props.children));\n  var className = props.className,\n      width = props.width,\n      height = props.height,\n      style = props.style,\n      visibilityConstraints = props.visibilityConstraints;\n  var mapContainerStyle = Object.assign({\n    position: 'relative'\n  }, style, {\n    width: width,\n    height: height\n  });\n  var visible = props.visible && checkVisibilityConstraints(props.viewState || props, visibilityConstraints);\n  var mapStyle = Object.assign({}, CONTAINER_STYLE, {\n    visibility: visible ? 'inherit' : 'hidden'\n  });\n  return React.createElement(\"div\", {\n    key: \"map-container\",\n    ref: containerRef,\n    style: mapContainerStyle\n  }, React.createElement(\"div\", {\n    key: \"map-mapbox\",\n    ref: mapDivRef,\n    style: mapStyle,\n    className: className\n  }), overlays, !accessTokenValid && !props.disableTokenWarning && React.createElement(NoTokenWarning, null));\n});\n\nStaticMap.supported = function () {\n  return mapboxgl && mapboxgl.supported();\n};\n\nStaticMap.defaultProps = defaultProps;\nexport default StaticMap;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport { equals } from '../math-utils';\nimport assert from '../assert';\n\nvar TransitionInterpolator = function () {\n  function TransitionInterpolator() {\n    _classCallCheck(this, TransitionInterpolator);\n\n    _defineProperty(this, \"propNames\", []);\n  }\n\n  _createClass(TransitionInterpolator, [{\n    key: \"arePropsEqual\",\n    value: function arePropsEqual(currentProps, nextProps) {\n      var _iterator = _createForOfIteratorHelper(this.propNames || []),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n\n          if (!equals(currentProps[key], nextProps[key])) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      return {\n        start: startProps,\n        end: endProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      assert(false, 'interpolateProps is not implemented');\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      return endProps.transitionDuration;\n    }\n  }]);\n\n  return TransitionInterpolator;\n}();\n\nexport { TransitionInterpolator as default };","import setPrototypeOf from \"@babel/runtime/helpers/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","var WRAPPED_ANGULAR_PROPS = {\n  longitude: 1,\n  bearing: 1\n};\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function isValid(prop) {\n  return Number.isFinite(prop) || Array.isArray(prop);\n}\n\nfunction isWrappedAngularProp(propName) {\n  return propName in WRAPPED_ANGULAR_PROPS;\n}\n\nexport function getEndValueByShortestPath(propName, startValue, endValue) {\n  if (isWrappedAngularProp(propName) && Math.abs(endValue - startValue) > 180) {\n    endValue = endValue < 0 ? endValue + 360 : endValue - 360;\n  }\n\n  return endValue;\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\nimport { flyToViewport, getFlyToDuration } from 'viewport-mercator-project';\nimport { isValid, getEndValueByShortestPath } from './transition-utils';\nimport { lerp } from '../math-utils';\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\nvar REQUIRED_PROPS = ['latitude', 'longitude', 'zoom', 'width', 'height'];\nvar LINEARLY_INTERPOLATED_PROPS = ['bearing', 'pitch'];\nvar DEFAULT_OPTS = {\n  speed: 1.2,\n  curve: 1.414\n};\n\nvar ViewportFlyToInterpolator = function (_TransitionInterpolat) {\n  _inherits(ViewportFlyToInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(ViewportFlyToInterpolator);\n\n  function ViewportFlyToInterpolator() {\n    var _this;\n\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, ViewportFlyToInterpolator);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"propNames\", VIEWPORT_TRANSITION_PROPS);\n\n    _this.props = Object.assign({}, DEFAULT_OPTS, props);\n    return _this;\n  }\n\n  _createClass(ViewportFlyToInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      var _iterator = _createForOfIteratorHelper(REQUIRED_PROPS),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _key = _step2.value;\n\n          var _startValue = startProps[_key] || 0;\n\n          var _endValue = endProps[_key] || 0;\n\n          startViewportProps[_key] = _startValue;\n          endViewportProps[_key] = getEndValueByShortestPath(_key, _startValue, _endValue);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = flyToViewport(startProps, endProps, t, this.props);\n\n      var _iterator3 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var key = _step3.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return viewport;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      var transitionDuration = endProps.transitionDuration;\n\n      if (transitionDuration === 'auto') {\n        transitionDuration = getFlyToDuration(startProps, endProps, this.props);\n      }\n\n      return transitionDuration;\n    }\n  }]);\n\n  return ViewportFlyToInterpolator;\n}(TransitionInterpolator);\n\nexport { ViewportFlyToInterpolator as default };","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\nimport { isValid, getEndValueByShortestPath } from './transition-utils';\nimport { lerp } from '../math-utils';\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\n\nvar LinearInterpolator = function (_TransitionInterpolat) {\n  _inherits(LinearInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(LinearInterpolator);\n\n  function LinearInterpolator() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, LinearInterpolator);\n\n    _this = _super.call(this);\n\n    if (Array.isArray(opts)) {\n      opts = {\n        transitionProps: opts\n      };\n    }\n\n    _this.propNames = opts.transitionProps || VIEWPORT_TRANSITION_PROPS;\n\n    if (opts.around) {\n      _this.around = opts.around;\n    }\n\n    return _this;\n  }\n\n  _createClass(LinearInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      if (this.around) {\n        startViewportProps.around = this.around;\n        var aroundLngLat = new WebMercatorViewport(startProps).unproject(this.around);\n        Object.assign(endViewportProps, endProps, {\n          around: new WebMercatorViewport(endProps).project(aroundLngLat),\n          aroundLngLat: aroundLngLat\n        });\n      }\n\n      var _iterator = _createForOfIteratorHelper(this.propNames),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = {};\n\n      var _iterator2 = _createForOfIteratorHelper(this.propNames),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var key = _step2.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (endProps.around) {\n        var _WebMercatorViewport$ = new WebMercatorViewport(Object.assign({}, endProps, viewport)).getMapCenterByLngLatPosition({\n          lngLat: endProps.aroundLngLat,\n          pos: lerp(startProps.around, endProps.around, t)\n        }),\n            _WebMercatorViewport$2 = _slicedToArray(_WebMercatorViewport$, 2),\n            longitude = _WebMercatorViewport$2[0],\n            latitude = _WebMercatorViewport$2[1];\n\n        viewport.longitude = longitude;\n        viewport.latitude = latitude;\n      }\n\n      return viewport;\n    }\n  }]);\n\n  return LinearInterpolator;\n}(TransitionInterpolator);\n\nexport { LinearInterpolator as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport assert from './assert';\nimport { LinearInterpolator } from './transition';\nimport MapState from './map-state';\n\nvar noop = function noop() {};\n\nexport function cropEasingFunction(easing, x0) {\n  var y0 = easing(x0);\n  return function (t) {\n    return 1 / (1 - y0) * (easing(t * (1 - x0) + x0) - y0);\n  };\n}\nexport var TRANSITION_EVENTS = {\n  BREAK: 1,\n  SNAP_TO_END: 2,\n  IGNORE: 3,\n  UPDATE: 4\n};\nvar DEFAULT_PROPS = {\n  transitionDuration: 0,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK,\n  onTransitionStart: noop,\n  onTransitionInterrupt: noop,\n  onTransitionEnd: noop,\n  onViewportChange: noop,\n  onStateChange: noop\n};\n\nvar TransitionManager = function () {\n  function TransitionManager() {\n    var _this = this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, TransitionManager);\n\n    _defineProperty(this, \"_animationFrame\", null);\n\n    _defineProperty(this, \"_onTransitionFrame\", function () {\n      _this._animationFrame = requestAnimationFrame(_this._onTransitionFrame);\n\n      _this._updateViewport();\n    });\n\n    this.props = null;\n    this.onViewportChange = opts.onViewportChange || noop;\n    this.onStateChange = opts.onStateChange || noop;\n    this.time = opts.getTime || Date.now;\n  }\n\n  _createClass(TransitionManager, [{\n    key: \"getViewportInTransition\",\n    value: function getViewportInTransition() {\n      return this._animationFrame ? this.state.propsInTransition : null;\n    }\n  }, {\n    key: \"processViewportChange\",\n    value: function processViewportChange(nextProps) {\n      var currentProps = this.props;\n      this.props = nextProps;\n\n      if (!currentProps || this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n        return false;\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        var startProps = Object.assign({}, currentProps);\n        var endProps = Object.assign({}, nextProps);\n\n        if (this._isTransitionInProgress()) {\n          currentProps.onTransitionInterrupt();\n\n          if (this.state.interruption === TRANSITION_EVENTS.SNAP_TO_END) {\n            Object.assign(startProps, this.state.endProps);\n          } else {\n            Object.assign(startProps, this.state.propsInTransition);\n          }\n\n          if (this.state.interruption === TRANSITION_EVENTS.UPDATE) {\n            var currentTime = this.time();\n            var x0 = (currentTime - this.state.startTime) / this.state.duration;\n            endProps.transitionDuration = this.state.duration - (currentTime - this.state.startTime);\n            endProps.transitionEasing = cropEasingFunction(this.state.easing, x0);\n            endProps.transitionInterpolator = startProps.transitionInterpolator;\n          }\n        }\n\n        endProps.onTransitionStart();\n\n        this._triggerTransition(startProps, endProps);\n\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        currentProps.onTransitionInterrupt();\n\n        this._endTransition();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_isTransitionInProgress\",\n    value: function _isTransitionInProgress() {\n      return Boolean(this._animationFrame);\n    }\n  }, {\n    key: \"_isTransitionEnabled\",\n    value: function _isTransitionEnabled(props) {\n      var transitionDuration = props.transitionDuration,\n          transitionInterpolator = props.transitionInterpolator;\n      return (transitionDuration > 0 || transitionDuration === 'auto') && Boolean(transitionInterpolator);\n    }\n  }, {\n    key: \"_isUpdateDueToCurrentTransition\",\n    value: function _isUpdateDueToCurrentTransition(props) {\n      if (this.state.propsInTransition) {\n        return this.state.interpolator.arePropsEqual(props, this.state.propsInTransition);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_shouldIgnoreViewportChange\",\n    value: function _shouldIgnoreViewportChange(currentProps, nextProps) {\n      if (!currentProps) {\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        return this.state.interruption === TRANSITION_EVENTS.IGNORE || this._isUpdateDueToCurrentTransition(nextProps);\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_triggerTransition\",\n    value: function _triggerTransition(startProps, endProps) {\n      assert(this._isTransitionEnabled(endProps));\n\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n      }\n\n      var transitionInterpolator = endProps.transitionInterpolator;\n      var duration = transitionInterpolator.getDuration ? transitionInterpolator.getDuration(startProps, endProps) : endProps.transitionDuration;\n\n      if (duration === 0) {\n        return;\n      }\n\n      var initialProps = endProps.transitionInterpolator.initializeProps(startProps, endProps);\n      var interactionState = {\n        inTransition: true,\n        isZooming: startProps.zoom !== endProps.zoom,\n        isPanning: startProps.longitude !== endProps.longitude || startProps.latitude !== endProps.latitude,\n        isRotating: startProps.bearing !== endProps.bearing || startProps.pitch !== endProps.pitch\n      };\n      this.state = {\n        duration: duration,\n        easing: endProps.transitionEasing,\n        interpolator: endProps.transitionInterpolator,\n        interruption: endProps.transitionInterruption,\n        startTime: this.time(),\n        startProps: initialProps.start,\n        endProps: initialProps.end,\n        animation: null,\n        propsInTransition: {}\n      };\n\n      this._onTransitionFrame();\n\n      this.onStateChange(interactionState);\n    }\n  }, {\n    key: \"_endTransition\",\n    value: function _endTransition() {\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n        this._animationFrame = null;\n      }\n\n      this.onStateChange({\n        inTransition: false,\n        isZooming: false,\n        isPanning: false,\n        isRotating: false\n      });\n    }\n  }, {\n    key: \"_updateViewport\",\n    value: function _updateViewport() {\n      var currentTime = this.time();\n      var _this$state = this.state,\n          startTime = _this$state.startTime,\n          duration = _this$state.duration,\n          easing = _this$state.easing,\n          interpolator = _this$state.interpolator,\n          startProps = _this$state.startProps,\n          endProps = _this$state.endProps;\n      var shouldEnd = false;\n      var t = (currentTime - startTime) / duration;\n\n      if (t >= 1) {\n        t = 1;\n        shouldEnd = true;\n      }\n\n      t = easing(t);\n      var viewport = interpolator.interpolateProps(startProps, endProps, t);\n      var mapState = new MapState(Object.assign({}, this.props, viewport));\n      this.state.propsInTransition = mapState.getViewportProps();\n      this.onViewportChange(this.state.propsInTransition, this.props);\n\n      if (shouldEnd) {\n        this._endTransition();\n\n        this.props.onTransitionEnd();\n      }\n    }\n  }]);\n\n  return TransitionManager;\n}();\n\n_defineProperty(TransitionManager, \"defaultProps\", DEFAULT_PROPS);\n\nexport { TransitionManager as default };","var INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar MOUSE_INPUT_MAP = {\n  mousedown: INPUT_START,\n  mousemove: INPUT_MOVE,\n  mouseup: INPUT_END\n};\n\nfunction some(array, predict) {\n  for (var i = 0; i < array.length; i++) {\n    if (predict(array[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function enhancePointerEventInput(PointerEventInput) {\n  var oldHandler = PointerEventInput.prototype.handler;\n\n  PointerEventInput.prototype.handler = function handler(ev) {\n    var store = this.store;\n\n    if (ev.button > 0) {\n      if (!some(store, function (e) {\n        return e.pointerId === ev.pointerId;\n      })) {\n        store.push(ev);\n      }\n    }\n\n    oldHandler.call(this, ev);\n  };\n}\nexport function enhanceMouseInput(MouseInput) {\n  MouseInput.prototype.handler = function handler(ev) {\n    var eventType = MOUSE_INPUT_MAP[ev.type];\n\n    if (eventType & INPUT_START && ev.button >= 0) {\n      this.pressed = true;\n    }\n\n    if (eventType & INPUT_MOVE && ev.which === 0) {\n      eventType = INPUT_END;\n    }\n\n    if (!this.pressed) {\n      return;\n    }\n\n    if (eventType & INPUT_END) {\n      this.pressed = false;\n    }\n\n    this.callback(this.manager, eventType, {\n      pointers: [ev],\n      changedPointers: [ev],\n      pointerType: 'mouse',\n      srcEvent: ev\n    });\n  };\n}","import hammerjs from 'hammerjs';\nimport { enhancePointerEventInput, enhanceMouseInput } from './hammer-overrides';\nenhancePointerEventInput(hammerjs.PointerEventInput);\nenhanceMouseInput(hammerjs.MouseInput);\nexport var Manager = hammerjs.Manager;\nexport default hammerjs;","import Hammer from './utils/hammer';\nexport var RECOGNIZERS = Hammer ? [[Hammer.Pan, {\n  event: 'tripan',\n  pointers: 3,\n  threshold: 0,\n  enable: false\n}], [Hammer.Rotate, {\n  enable: false\n}], [Hammer.Pinch, {\n  enable: false\n}], [Hammer.Swipe, {\n  enable: false\n}], [Hammer.Pan, {\n  threshold: 0,\n  enable: false\n}], [Hammer.Press, {\n  enable: false\n}], [Hammer.Tap, {\n  event: 'doubletap',\n  taps: 2,\n  enable: false\n}], [Hammer.Tap, {\n  event: 'anytap',\n  enable: false\n}], [Hammer.Tap, {\n  enable: false\n}]] : null;\nexport var RECOGNIZER_COMPATIBLE_MAP = {\n  tripan: ['rotate', 'pinch', 'pan'],\n  rotate: ['pinch'],\n  pinch: ['pan'],\n  pan: ['press', 'doubletap', 'anytap', 'tap'],\n  doubletap: ['anytap'],\n  anytap: ['tap']\n};\nexport var RECOGNIZER_FALLBACK_MAP = {\n  doubletap: ['tap']\n};\nexport var BASIC_EVENT_ALIASES = {\n  pointerdown: 'pointerdown',\n  pointermove: 'pointermove',\n  pointerup: 'pointerup',\n  touchstart: 'pointerdown',\n  touchmove: 'pointermove',\n  touchend: 'pointerup',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup'\n};\nexport var INPUT_EVENT_TYPES = {\n  KEY_EVENTS: ['keydown', 'keyup'],\n  MOUSE_EVENTS: ['mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'mouseleave'],\n  WHEEL_EVENTS: ['wheel', 'mousewheel', 'DOMMouseScroll']\n};\nexport var EVENT_RECOGNIZER_MAP = {\n  tap: 'tap',\n  anytap: 'anytap',\n  doubletap: 'doubletap',\n  press: 'press',\n  pinch: 'pinch',\n  pinchin: 'pinch',\n  pinchout: 'pinch',\n  pinchstart: 'pinch',\n  pinchmove: 'pinch',\n  pinchend: 'pinch',\n  pinchcancel: 'pinch',\n  rotate: 'rotate',\n  rotatestart: 'rotate',\n  rotatemove: 'rotate',\n  rotateend: 'rotate',\n  rotatecancel: 'rotate',\n  tripan: 'tripan',\n  tripanstart: 'tripan',\n  tripanmove: 'tripan',\n  tripanup: 'tripan',\n  tripandown: 'tripan',\n  tripanleft: 'tripan',\n  tripanright: 'tripan',\n  tripanend: 'tripan',\n  tripancancel: 'tripan',\n  pan: 'pan',\n  panstart: 'pan',\n  panmove: 'pan',\n  panup: 'pan',\n  pandown: 'pan',\n  panleft: 'pan',\n  panright: 'pan',\n  panend: 'pan',\n  pancancel: 'pan',\n  swipe: 'swipe',\n  swipeleft: 'swipe',\n  swiperight: 'swipe',\n  swipeup: 'swipe',\n  swipedown: 'swipe'\n};\nexport var GESTURE_EVENT_ALIASES = {\n  click: 'tap',\n  anyclick: 'anytap',\n  dblclick: 'doubletap',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup',\n  mouseover: 'pointerover',\n  mouseout: 'pointerout',\n  mouseleave: 'pointerleave'\n};","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nimport { window, userAgent, passiveSupported } from '../utils/globals';\nvar firefox = userAgent.indexOf('firefox') !== -1;\nvar WHEEL_EVENTS = INPUT_EVENT_TYPES.WHEEL_EVENTS;\nvar EVENT_TYPE = 'wheel';\nvar WHEEL_DELTA_MAGIC_SCALER = 4.000244140625;\nvar WHEEL_DELTA_PER_LINE = 40;\nvar SHIFT_MULTIPLIER = 0.25;\n\nvar WheelInput = function () {\n  function WheelInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, WheelInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.events = WHEEL_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent, passiveSupported ? {\n        passive: false\n      } : false);\n    });\n  }\n\n  _createClass(WheelInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n\n      var value = event.deltaY;\n\n      if (window.WheelEvent) {\n        if (firefox && event.deltaMode === window.WheelEvent.DOM_DELTA_PIXEL) {\n          value /= window.devicePixelRatio;\n        }\n\n        if (event.deltaMode === window.WheelEvent.DOM_DELTA_LINE) {\n          value *= WHEEL_DELTA_PER_LINE;\n        }\n      }\n\n      var wheelPosition = {\n        x: event.clientX,\n        y: event.clientY\n      };\n\n      if (value !== 0 && value % WHEEL_DELTA_MAGIC_SCALER === 0) {\n        value = Math.floor(value / WHEEL_DELTA_MAGIC_SCALER);\n      }\n\n      if (event.shiftKey && value) {\n        value = value * SHIFT_MULTIPLIER;\n      }\n\n      this._onWheel(event, -value, wheelPosition);\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(srcEvent, delta, position) {\n      this.callback({\n        type: EVENT_TYPE,\n        center: position,\n        delta: delta,\n        srcEvent: srcEvent,\n        pointerType: 'mouse',\n        target: srcEvent.target\n      });\n    }\n  }]);\n\n  return WheelInput;\n}();\n\nexport { WheelInput as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar MOUSE_EVENTS = INPUT_EVENT_TYPES.MOUSE_EVENTS;\nvar MOVE_EVENT_TYPE = 'pointermove';\nvar OVER_EVENT_TYPE = 'pointerover';\nvar OUT_EVENT_TYPE = 'pointerout';\nvar LEAVE_EVENT_TYPE = 'pointerleave';\n\nvar MoveInput = function () {\n  function MoveInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, MoveInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.pressed = false;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableMoveEvent = this.options.enable;\n    this.enableLeaveEvent = this.options.enable;\n    this.enableOutEvent = this.options.enable;\n    this.enableOverEvent = this.options.enable;\n    this.events = MOUSE_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n\n  _createClass(MoveInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === MOVE_EVENT_TYPE) {\n        this.enableMoveEvent = enabled;\n      }\n\n      if (eventType === OVER_EVENT_TYPE) {\n        this.enableOverEvent = enabled;\n      }\n\n      if (eventType === OUT_EVENT_TYPE) {\n        this.enableOutEvent = enabled;\n      }\n\n      if (eventType === LEAVE_EVENT_TYPE) {\n        this.enableLeaveEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.handleOverEvent(event);\n      this.handleOutEvent(event);\n      this.handleLeaveEvent(event);\n      this.handleMoveEvent(event);\n    }\n  }, {\n    key: \"handleOverEvent\",\n    value: function handleOverEvent(event) {\n      if (this.enableOverEvent) {\n        if (event.type === 'mouseover') {\n          this.callback({\n            type: OVER_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleOutEvent\",\n    value: function handleOutEvent(event) {\n      if (this.enableOutEvent) {\n        if (event.type === 'mouseout') {\n          this.callback({\n            type: OUT_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleLeaveEvent\",\n    value: function handleLeaveEvent(event) {\n      if (this.enableLeaveEvent) {\n        if (event.type === 'mouseleave') {\n          this.callback({\n            type: LEAVE_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleMoveEvent\",\n    value: function handleMoveEvent(event) {\n      if (this.enableMoveEvent) {\n        switch (event.type) {\n          case 'mousedown':\n            if (event.button >= 0) {\n              this.pressed = true;\n            }\n\n            break;\n\n          case 'mousemove':\n            if (event.which === 0) {\n              this.pressed = false;\n            }\n\n            if (!this.pressed) {\n              this.callback({\n                type: MOVE_EVENT_TYPE,\n                srcEvent: event,\n                pointerType: 'mouse',\n                target: event.target\n              });\n            }\n\n            break;\n\n          case 'mouseup':\n            this.pressed = false;\n            break;\n\n          default:\n        }\n      }\n    }\n  }]);\n\n  return MoveInput;\n}();\n\nexport { MoveInput as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar KEY_EVENTS = INPUT_EVENT_TYPES.KEY_EVENTS;\nvar DOWN_EVENT_TYPE = 'keydown';\nvar UP_EVENT_TYPE = 'keyup';\n\nvar KeyInput = function () {\n  function KeyInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, KeyInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableDownEvent = this.options.enable;\n    this.enableUpEvent = this.options.enable;\n    this.events = KEY_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.tabIndex = options.tabIndex || 0;\n    element.style.outline = 'none';\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n\n  _createClass(KeyInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === DOWN_EVENT_TYPE) {\n        this.enableDownEvent = enabled;\n      }\n\n      if (eventType === UP_EVENT_TYPE) {\n        this.enableUpEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      var targetElement = event.target || event.srcElement;\n\n      if (targetElement.tagName === 'INPUT' && targetElement.type === 'text' || targetElement.tagName === 'TEXTAREA') {\n        return;\n      }\n\n      if (this.enableDownEvent && event.type === 'keydown') {\n        this.callback({\n          type: DOWN_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n\n      if (this.enableUpEvent && event.type === 'keyup') {\n        this.callback({\n          type: UP_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n    }\n  }]);\n\n  return KeyInput;\n}();\n\nexport { KeyInput as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nvar EVENT_TYPE = 'contextmenu';\n\nvar ContextmenuInput = function () {\n  function ContextmenuInput(element, callback) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, ContextmenuInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.addEventListener('contextmenu', this.handleEvent);\n  }\n\n  _createClass(ContextmenuInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.element.removeEventListener('contextmenu', this.handleEvent);\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n\n      this.callback({\n        type: EVENT_TYPE,\n        center: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        srcEvent: event,\n        pointerType: 'mouse',\n        target: event.target\n      });\n    }\n  }]);\n\n  return ContextmenuInput;\n}();\n\nexport { ContextmenuInput as default };","var DOWN_EVENT = 1;\nvar MOVE_EVENT = 2;\nvar UP_EVENT = 4;\nvar MOUSE_EVENTS = {\n  pointerdown: DOWN_EVENT,\n  pointermove: MOVE_EVENT,\n  pointerup: UP_EVENT,\n  mousedown: DOWN_EVENT,\n  mousemove: MOVE_EVENT,\n  mouseup: UP_EVENT\n};\nvar MOUSE_EVENT_WHICH_LEFT = 1;\nvar MOUSE_EVENT_WHICH_MIDDLE = 2;\nvar MOUSE_EVENT_WHICH_RIGHT = 3;\nvar MOUSE_EVENT_BUTTON_LEFT = 0;\nvar MOUSE_EVENT_BUTTON_MIDDLE = 1;\nvar MOUSE_EVENT_BUTTON_RIGHT = 2;\nvar MOUSE_EVENT_BUTTONS_LEFT_MASK = 1;\nvar MOUSE_EVENT_BUTTONS_RIGHT_MASK = 2;\nvar MOUSE_EVENT_BUTTONS_MIDDLE_MASK = 4;\nexport function whichButtons(event) {\n  var eventType = MOUSE_EVENTS[event.srcEvent.type];\n\n  if (!eventType) {\n    return null;\n  }\n\n  var _event$srcEvent = event.srcEvent,\n      buttons = _event$srcEvent.buttons,\n      button = _event$srcEvent.button,\n      which = _event$srcEvent.which;\n  var leftButton = false;\n  var middleButton = false;\n  var rightButton = false;\n\n  if (eventType === UP_EVENT || eventType === MOVE_EVENT && !Number.isFinite(buttons)) {\n    leftButton = which === MOUSE_EVENT_WHICH_LEFT;\n    middleButton = which === MOUSE_EVENT_WHICH_MIDDLE;\n    rightButton = which === MOUSE_EVENT_WHICH_RIGHT;\n  } else if (eventType === MOVE_EVENT) {\n    leftButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_LEFT_MASK);\n    middleButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_MIDDLE_MASK);\n    rightButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_RIGHT_MASK);\n  } else if (eventType === DOWN_EVENT) {\n    leftButton = button === MOUSE_EVENT_BUTTON_LEFT;\n    middleButton = button === MOUSE_EVENT_BUTTON_MIDDLE;\n    rightButton = button === MOUSE_EVENT_BUTTON_RIGHT;\n  }\n\n  return {\n    leftButton: leftButton,\n    middleButton: middleButton,\n    rightButton: rightButton\n  };\n}\nexport function getOffsetPosition(event, rootElement) {\n  var srcEvent = event.srcEvent;\n\n  if (!event.center && !Number.isFinite(srcEvent.clientX)) {\n    return null;\n  }\n\n  var center = event.center || {\n    x: srcEvent.clientX,\n    y: srcEvent.clientY\n  };\n  var rect = rootElement.getBoundingClientRect();\n  var scaleX = rect.width / rootElement.offsetWidth;\n  var scaleY = rect.height / rootElement.offsetHeight;\n  var offsetCenter = {\n    x: (center.x - rect.left - rootElement.clientLeft) / scaleX,\n    y: (center.y - rect.top - rootElement.clientTop) / scaleY\n  };\n  return {\n    center: center,\n    offsetCenter: offsetCenter\n  };\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { whichButtons, getOffsetPosition } from './event-utils';\nvar DEFAULT_OPTIONS = {\n  srcElement: 'root',\n  priority: 0\n};\n\nvar EventRegistrar = function () {\n  function EventRegistrar(eventManager) {\n    _classCallCheck(this, EventRegistrar);\n\n    this.eventManager = eventManager;\n    this.handlers = [];\n    this.handlersByElement = new Map();\n    this.handleEvent = this.handleEvent.bind(this);\n    this._active = false;\n  }\n\n  _createClass(EventRegistrar, [{\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return !this._active;\n    }\n  }, {\n    key: \"add\",\n    value: function add(type, handler, opts) {\n      var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      if (opts && (_typeof(opts) !== 'object' || opts.addEventListener)) {\n        opts = {\n          srcElement: opts\n        };\n      }\n\n      opts = opts ? Object.assign({}, DEFAULT_OPTIONS, opts) : DEFAULT_OPTIONS;\n      var entries = handlersByElement.get(opts.srcElement);\n\n      if (!entries) {\n        entries = [];\n        handlersByElement.set(opts.srcElement, entries);\n      }\n\n      var entry = {\n        type: type,\n        handler: handler,\n        srcElement: opts.srcElement,\n        priority: opts.priority\n      };\n\n      if (once) {\n        entry.once = true;\n      }\n\n      if (passive) {\n        entry.passive = true;\n      }\n\n      handlers.push(entry);\n      this._active = this._active || !entry.passive;\n      var insertPosition = entries.length - 1;\n\n      while (insertPosition >= 0) {\n        if (entries[insertPosition].priority >= entry.priority) {\n          break;\n        }\n\n        insertPosition--;\n      }\n\n      entries.splice(insertPosition + 1, 0, entry);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, handler) {\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      for (var i = handlers.length - 1; i >= 0; i--) {\n        var entry = handlers[i];\n\n        if (entry.type === type && entry.handler === handler) {\n          handlers.splice(i, 1);\n          var entries = handlersByElement.get(entry.srcElement);\n          entries.splice(entries.indexOf(entry), 1);\n\n          if (entries.length === 0) {\n            handlersByElement[\"delete\"](entry.srcElement);\n          }\n        }\n      }\n\n      this._active = handlers.some(function (entry) {\n        return !entry.passive;\n      });\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (this.isEmpty()) {\n        return;\n      }\n\n      var mjolnirEvent = this._normalizeEvent(event);\n\n      var target = event.srcEvent.target;\n\n      while (target && target !== mjolnirEvent.rootElement) {\n        this._emit(mjolnirEvent, target);\n\n        if (mjolnirEvent.handled) {\n          return;\n        }\n\n        target = target.parentNode;\n      }\n\n      this._emit(mjolnirEvent, 'root');\n    }\n  }, {\n    key: \"_emit\",\n    value: function _emit(event, srcElement) {\n      var entries = this.handlersByElement.get(srcElement);\n\n      if (entries) {\n        var immediatePropagationStopped = false;\n\n        var stopPropagation = function stopPropagation() {\n          event.handled = true;\n        };\n\n        var stopImmediatePropagation = function stopImmediatePropagation() {\n          event.handled = true;\n          immediatePropagationStopped = true;\n        };\n\n        var entriesToRemove = [];\n\n        for (var i = 0; i < entries.length; i++) {\n          var _entries$i = entries[i],\n              type = _entries$i.type,\n              handler = _entries$i.handler,\n              once = _entries$i.once;\n          handler(Object.assign({}, event, {\n            type: type,\n            stopPropagation: stopPropagation,\n            stopImmediatePropagation: stopImmediatePropagation\n          }));\n\n          if (once) {\n            entriesToRemove.push(entries[i]);\n          }\n\n          if (immediatePropagationStopped) {\n            break;\n          }\n        }\n\n        for (var _i = 0; _i < entriesToRemove.length; _i++) {\n          var _entriesToRemove$_i = entriesToRemove[_i],\n              _type = _entriesToRemove$_i.type,\n              _handler = _entriesToRemove$_i.handler;\n          this.remove(_type, _handler);\n        }\n      }\n    }\n  }, {\n    key: \"_normalizeEvent\",\n    value: function _normalizeEvent(event) {\n      var rootElement = this.eventManager.element;\n      return Object.assign({}, event, whichButtons(event), getOffsetPosition(event, rootElement), {\n        handled: false,\n        rootElement: rootElement\n      });\n    }\n  }]);\n\n  return EventRegistrar;\n}();\n\nexport { EventRegistrar as default };","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport { Manager } from './utils/hammer';\nimport WheelInput from './inputs/wheel-input';\nimport MoveInput from './inputs/move-input';\nimport KeyInput from './inputs/key-input';\nimport ContextmenuInput from './inputs/contextmenu-input';\nimport EventRegistrar from './utils/event-registrar';\nimport { BASIC_EVENT_ALIASES, EVENT_RECOGNIZER_MAP, GESTURE_EVENT_ALIASES, RECOGNIZERS, RECOGNIZER_COMPATIBLE_MAP, RECOGNIZER_FALLBACK_MAP } from './constants';\nvar DEFAULT_OPTIONS = {\n  events: null,\n  recognizers: null,\n  recognizerOptions: {},\n  Manager: Manager,\n  touchAction: 'none',\n  tabIndex: 0\n};\n\nvar EventManager = function () {\n  function EventManager() {\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, EventManager);\n\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n    this.events = new Map();\n    this._onBasicInput = this._onBasicInput.bind(this);\n    this._onOtherEvent = this._onOtherEvent.bind(this);\n    this.setElement(element);\n    var events = options.events;\n\n    if (events) {\n      this.on(events);\n    }\n  }\n\n  _createClass(EventManager, [{\n    key: \"setElement\",\n    value: function setElement(element) {\n      var _this = this;\n\n      if (this.element) {\n        this.destroy();\n      }\n\n      this.element = element;\n\n      if (!element) {\n        return;\n      }\n\n      var options = this.options;\n      var ManagerClass = options.Manager;\n      this.manager = new ManagerClass(element, {\n        touchAction: options.touchAction,\n        recognizers: options.recognizers || RECOGNIZERS\n      }).on('hammer.input', this._onBasicInput);\n\n      if (!options.recognizers) {\n        Object.keys(RECOGNIZER_COMPATIBLE_MAP).forEach(function (name) {\n          var recognizer = _this.manager.get(name);\n\n          if (recognizer) {\n            RECOGNIZER_COMPATIBLE_MAP[name].forEach(function (otherName) {\n              recognizer.recognizeWith(otherName);\n            });\n          }\n        });\n      }\n\n      for (var recognizerName in options.recognizerOptions) {\n        var recognizer = this.manager.get(recognizerName);\n\n        if (recognizer) {\n          var recognizerOption = options.recognizerOptions[recognizerName];\n          delete recognizerOption.enable;\n          recognizer.set(recognizerOption);\n        }\n      }\n\n      this.wheelInput = new WheelInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.moveInput = new MoveInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.keyInput = new KeyInput(element, this._onOtherEvent, {\n        enable: false,\n        tabIndex: options.tabIndex\n      });\n      this.contextmenuInput = new ContextmenuInput(element, this._onOtherEvent, {\n        enable: false\n      });\n\n      var _iterator = _createForOfIteratorHelper(this.events),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              eventAlias = _step$value[0],\n              eventRegistrar = _step$value[1];\n\n          if (!eventRegistrar.isEmpty()) {\n            this._toggleRecognizer(eventRegistrar.recognizerName, true);\n\n            this.manager.on(eventAlias, eventRegistrar.handleEvent);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.element) {\n        this.wheelInput.destroy();\n        this.moveInput.destroy();\n        this.keyInput.destroy();\n        this.contextmenuInput.destroy();\n        this.manager.destroy();\n        this.wheelInput = null;\n        this.moveInput = null;\n        this.keyInput = null;\n        this.contextmenuInput = null;\n        this.manager = null;\n        this.element = null;\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false);\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, true);\n    }\n  }, {\n    key: \"watch\",\n    value: function watch(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false, true);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      this._removeEventHandler(event, handler);\n    }\n  }, {\n    key: \"_toggleRecognizer\",\n    value: function _toggleRecognizer(name, enabled) {\n      var manager = this.manager;\n\n      if (!manager) {\n        return;\n      }\n\n      var recognizer = manager.get(name);\n\n      if (recognizer && recognizer.options.enable !== enabled) {\n        recognizer.set({\n          enable: enabled\n        });\n        var fallbackRecognizers = RECOGNIZER_FALLBACK_MAP[name];\n\n        if (fallbackRecognizers && !this.options.recognizers) {\n          fallbackRecognizers.forEach(function (otherName) {\n            var otherRecognizer = manager.get(otherName);\n\n            if (enabled) {\n              otherRecognizer.requireFailure(name);\n              recognizer.dropRequireFailure(otherName);\n            } else {\n              otherRecognizer.dropRequireFailure(name);\n            }\n          });\n        }\n      }\n\n      this.wheelInput.enableEventType(name, enabled);\n      this.moveInput.enableEventType(name, enabled);\n      this.keyInput.enableEventType(name, enabled);\n      this.contextmenuInput.enableEventType(name, enabled);\n    }\n  }, {\n    key: \"_addEventHandler\",\n    value: function _addEventHandler(event, handler, opts, once, passive) {\n      if (typeof event !== 'string') {\n        opts = handler;\n\n        for (var eventName in event) {\n          this._addEventHandler(eventName, event[eventName], opts, once, passive);\n        }\n\n        return;\n      }\n\n      var manager = this.manager,\n          events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        eventRegistrar = new EventRegistrar(this);\n        events.set(eventAlias, eventRegistrar);\n        eventRegistrar.recognizerName = EVENT_RECOGNIZER_MAP[eventAlias] || eventAlias;\n\n        if (manager) {\n          manager.on(eventAlias, eventRegistrar.handleEvent);\n        }\n      }\n\n      eventRegistrar.add(event, handler, opts, once, passive);\n\n      if (!eventRegistrar.isEmpty()) {\n        this._toggleRecognizer(eventRegistrar.recognizerName, true);\n      }\n    }\n  }, {\n    key: \"_removeEventHandler\",\n    value: function _removeEventHandler(event, handler) {\n      if (typeof event !== 'string') {\n        for (var eventName in event) {\n          this._removeEventHandler(eventName, event[eventName]);\n        }\n\n        return;\n      }\n\n      var events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        return;\n      }\n\n      eventRegistrar.remove(event, handler);\n\n      if (eventRegistrar.isEmpty()) {\n        var recognizerName = eventRegistrar.recognizerName;\n        var isRecognizerUsed = false;\n\n        var _iterator2 = _createForOfIteratorHelper(events.values()),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var eh = _step2.value;\n\n            if (eh.recognizerName === recognizerName && !eh.isEmpty()) {\n              isRecognizerUsed = true;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        if (!isRecognizerUsed) {\n          this._toggleRecognizer(recognizerName, false);\n        }\n      }\n    }\n  }, {\n    key: \"_onBasicInput\",\n    value: function _onBasicInput(event) {\n      var srcEvent = event.srcEvent;\n      var alias = BASIC_EVENT_ALIASES[srcEvent.type];\n\n      if (alias) {\n        this.manager.emit(alias, event);\n      }\n    }\n  }, {\n    key: \"_onOtherEvent\",\n    value: function _onOtherEvent(event) {\n      this.manager.emit(event.type, event);\n    }\n  }]);\n\n  return EventManager;\n}();\n\nexport { EventManager as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport MapState from './map-state';\nimport { LinearInterpolator } from './transition';\nimport TransitionManager, { TRANSITION_EVENTS } from './transition-manager';\nvar NO_TRANSITION_PROPS = {\n  transitionDuration: 0\n};\nexport var LINEAR_TRANSITION_PROPS = {\n  transitionDuration: 300,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK\n};\nvar DEFAULT_INERTIA = 300;\n\nvar INERTIA_EASING = function INERTIA_EASING(t) {\n  return 1 - (1 - t) * (1 - t);\n};\n\nvar EVENT_TYPES = {\n  WHEEL: ['wheel'],\n  PAN: ['panstart', 'panmove', 'panend'],\n  PINCH: ['pinchstart', 'pinchmove', 'pinchend'],\n  TRIPLE_PAN: ['tripanstart', 'tripanmove', 'tripanend'],\n  DOUBLE_TAP: ['doubletap'],\n  KEYBOARD: ['keydown']\n};\n\nvar MapController = function () {\n  function MapController() {\n    var _this = this;\n\n    _classCallCheck(this, MapController);\n\n    _defineProperty(this, \"events\", []);\n\n    _defineProperty(this, \"scrollZoom\", true);\n\n    _defineProperty(this, \"dragPan\", true);\n\n    _defineProperty(this, \"dragRotate\", true);\n\n    _defineProperty(this, \"doubleClickZoom\", true);\n\n    _defineProperty(this, \"touchZoom\", true);\n\n    _defineProperty(this, \"touchRotate\", false);\n\n    _defineProperty(this, \"keyboard\", true);\n\n    _defineProperty(this, \"_interactionState\", {\n      isDragging: false\n    });\n\n    _defineProperty(this, \"_events\", {});\n\n    _defineProperty(this, \"_setInteractionState\", function (newState) {\n      Object.assign(_this._interactionState, newState);\n\n      if (_this.onStateChange) {\n        _this.onStateChange(_this._interactionState);\n      }\n    });\n\n    _defineProperty(this, \"_onTransition\", function (newViewport, oldViewport) {\n      _this.onViewportChange(newViewport, _this._interactionState, oldViewport);\n    });\n\n    this.handleEvent = this.handleEvent.bind(this);\n    this._transitionManager = new TransitionManager({\n      onViewportChange: this._onTransition,\n      onStateChange: this._setInteractionState\n    });\n  }\n\n  _createClass(MapController, [{\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.mapState = this.getMapState();\n      var eventStartBlocked = this._eventStartBlocked;\n\n      switch (event.type) {\n        case 'panstart':\n          return eventStartBlocked ? false : this._onPanStart(event);\n\n        case 'panmove':\n          return this._onPan(event);\n\n        case 'panend':\n          return this._onPanEnd(event);\n\n        case 'pinchstart':\n          return eventStartBlocked ? false : this._onPinchStart(event);\n\n        case 'pinchmove':\n          return this._onPinch(event);\n\n        case 'pinchend':\n          return this._onPinchEnd(event);\n\n        case 'tripanstart':\n          return eventStartBlocked ? false : this._onTriplePanStart(event);\n\n        case 'tripanmove':\n          return this._onTriplePan(event);\n\n        case 'tripanend':\n          return this._onTriplePanEnd(event);\n\n        case 'doubletap':\n          return this._onDoubleTap(event);\n\n        case 'wheel':\n          return this._onWheel(event);\n\n        case 'keydown':\n          return this._onKeyDown(event);\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter(event) {\n      var _event$offsetCenter = event.offsetCenter,\n          x = _event$offsetCenter.x,\n          y = _event$offsetCenter.y;\n      return [x, y];\n    }\n  }, {\n    key: \"isFunctionKeyPressed\",\n    value: function isFunctionKeyPressed(event) {\n      var srcEvent = event.srcEvent;\n      return Boolean(srcEvent.metaKey || srcEvent.altKey || srcEvent.ctrlKey || srcEvent.shiftKey);\n    }\n  }, {\n    key: \"blockEvents\",\n    value: function blockEvents(timeout) {\n      var _this2 = this;\n\n      var timer = setTimeout(function () {\n        if (_this2._eventStartBlocked === timer) {\n          _this2._eventStartBlocked = null;\n        }\n      }, timeout);\n      this._eventStartBlocked = timer;\n    }\n  }, {\n    key: \"updateViewport\",\n    value: function updateViewport(newMapState, extraProps, interactionState) {\n      var oldViewport = this.mapState instanceof MapState ? this.mapState.getViewportProps() : this.mapState;\n\n      var newViewport = _objectSpread(_objectSpread({}, newMapState.getViewportProps()), extraProps);\n\n      var viewStateChanged = Object.keys(newViewport).some(function (key) {\n        return oldViewport[key] !== newViewport[key];\n      });\n      this._state = newMapState.getState();\n\n      this._setInteractionState(interactionState);\n\n      if (viewStateChanged) {\n        this.onViewportChange(newViewport, this._interactionState, oldViewport);\n      }\n    }\n  }, {\n    key: \"getMapState\",\n    value: function getMapState(overrides) {\n      return new MapState(_objectSpread(_objectSpread(_objectSpread({}, this.mapStateProps), this._state), overrides));\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this._interactionState.isDragging;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var onViewportChange = options.onViewportChange,\n          onStateChange = options.onStateChange,\n          _options$eventManager = options.eventManager,\n          eventManager = _options$eventManager === void 0 ? this.eventManager : _options$eventManager,\n          _options$isInteractiv = options.isInteractive,\n          isInteractive = _options$isInteractiv === void 0 ? true : _options$isInteractiv,\n          _options$scrollZoom = options.scrollZoom,\n          scrollZoom = _options$scrollZoom === void 0 ? this.scrollZoom : _options$scrollZoom,\n          _options$dragPan = options.dragPan,\n          dragPan = _options$dragPan === void 0 ? this.dragPan : _options$dragPan,\n          _options$dragRotate = options.dragRotate,\n          dragRotate = _options$dragRotate === void 0 ? this.dragRotate : _options$dragRotate,\n          _options$doubleClickZ = options.doubleClickZoom,\n          doubleClickZoom = _options$doubleClickZ === void 0 ? this.doubleClickZoom : _options$doubleClickZ,\n          _options$touchZoom = options.touchZoom,\n          touchZoom = _options$touchZoom === void 0 ? this.touchZoom : _options$touchZoom,\n          _options$touchRotate = options.touchRotate,\n          touchRotate = _options$touchRotate === void 0 ? this.touchRotate : _options$touchRotate,\n          _options$keyboard = options.keyboard,\n          keyboard = _options$keyboard === void 0 ? this.keyboard : _options$keyboard;\n      this.onViewportChange = onViewportChange;\n      this.onStateChange = onStateChange;\n      var prevOptions = this.mapStateProps || {};\n      var dimensionChanged = prevOptions.height !== options.height || prevOptions.width !== options.width;\n      this.mapStateProps = options;\n\n      if (dimensionChanged) {\n        this.mapState = prevOptions;\n        this.updateViewport(new MapState(options));\n      }\n\n      this._transitionManager.processViewportChange(options);\n\n      if (this.eventManager !== eventManager) {\n        this.eventManager = eventManager;\n        this._events = {};\n        this.toggleEvents(this.events, true);\n      }\n\n      this.toggleEvents(EVENT_TYPES.WHEEL, isInteractive && Boolean(scrollZoom));\n      this.toggleEvents(EVENT_TYPES.PAN, isInteractive && Boolean(dragPan || dragRotate));\n      this.toggleEvents(EVENT_TYPES.PINCH, isInteractive && Boolean(touchZoom || touchRotate));\n      this.toggleEvents(EVENT_TYPES.TRIPLE_PAN, isInteractive && Boolean(touchRotate));\n      this.toggleEvents(EVENT_TYPES.DOUBLE_TAP, isInteractive && Boolean(doubleClickZoom));\n      this.toggleEvents(EVENT_TYPES.KEYBOARD, isInteractive && Boolean(keyboard));\n      this.scrollZoom = scrollZoom;\n      this.dragPan = dragPan;\n      this.dragRotate = dragRotate;\n      this.doubleClickZoom = doubleClickZoom;\n      this.touchZoom = touchZoom;\n      this.touchRotate = touchRotate;\n      this.keyboard = keyboard;\n    }\n  }, {\n    key: \"toggleEvents\",\n    value: function toggleEvents(eventNames, enabled) {\n      var _this3 = this;\n\n      if (this.eventManager) {\n        eventNames.forEach(function (eventName) {\n          if (_this3._events[eventName] !== enabled) {\n            _this3._events[eventName] = enabled;\n\n            if (enabled) {\n              _this3.eventManager.on(eventName, _this3.handleEvent);\n            } else {\n              _this3.eventManager.off(eventName, _this3.handleEvent);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onPanStart\",\n    value: function _onPanStart(event) {\n      var pos = this.getCenter(event);\n      this._panRotate = this.isFunctionKeyPressed(event) || event.rightButton;\n      var newMapState = this._panRotate ? this.mapState.rotateStart({\n        pos: pos\n      }) : this.mapState.panStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPan\",\n    value: function _onPan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panRotate ? this._onPanRotate(event) : this._onPanMove(event);\n    }\n  }, {\n    key: \"_onPanEnd\",\n    value: function _onPanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panRotate ? this._onPanRotateEnd(event) : this._onPanMoveEnd(event);\n    }\n  }, {\n    key: \"_onPanMove\",\n    value: function _onPanMove(event) {\n      if (!this.dragPan) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.pan({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanMoveEnd\",\n    value: function _onPanMoveEnd(event) {\n      if (this.dragPan) {\n        var _this$dragPan$inertia = this.dragPan.inertia,\n            inertia = _this$dragPan$inertia === void 0 ? DEFAULT_INERTIA : _this$dragPan$inertia;\n\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.pan({\n            pos: endPos\n          }).panEnd();\n          this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: true\n          });\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotate\",\n    value: function _onPanRotate(event) {\n      if (!this.dragRotate) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotateEnd\",\n    value: function _onPanRotateEnd(event) {\n      if (this.dragRotate) {\n        var _this$dragRotate$iner = this.dragRotate.inertia,\n            inertia = _this$dragRotate$iner === void 0 ? DEFAULT_INERTIA : _this$dragRotate$iner;\n\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.rotate({\n            pos: endPos\n          }).rotateEnd();\n          this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(event) {\n      if (!this.scrollZoom) {\n        return false;\n      }\n\n      var _this$scrollZoom = this.scrollZoom,\n          _this$scrollZoom$spee = _this$scrollZoom.speed,\n          speed = _this$scrollZoom$spee === void 0 ? 0.01 : _this$scrollZoom$spee,\n          _this$scrollZoom$smoo = _this$scrollZoom.smooth,\n          smooth = _this$scrollZoom$smoo === void 0 ? false : _this$scrollZoom$smoo;\n      event.preventDefault();\n      var pos = this.getCenter(event);\n      var delta = event.delta;\n      var scale = 2 / (1 + Math.exp(-Math.abs(delta * speed)));\n\n      if (delta < 0 && scale !== 0) {\n        scale = 1 / scale;\n      }\n\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: scale\n      });\n      this.updateViewport(newMapState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n        transitionInterpolator: new LinearInterpolator({\n          around: pos\n        }),\n        transitionDuration: smooth ? 250 : 1\n      }), {\n        isPanning: true,\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinchStart\",\n    value: function _onPinchStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.zoomStart({\n        pos: pos\n      }).rotateStart({\n        pos: pos\n      });\n      this._startPinchRotation = event.rotation;\n      this._lastPinchEvent = event;\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinch\",\n    value: function _onPinch(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (!this.touchZoom && !this.touchRotate) {\n        return false;\n      }\n\n      var newMapState = this.mapState;\n\n      if (this.touchZoom) {\n        var scale = event.scale;\n        var pos = this.getCenter(event);\n        newMapState = newMapState.zoom({\n          pos: pos,\n          scale: scale\n        });\n      }\n\n      if (this.touchRotate) {\n        var rotation = event.rotation;\n        newMapState = newMapState.rotate({\n          deltaAngleX: this._startPinchRotation - rotation\n        });\n      }\n\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isPanning: Boolean(this.touchZoom),\n        isZooming: Boolean(this.touchZoom),\n        isRotating: Boolean(this.touchRotate)\n      });\n      this._lastPinchEvent = event;\n      return true;\n    }\n  }, {\n    key: \"_onPinchEnd\",\n    value: function _onPinchEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (this.touchZoom) {\n        var _this$touchZoom$inert = this.touchZoom.inertia,\n            inertia = _this$touchZoom$inert === void 0 ? DEFAULT_INERTIA : _this$touchZoom$inert;\n        var _lastPinchEvent = this._lastPinchEvent;\n\n        if (inertia && _lastPinchEvent && event.scale !== _lastPinchEvent.scale) {\n          var pos = this.getCenter(event);\n\n          var _newMapState = this.mapState.rotateEnd();\n\n          var z = Math.log2(event.scale);\n\n          var velocityZ = (z - Math.log2(_lastPinchEvent.scale)) / (event.deltaTime - _lastPinchEvent.deltaTime);\n\n          var endScale = Math.pow(2, z + velocityZ * inertia / 2);\n          _newMapState = _newMapState.zoom({\n            pos: pos,\n            scale: endScale\n          }).zoomEnd();\n          this.updateViewport(_newMapState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionInterpolator: new LinearInterpolator({\n              around: pos\n            }),\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: Boolean(this.touchZoom),\n            isZooming: Boolean(this.touchZoom),\n            isRotating: false\n          });\n          this.blockEvents(inertia);\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.zoomEnd().rotateEnd();\n      this._state.startPinchRotation = 0;\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false,\n        isZooming: false,\n        isRotating: false\n      });\n      this._startPinchRotation = null;\n      this._lastPinchEvent = null;\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanStart\",\n    value: function _onTriplePanStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotateStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePan\",\n    value: function _onTriplePan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (!this.touchRotate) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      pos[0] -= event.deltaX;\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanEnd\",\n    value: function _onTriplePanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (this.touchRotate) {\n        var _this$touchRotate$ine = this.touchRotate.inertia,\n            inertia = _this$touchRotate$ine === void 0 ? DEFAULT_INERTIA : _this$touchRotate$ine;\n\n        if (inertia && event.velocityY) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0], pos[1] += event.velocityY * inertia / 2];\n\n          var _newMapState2 = this.mapState.rotate({\n            pos: endPos\n          });\n\n          this.updateViewport(_newMapState2, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          this.blockEvents(inertia);\n          return false;\n        }\n      }\n\n      var newMapState = this.mapState.rotateEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onDoubleTap\",\n    value: function _onDoubleTap(event) {\n      if (!this.doubleClickZoom) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var isZoomOut = this.isFunctionKeyPressed(event);\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: isZoomOut ? 0.5 : 2\n      });\n      this.updateViewport(newMapState, Object.assign({}, LINEAR_TRANSITION_PROPS, {\n        transitionInterpolator: new LinearInterpolator({\n          around: pos\n        })\n      }), {\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      if (!this.keyboard) {\n        return false;\n      }\n\n      var funcKey = this.isFunctionKeyPressed(event);\n      var _this$keyboard = this.keyboard,\n          _this$keyboard$zoomSp = _this$keyboard.zoomSpeed,\n          zoomSpeed = _this$keyboard$zoomSp === void 0 ? 2 : _this$keyboard$zoomSp,\n          _this$keyboard$moveSp = _this$keyboard.moveSpeed,\n          moveSpeed = _this$keyboard$moveSp === void 0 ? 100 : _this$keyboard$moveSp,\n          _this$keyboard$rotate = _this$keyboard.rotateSpeedX,\n          rotateSpeedX = _this$keyboard$rotate === void 0 ? 15 : _this$keyboard$rotate,\n          _this$keyboard$rotate2 = _this$keyboard.rotateSpeedY,\n          rotateSpeedY = _this$keyboard$rotate2 === void 0 ? 10 : _this$keyboard$rotate2;\n      var mapStateProps = this.mapStateProps;\n      var newMapState;\n\n      switch (event.srcEvent.keyCode) {\n        case 189:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed) - 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed)\n            });\n          }\n\n          break;\n\n        case 187:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed) + 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed)\n            });\n          }\n\n          break;\n\n        case 37:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing - rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 39:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing + rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [-moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 38:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch + rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 40:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch - rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, -moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        default:\n          return false;\n      }\n\n      return this.updateViewport(newMapState, LINEAR_TRANSITION_PROPS);\n    }\n  }]);\n\n  return MapController;\n}();\n\nexport { MapController as default };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useContext, useRef, useMemo, useEffect, useImperativeHandle, forwardRef } from 'react';\nimport * as PropTypes from 'prop-types';\nimport StaticMap from './static-map';\nimport { MAPBOX_LIMITS } from '../utils/map-state';\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport TransitionManager from '../utils/transition-manager';\nimport MapContext, { MapContextProvider } from './map-context';\nimport { EventManager } from 'mjolnir.js';\nimport MapController from '../utils/map-controller';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nvar propTypes = Object.assign({}, StaticMap.propTypes, {\n  maxZoom: PropTypes.number,\n  minZoom: PropTypes.number,\n  maxPitch: PropTypes.number,\n  minPitch: PropTypes.number,\n  onViewStateChange: PropTypes.func,\n  onViewportChange: PropTypes.func,\n  onInteractionStateChange: PropTypes.func,\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  transitionInterpolator: PropTypes.object,\n  transitionInterruption: PropTypes.number,\n  transitionEasing: PropTypes.func,\n  onTransitionStart: PropTypes.func,\n  onTransitionInterrupt: PropTypes.func,\n  onTransitionEnd: PropTypes.func,\n  scrollZoom: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  dragPan: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  dragRotate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  doubleClickZoom: PropTypes.bool,\n  touchZoom: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  touchRotate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  keyboard: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  onHover: PropTypes.func,\n  onClick: PropTypes.func,\n  onDblClick: PropTypes.func,\n  onContextMenu: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onWheel: PropTypes.func,\n  touchAction: PropTypes.string,\n  eventRecognizerOptions: PropTypes.object,\n  clickRadius: PropTypes.number,\n  interactiveLayerIds: PropTypes.array,\n  getCursor: PropTypes.func,\n  controller: PropTypes.instanceOf(MapController)\n});\n\nvar getDefaultCursor = function getDefaultCursor(_ref) {\n  var isDragging = _ref.isDragging,\n      isHovering = _ref.isHovering;\n  return isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n};\n\nvar defaultProps = Object.assign({}, StaticMap.defaultProps, MAPBOX_LIMITS, TransitionManager.defaultProps, {\n  onViewStateChange: null,\n  onViewportChange: null,\n  onClick: null,\n  onNativeClick: null,\n  onHover: null,\n  onContextMenu: function onContextMenu(event) {\n    return event.preventDefault();\n  },\n  scrollZoom: true,\n  dragPan: true,\n  dragRotate: true,\n  doubleClickZoom: true,\n  touchZoom: true,\n  touchRotate: false,\n  keyboard: true,\n  touchAction: 'none',\n  eventRecognizerOptions: {},\n  clickRadius: 0,\n  getCursor: getDefaultCursor\n});\n\nfunction normalizeEvent(event) {\n  if (event.lngLat || !event.offsetCenter) {\n    return event;\n  }\n\n  var _event$offsetCenter = event.offsetCenter,\n      x = _event$offsetCenter.x,\n      y = _event$offsetCenter.y;\n  var pos = [x, y];\n  var viewport = new WebMercatorViewport(Object.assign({}, this.props, this.props.viewState, {\n    width: this.width,\n    height: this.height\n  }));\n  event.point = pos;\n  event.lngLat = viewport.unproject(pos);\n  return event;\n}\n\nfunction getFeatures(pos) {\n  var map = this.map;\n\n  if (!map || !pos) {\n    return null;\n  }\n\n  var queryParams = {};\n  var size = this.props.clickRadius;\n\n  if (this.props.interactiveLayerIds) {\n    queryParams.layers = this.props.interactiveLayerIds;\n  }\n\n  try {\n    return map.queryRenderedFeatures(size ? [[pos[0] - size, pos[1] + size], [pos[0] + size, pos[1] - size]] : pos, queryParams);\n  } catch (_unused) {\n    return null;\n  }\n}\n\nfunction onEvent(callbackName, event) {\n  var func = this.props[callbackName];\n\n  if (func) {\n    func(normalizeEvent.call(this, event));\n  }\n}\n\nfunction onPointerDown(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchStart' : 'onMouseDown', event);\n}\n\nfunction onPointerUp(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchEnd' : 'onMouseUp', event);\n}\n\nfunction onPointerMove(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchMove' : 'onMouseMove', event);\n\n  if (!this.state.isDragging) {\n    var _this$props = this.props,\n        onHover = _this$props.onHover,\n        interactiveLayerIds = _this$props.interactiveLayerIds;\n    var features;\n    event = normalizeEvent.call(this, event);\n\n    if (interactiveLayerIds || onHover) {\n      features = getFeatures.call(this, event.point);\n    }\n\n    if (onHover) {\n      event.features = features;\n      onHover(event);\n    }\n\n    var isHovering = Boolean(interactiveLayerIds && features && features.length > 0);\n    var isEntering = isHovering && !this.state.isHovering;\n    var isExiting = !isHovering && this.state.isHovering;\n\n    if (isEntering) {\n      onEvent.call(this, 'onMouseEnter', event);\n    }\n\n    if (isExiting) {\n      onEvent.call(this, 'onMouseLeave', event);\n    }\n\n    if (isEntering || isExiting) {\n      this.setState({\n        isHovering: isHovering\n      });\n    }\n  }\n}\n\nfunction onPointerClick(event) {\n  var _this$props2 = this.props,\n      onClick = _this$props2.onClick,\n      onNativeClick = _this$props2.onNativeClick,\n      onDblClick = _this$props2.onDblClick,\n      doubleClickZoom = _this$props2.doubleClickZoom;\n  var callbacks = [];\n  var isDoubleClickEnabled = onDblClick || doubleClickZoom;\n\n  switch (event.type) {\n    case 'anyclick':\n      callbacks.push(onNativeClick);\n\n      if (!isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n\n      break;\n\n    case 'click':\n      if (isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n\n      break;\n\n    default:\n  }\n\n  callbacks = callbacks.filter(Boolean);\n\n  if (callbacks.length) {\n    event = normalizeEvent.call(this, event);\n    event.features = getFeatures.call(this, event.point);\n    callbacks.forEach(function (cb) {\n      return cb(event);\n    });\n  }\n}\n\nfunction getRefHandles(staticMapRef) {\n  return {\n    getMap: staticMapRef.current && staticMapRef.current.getMap,\n    queryRenderedFeatures: staticMapRef.current && staticMapRef.current.queryRenderedFeatures\n  };\n}\n\nvar InteractiveMap = forwardRef(function (props, ref) {\n  var parentContext = useContext(MapContext);\n  var controller = useMemo(function () {\n    return props.controller || new MapController();\n  }, []);\n  var eventManager = useMemo(function () {\n    return new EventManager(null, {\n      touchAction: props.touchAction,\n      recognizerOptions: props.eventRecognizerOptions\n    });\n  }, []);\n  var eventCanvasRef = useRef(null);\n  var staticMapRef = useRef(null);\n\n  var _thisRef = useRef({\n    width: 0,\n    height: 0,\n    state: {\n      isHovering: false,\n      isDragging: false\n    }\n  });\n\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.map = staticMapRef.current && staticMapRef.current.getMap();\n\n  thisRef.setState = function (newState) {\n    thisRef.state = _objectSpread(_objectSpread({}, thisRef.state), newState);\n    eventCanvasRef.current.style.cursor = props.getCursor(thisRef.state);\n  };\n\n  var inRender = true;\n  var viewportUpdateRequested;\n  var stateUpdateRequested;\n\n  var handleViewportChange = function handleViewportChange(viewState, interactionState, oldViewState) {\n    if (inRender) {\n      viewportUpdateRequested = [viewState, interactionState, oldViewState];\n      return;\n    }\n\n    var _thisRef$props = thisRef.props,\n        onViewStateChange = _thisRef$props.onViewStateChange,\n        onViewportChange = _thisRef$props.onViewportChange;\n\n    if (onViewStateChange) {\n      onViewStateChange({\n        viewState: viewState,\n        interactionState: interactionState,\n        oldViewState: oldViewState\n      });\n    }\n\n    if (onViewportChange) {\n      onViewportChange(viewState, interactionState, oldViewState);\n    }\n  };\n\n  useImperativeHandle(ref, function () {\n    return getRefHandles(staticMapRef);\n  }, []);\n  var context = useMemo(function () {\n    return _objectSpread(_objectSpread({}, parentContext), {}, {\n      eventManager: eventManager,\n      container: parentContext.container || eventCanvasRef.current\n    });\n  }, [parentContext, eventCanvasRef.current]);\n  context.onViewportChange = handleViewportChange;\n\n  var handleInteractionStateChange = function handleInteractionStateChange(interactionState) {\n    var _interactionState$isD = interactionState.isDragging,\n        isDragging = _interactionState$isD === void 0 ? false : _interactionState$isD;\n\n    if (isDragging !== thisRef.state.isDragging) {\n      thisRef.setState({\n        isDragging: isDragging\n      });\n    }\n\n    if (inRender) {\n      stateUpdateRequested = interactionState;\n      return;\n    }\n\n    var onInteractionStateChange = thisRef.props.onInteractionStateChange;\n\n    if (onInteractionStateChange) {\n      onInteractionStateChange(interactionState);\n    }\n  };\n\n  var updateControllerOpts = function updateControllerOpts() {\n    if (thisRef.width && thisRef.height) {\n      controller.setOptions(_objectSpread(_objectSpread(_objectSpread({}, thisRef.props), thisRef.props.viewState), {}, {\n        isInteractive: Boolean(thisRef.props.onViewStateChange || thisRef.props.onViewportChange),\n        onViewportChange: handleViewportChange,\n        onStateChange: handleInteractionStateChange,\n        eventManager: eventManager,\n        width: thisRef.width,\n        height: thisRef.height\n      }));\n    }\n  };\n\n  var onResize = function onResize(_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    thisRef.width = width;\n    thisRef.height = height;\n    updateControllerOpts();\n    thisRef.props.onResize({\n      width: width,\n      height: height\n    });\n  };\n\n  useEffect(function () {\n    eventManager.setElement(eventCanvasRef.current);\n    eventManager.on({\n      pointerdown: onPointerDown.bind(thisRef),\n      pointermove: onPointerMove.bind(thisRef),\n      pointerup: onPointerUp.bind(thisRef),\n      pointerleave: onEvent.bind(thisRef, 'onMouseOut'),\n      click: onPointerClick.bind(thisRef),\n      anyclick: onPointerClick.bind(thisRef),\n      dblclick: onEvent.bind(thisRef, 'onDblClick'),\n      wheel: onEvent.bind(thisRef, 'onWheel'),\n      contextmenu: onEvent.bind(thisRef, 'onContextMenu')\n    });\n    return function () {\n      eventManager.destroy();\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    if (viewportUpdateRequested) {\n      handleViewportChange.apply(void 0, _toConsumableArray(viewportUpdateRequested));\n    }\n\n    if (stateUpdateRequested) {\n      handleInteractionStateChange(stateUpdateRequested);\n    }\n  });\n  updateControllerOpts();\n  var width = props.width,\n      height = props.height,\n      style = props.style,\n      getCursor = props.getCursor;\n  var eventCanvasStyle = useMemo(function () {\n    return _objectSpread(_objectSpread({\n      position: 'relative'\n    }, style), {}, {\n      width: width,\n      height: height,\n      cursor: getCursor(thisRef.state)\n    });\n  }, [style, width, height, getCursor, thisRef.state]);\n\n  if (!viewportUpdateRequested || !thisRef._child) {\n    thisRef._child = React.createElement(MapContextProvider, {\n      value: context\n    }, React.createElement(\"div\", {\n      key: \"event-canvas\",\n      ref: eventCanvasRef,\n      style: eventCanvasStyle\n    }, React.createElement(StaticMap, _extends({}, props, {\n      width: \"100%\",\n      height: \"100%\",\n      style: null,\n      onResize: onResize,\n      ref: staticMapRef\n    }))));\n  }\n\n  inRender = false;\n  return thisRef._child;\n});\nInteractiveMap.supported = StaticMap.supported;\nInteractiveMap.propTypes = propTypes;\nInteractiveMap.defaultProps = defaultProps;\nexport default InteractiveMap;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport default function deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (!a || !b) {\n    return false;\n  }\n\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  } else if (Array.isArray(b)) {\n    return false;\n  }\n\n  if (_typeof(a) === 'object' && _typeof(b) === 'object') {\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n\n    for (var _i = 0, _aKeys = aKeys; _i < _aKeys.length; _i++) {\n      var key = _aKeys[_i];\n\n      if (!b.hasOwnProperty(key)) {\n        return false;\n      }\n\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport * as PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\nvar LAYER_TYPES = ['fill', 'line', 'symbol', 'circle', 'fill-extrusion', 'raster', 'background', 'heatmap', 'hillshade', 'sky'];\nvar propTypes = {\n  type: PropTypes.oneOf(LAYER_TYPES).isRequired,\n  id: PropTypes.string,\n  source: PropTypes.string,\n  beforeId: PropTypes.string\n};\n\nfunction diffLayerStyles(map, id, props, prevProps) {\n  var _props$layout = props.layout,\n      layout = _props$layout === void 0 ? {} : _props$layout,\n      _props$paint = props.paint,\n      paint = _props$paint === void 0 ? {} : _props$paint,\n      filter = props.filter,\n      minzoom = props.minzoom,\n      maxzoom = props.maxzoom,\n      beforeId = props.beforeId,\n      otherProps = _objectWithoutProperties(props, [\"layout\", \"paint\", \"filter\", \"minzoom\", \"maxzoom\", \"beforeId\"]);\n\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n\n  if (layout !== prevProps.layout) {\n    var prevLayout = prevProps.layout || {};\n\n    for (var key in layout) {\n      if (!deepEqual(layout[key], prevLayout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n\n    for (var _key in prevLayout) {\n      if (!layout.hasOwnProperty(_key)) {\n        map.setLayoutProperty(id, _key, undefined);\n      }\n    }\n  }\n\n  if (paint !== prevProps.paint) {\n    var prevPaint = prevProps.paint || {};\n\n    for (var _key2 in paint) {\n      if (!deepEqual(paint[_key2], prevPaint[_key2])) {\n        map.setPaintProperty(id, _key2, paint[_key2]);\n      }\n    }\n\n    for (var _key3 in prevPaint) {\n      if (!paint.hasOwnProperty(_key3)) {\n        map.setPaintProperty(id, _key3, undefined);\n      }\n    }\n  }\n\n  if (!deepEqual(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n\n  for (var _key4 in otherProps) {\n    if (!deepEqual(otherProps[_key4], prevProps[_key4])) {\n      map.setLayerProperty(id, _key4, otherProps[_key4]);\n    }\n  }\n}\n\nfunction createLayer(map, id, props) {\n  if (map.style && map.style._loaded) {\n    var options = _objectSpread(_objectSpread({}, props), {}, {\n      id: id\n    });\n\n    delete options.beforeId;\n    map.addLayer(options, props.beforeId);\n  }\n}\n\nfunction updateLayer(map, id, props, prevProps) {\n  assert(props.id === prevProps.id, 'layer id changed');\n  assert(props.type === prevProps.type, 'layer type changed');\n\n  try {\n    diffLayerStyles(map, id, props, prevProps);\n  } catch (error) {\n    console.warn(error);\n  }\n}\n\nvar layerCounter = 0;\n\nfunction Layer(props) {\n  var context = useContext(MapContext);\n  var propsRef = useRef({\n    id: props.id,\n    type: props.type\n  });\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      setStyleLoaded = _useState2[1];\n\n  var id = useMemo(function () {\n    return props.id || \"jsx-layer-\".concat(layerCounter++);\n  }, []);\n  var map = context.map;\n  useEffect(function () {\n    if (map) {\n      var forceUpdate = function forceUpdate() {\n        return setStyleLoaded(function (version) {\n          return version + 1;\n        });\n      };\n\n      map.on('styledata', forceUpdate);\n      return function () {\n        map.off('styledata', forceUpdate);\n\n        if (map.style && map.style._loaded) {\n          map.removeLayer(id);\n        }\n      };\n    }\n\n    return undefined;\n  }, [map]);\n  var layer = map && map.style && map.getLayer(id);\n\n  if (layer) {\n    updateLayer(map, id, props, propsRef.current);\n  } else {\n    createLayer(map, id, props);\n  }\n\n  propsRef.current = props;\n  return null;\n}\n\nLayer.propTypes = propTypes;\nexport default Layer;","import { useContext, useRef, useEffect } from 'react';\nimport * as PropTypes from 'prop-types';\nimport MapContext from './map-context';\nexport var mapControlDefaultProps = {\n  captureScroll: false,\n  captureDrag: true,\n  captureClick: true,\n  captureDoubleClick: true,\n  capturePointerMove: false\n};\nexport var mapControlPropTypes = {\n  captureScroll: PropTypes.bool,\n  captureDrag: PropTypes.bool,\n  captureClick: PropTypes.bool,\n  captureDoubleClick: PropTypes.bool,\n  capturePointerMove: PropTypes.bool\n};\n\nfunction onMount(thisRef) {\n  var ref = thisRef.containerRef.current;\n  var eventManager = thisRef.context.eventManager;\n\n  if (!ref || !eventManager) {\n    return undefined;\n  }\n\n  var events = {\n    wheel: function wheel(evt) {\n      var props = thisRef.props;\n\n      if (props.captureScroll) {\n        evt.stopPropagation();\n      }\n\n      if (props.onScroll) {\n        props.onScroll(evt, thisRef);\n      }\n    },\n    panstart: function panstart(evt) {\n      var props = thisRef.props;\n\n      if (props.captureDrag) {\n        evt.stopPropagation();\n      }\n\n      if (props.onDragStart) {\n        props.onDragStart(evt, thisRef);\n      }\n    },\n    anyclick: function anyclick(evt) {\n      var props = thisRef.props;\n\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onClick) {\n        props.onClick(evt, thisRef);\n      }\n    },\n    click: function click(evt) {\n      var props = thisRef.props;\n\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onClick) {\n        props.onClick(evt, thisRef);\n      }\n    },\n    dblclick: function dblclick(evt) {\n      var props = thisRef.props;\n\n      if (props.captureDoubleClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onDoubleClick) {\n        props.onDoubleClick(evt, thisRef);\n      }\n    },\n    pointermove: function pointermove(evt) {\n      var props = thisRef.props;\n\n      if (props.capturePointerMove) {\n        evt.stopPropagation();\n      }\n\n      if (props.onPointerMove) {\n        props.onPointerMove(evt, thisRef);\n      }\n    }\n  };\n  eventManager.watch(events, ref);\n  return function () {\n    eventManager.off(events);\n  };\n}\n\nexport default function useMapControl() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var context = useContext(MapContext);\n  var containerRef = useRef(null);\n\n  var _thisRef = useRef({\n    props: props,\n    state: {},\n    context: context,\n    containerRef: containerRef\n  });\n\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.context = context;\n  useEffect(function () {\n    return onMount(thisRef);\n  }, [context.eventManager]);\n  return thisRef;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport { PureComponent, createRef } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\n\nfunction Control(props) {\n  var instance = props.instance;\n\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  instance._context = context;\n  instance._containerRef = containerRef;\n  return instance._render();\n}\n\nvar BaseControl = function (_PureComponent) {\n  _inherits(BaseControl, _PureComponent);\n\n  var _super = _createSuper(BaseControl);\n\n  function BaseControl() {\n    var _this;\n\n    _classCallCheck(this, BaseControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_context\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_containerRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDblClick\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onClick\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPointerMove\", function (evt) {});\n\n    return _this;\n  }\n\n  _createClass(BaseControl, [{\n    key: \"_render\",\n    value: function _render() {\n      throw new Error('_render() not implemented');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Control, _extends({\n        instance: this\n      }, this.props, {\n        onScroll: this._onScroll,\n        onDragStart: this._onDragStart,\n        onDblClick: this._onDblClick,\n        onClick: this._onClick,\n        onPointerMove: this._onPointerMove\n      }));\n    }\n  }]);\n\n  return BaseControl;\n}(PureComponent);\n\n_defineProperty(BaseControl, \"propTypes\", mapControlPropTypes);\n\n_defineProperty(BaseControl, \"defaultProps\", mapControlDefaultProps);\n\nexport { BaseControl as default };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nexport var draggableControlPropTypes = Object.assign({}, mapControlPropTypes, {\n  draggable: PropTypes.bool,\n  onDrag: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDragStart: PropTypes.func,\n  offsetLeft: PropTypes.number,\n  offsetTop: PropTypes.number\n});\nexport var draggableControlDefaultProps = Object.assign({}, mapControlDefaultProps, {\n  draggable: false,\n  offsetLeft: 0,\n  offsetTop: 0\n});\n\nfunction getDragEventPosition(event) {\n  var _event$offsetCenter = event.offsetCenter,\n      x = _event$offsetCenter.x,\n      y = _event$offsetCenter.y;\n  return [x, y];\n}\n\nfunction getDragEventOffset(event, container) {\n  var _event$center = event.center,\n      x = _event$center.x,\n      y = _event$center.y;\n\n  if (container) {\n    var rect = container.getBoundingClientRect();\n    return [rect.left - x, rect.top - y];\n  }\n\n  return null;\n}\n\nfunction getDragLngLat(dragPos, dragOffset, props, context) {\n  var x = dragPos[0] + dragOffset[0] - props.offsetLeft;\n  var y = dragPos[1] + dragOffset[1] - props.offsetTop;\n  return context.viewport.unproject([x, y]);\n}\n\nfunction onDragStart(event, _ref) {\n  var props = _ref.props,\n      callbacks = _ref.callbacks,\n      state = _ref.state,\n      context = _ref.context,\n      containerRef = _ref.containerRef;\n  var draggable = props.draggable;\n\n  if (!draggable) {\n    return;\n  }\n\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  var dragOffset = getDragEventOffset(event, containerRef.current);\n  state.setDragPos(dragPos);\n  state.setDragOffset(dragOffset);\n\n  if (callbacks.onDragStart && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragStart(callbackEvent);\n  }\n}\n\nfunction onDrag(event, _ref2) {\n  var props = _ref2.props,\n      callbacks = _ref2.callbacks,\n      state = _ref2.state,\n      context = _ref2.context;\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  state.setDragPos(dragPos);\n  var dragOffset = state.dragOffset;\n\n  if (callbacks.onDrag && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDrag(callbackEvent);\n  }\n}\n\nfunction onDragEnd(event, _ref3) {\n  var props = _ref3.props,\n      callbacks = _ref3.callbacks,\n      state = _ref3.state,\n      context = _ref3.context;\n  event.stopPropagation();\n  var dragPos = state.dragPos,\n      dragOffset = state.dragOffset;\n  state.setDragPos(null);\n  state.setDragOffset(null);\n\n  if (callbacks.onDragEnd && dragPos && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragEnd(callbackEvent);\n  }\n}\n\nfunction onDragCancel(event, _ref4) {\n  var state = _ref4.state;\n  event.stopPropagation();\n  state.setDragPos(null);\n  state.setDragOffset(null);\n}\n\nfunction registerEvents(thisRef) {\n  var eventManager = thisRef.context.eventManager;\n\n  if (!eventManager || !thisRef.state.dragPos) {\n    return undefined;\n  }\n\n  var events = {\n    panmove: function panmove(evt) {\n      return onDrag(evt, thisRef);\n    },\n    panend: function panend(evt) {\n      return onDragEnd(evt, thisRef);\n    },\n    pancancel: function pancancel(evt) {\n      return onDragCancel(evt, thisRef);\n    }\n  };\n  eventManager.watch(events);\n  return function () {\n    eventManager.off(events);\n  };\n}\n\nexport default function useDraggableControl(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      dragPos = _useState2[0],\n      setDragPos = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dragOffset = _useState4[0],\n      setDragOffset = _useState4[1];\n\n  var thisRef = useMapControl(_objectSpread(_objectSpread({}, props), {}, {\n    onDragStart: onDragStart\n  }));\n  thisRef.callbacks = props;\n  thisRef.state.dragPos = dragPos;\n  thisRef.state.setDragPos = setDragPos;\n  thisRef.state.dragOffset = dragOffset;\n  thisRef.state.setDragOffset = setDragOffset;\n  useEffect(function () {\n    return registerEvents(thisRef);\n  }, [thisRef.context.eventManager, Boolean(dragPos)]);\n  return thisRef;\n}","var pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nexport var crispPixel = function crispPixel(size) {\n  return Math.round(size * pixelRatio) / pixelRatio;\n};\nexport var crispPercentage = function crispPercentage(el, percentage) {\n  var dimension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'x';\n\n  if (el === null) {\n    return percentage;\n  }\n\n  var origSize = dimension === 'x' ? el.offsetWidth : el.offsetHeight;\n  return crispPixel(percentage / 100 * origSize) / origSize * 100;\n};","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport useDraggableControl, { draggableControlDefaultProps, draggableControlPropTypes } from './draggable-control';\nimport { crispPixel } from '../utils/crisp-pixel';\nvar defaultProps = Object.assign({}, draggableControlDefaultProps, {\n  className: ''\n});\n\nfunction getPosition(_ref) {\n  var props = _ref.props,\n      state = _ref.state,\n      context = _ref.context;\n  var longitude = props.longitude,\n      latitude = props.latitude,\n      offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop;\n  var dragPos = state.dragPos,\n      dragOffset = state.dragOffset;\n\n  if (dragPos && dragOffset) {\n    return [dragPos[0] + dragOffset[0], dragPos[1] + dragOffset[1]];\n  }\n\n  var _context$viewport$pro = context.viewport.project([longitude, latitude]),\n      _context$viewport$pro2 = _slicedToArray(_context$viewport$pro, 2),\n      x = _context$viewport$pro2[0],\n      y = _context$viewport$pro2[1];\n\n  x += offsetLeft;\n  y += offsetTop;\n  return [x, y];\n}\n\nfunction Marker(props) {\n  var thisRef = useDraggableControl(props);\n  var state = thisRef.state,\n      containerRef = thisRef.containerRef;\n  var children = props.children,\n      className = props.className,\n      draggable = props.draggable;\n  var dragPos = state.dragPos;\n\n  var _getPosition = getPosition(thisRef),\n      _getPosition2 = _slicedToArray(_getPosition, 2),\n      x = _getPosition2[0],\n      y = _getPosition2[1];\n\n  var transform = \"translate(\".concat(crispPixel(x), \"px, \").concat(crispPixel(y), \"px)\");\n  var cursor = draggable ? dragPos ? 'grabbing' : 'grab' : 'auto';\n  var control = useMemo(function () {\n    var containerStyle = {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: transform,\n      cursor: cursor\n    };\n    return React.createElement(\"div\", {\n      className: \"mapboxgl-marker \".concat(className),\n      ref: thisRef.containerRef,\n      style: containerStyle\n    }, children);\n  }, [children, className]);\n  var container = containerRef.current;\n\n  if (container) {\n    container.style.transform = transform;\n    container.style.cursor = cursor;\n  }\n\n  return control;\n}\n\nMarker.defaultProps = defaultProps;\nexport default React.memo(Marker);","export var ANCHOR_POSITION = {\n  top: {\n    x: 0.5,\n    y: 0\n  },\n  'top-left': {\n    x: 0,\n    y: 0\n  },\n  'top-right': {\n    x: 1,\n    y: 0\n  },\n  bottom: {\n    x: 0.5,\n    y: 1\n  },\n  'bottom-left': {\n    x: 0,\n    y: 1\n  },\n  'bottom-right': {\n    x: 1,\n    y: 1\n  },\n  left: {\n    x: 0,\n    y: 0.5\n  },\n  right: {\n    x: 1,\n    y: 0.5\n  }\n};\nvar ANCHOR_TYPES = Object.keys(ANCHOR_POSITION);\nexport function getDynamicPosition(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      selfWidth = _ref.selfWidth,\n      selfHeight = _ref.selfHeight,\n      anchor = _ref.anchor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding;\n  var _ANCHOR_POSITION$anch = ANCHOR_POSITION[anchor],\n      anchorX = _ANCHOR_POSITION$anch.x,\n      anchorY = _ANCHOR_POSITION$anch.y;\n  var top = y - anchorY * selfHeight;\n  var bottom = top + selfHeight;\n  var cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n\n  if (cutoffY > 0) {\n    var bestAnchorY = anchorY;\n    var minCutoff = cutoffY;\n\n    for (anchorY = 0; anchorY <= 1; anchorY += 0.5) {\n      top = y - anchorY * selfHeight;\n      bottom = top + selfHeight;\n      cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n\n      if (cutoffY < minCutoff) {\n        minCutoff = cutoffY;\n        bestAnchorY = anchorY;\n      }\n    }\n\n    anchorY = bestAnchorY;\n  }\n\n  var xStep = 0.5;\n\n  if (anchorY === 0.5) {\n    anchorX = Math.floor(anchorX);\n    xStep = 1;\n  }\n\n  var left = x - anchorX * selfWidth;\n  var right = left + selfWidth;\n  var cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n\n  if (cutoffX > 0) {\n    var bestAnchorX = anchorX;\n    var _minCutoff = cutoffX;\n\n    for (anchorX = 0; anchorX <= 1; anchorX += xStep) {\n      left = x - anchorX * selfWidth;\n      right = left + selfWidth;\n      cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n\n      if (cutoffX < _minCutoff) {\n        _minCutoff = cutoffX;\n        bestAnchorX = anchorX;\n      }\n    }\n\n    anchorX = bestAnchorX;\n  }\n\n  return ANCHOR_TYPES.find(function (positionType) {\n    var anchorPosition = ANCHOR_POSITION[positionType];\n    return anchorPosition.x === anchorX && anchorPosition.y === anchorY;\n  }) || anchor;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useRef, useState, useEffect, useCallback } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nimport { getDynamicPosition, ANCHOR_POSITION } from '../utils/dynamic-position';\nimport { crispPercentage, crispPixel } from '../utils/crisp-pixel';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  altitude: 0,\n  offsetLeft: 0,\n  offsetTop: 0,\n  tipSize: 10,\n  anchor: 'bottom',\n  dynamicPosition: true,\n  sortByDepth: false,\n  closeButton: true,\n  closeOnClick: true,\n  onClose: function onClose() {}\n});\n\nfunction getPosition(props, viewport, el, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      x = _ref2[0],\n      y = _ref2[1];\n\n  var anchor = props.anchor,\n      dynamicPosition = props.dynamicPosition,\n      tipSize = props.tipSize;\n\n  if (el) {\n    return dynamicPosition ? getDynamicPosition({\n      x: x,\n      y: y,\n      anchor: anchor,\n      padding: tipSize,\n      width: viewport.width,\n      height: viewport.height,\n      selfWidth: el.clientWidth,\n      selfHeight: el.clientHeight\n    }) : anchor;\n  }\n\n  return anchor;\n}\n\nfunction getContainerStyle(props, viewport, el, _ref3, positionType) {\n  var _ref4 = _slicedToArray(_ref3, 3),\n      x = _ref4[0],\n      y = _ref4[1],\n      z = _ref4[2];\n\n  var offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop,\n      sortByDepth = props.sortByDepth;\n  var anchorPosition = ANCHOR_POSITION[positionType];\n  var left = x + offsetLeft;\n  var top = y + offsetTop;\n  var xPercentage = crispPercentage(el, -anchorPosition.x * 100);\n  var yPercentage = crispPercentage(el, -anchorPosition.y * 100, 'y');\n  var style = {\n    position: 'absolute',\n    transform: \"\\n      translate(\".concat(xPercentage, \"%, \").concat(yPercentage, \"%)\\n      translate(\").concat(crispPixel(left), \"px, \").concat(crispPixel(top), \"px)\\n    \"),\n    display: undefined,\n    zIndex: undefined\n  };\n\n  if (!sortByDepth) {\n    return style;\n  }\n\n  if (z > 1 || z < -1 || x < 0 || x > viewport.width || y < 0 || y > viewport.height) {\n    style.display = 'none';\n  } else {\n    style.zIndex = Math.floor((1 - z) / 2 * 100000);\n  }\n\n  return style;\n}\n\nfunction onClick(evt, _ref5) {\n  var props = _ref5.props,\n      context = _ref5.context;\n\n  if (props.closeOnClick || evt.target.className === 'mapboxgl-popup-close-button') {\n    props.onClose();\n\n    if (context.eventManager) {\n      context.eventManager.once('click', function (e) {\n        return e.stopPropagation();\n      }, evt.target);\n    }\n  }\n}\n\nfunction Popup(props) {\n  var contentRef = useRef(null);\n  var thisRef = useMapControl(_objectSpread(_objectSpread({}, props), {}, {\n    onClick: onClick\n  }));\n  var context = thisRef.context,\n      containerRef = thisRef.containerRef;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      setLoaded = _useState2[1];\n\n  useEffect(function () {\n    setLoaded(true);\n  }, [contentRef.current]);\n  var viewport = context.viewport;\n  var className = props.className,\n      longitude = props.longitude,\n      latitude = props.latitude,\n      altitude = props.altitude,\n      tipSize = props.tipSize,\n      closeButton = props.closeButton,\n      children = props.children;\n  var position = viewport.project([longitude, latitude, altitude]);\n  var positionType = getPosition(props, viewport, contentRef.current, position);\n  var containerStyle = getContainerStyle(props, viewport, containerRef.current, position, positionType);\n  var onReactClick = useCallback(function (e) {\n    return !context.eventManager && onClick(e, thisRef);\n  }, [context.eventManager]);\n  return React.createElement(\"div\", {\n    className: \"mapboxgl-popup mapboxgl-popup-anchor-\".concat(positionType, \" \").concat(className),\n    style: containerStyle,\n    ref: containerRef\n  }, React.createElement(\"div\", {\n    key: \"tip\",\n    className: \"mapboxgl-popup-tip\",\n    style: {\n      borderWidth: tipSize\n    }\n  }), React.createElement(\"div\", {\n    key: \"content\",\n    ref: contentRef,\n    className: \"mapboxgl-popup-content\",\n    onClick: onReactClick\n  }, closeButton && React.createElement(\"button\", {\n    key: \"close-button\",\n    className: \"mapboxgl-popup-close-button\",\n    type: \"button\"\n  }, \"\\xD7\"), children));\n}\n\nPopup.defaultProps = defaultProps;\nexport default React.memo(Popup);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useEffect, useCallback, useState, useRef, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  toggleLabel: 'Toggle Attribution'\n});\n\nfunction setupAttributioncontrol(opts, map, container, attributionContainer) {\n  var control = new mapboxgl.AttributionControl(opts);\n  control._map = map;\n  control._container = container;\n  control._innerContainer = attributionContainer;\n\n  control._updateAttributions();\n\n  control._updateEditLink();\n\n  map.on('styledata', control._updateData);\n  map.on('sourcedata', control._updateData);\n  return control;\n}\n\nfunction removeAttributionControl(control) {\n  control._map.off('styledata', control._updateData);\n\n  control._map.off('sourcedata', control._updateData);\n}\n\nfunction AttributionControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var innerContainerRef = useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showCompact = _useState2[0],\n      setShowCompact = _useState2[1];\n\n  useEffect(function () {\n    var control;\n\n    if (context.map) {\n      control = setupAttributioncontrol({\n        customAttribution: props.customAttribution\n      }, context.map, containerRef.current, innerContainerRef.current);\n    }\n\n    return function () {\n      return control && removeAttributionControl(control);\n    };\n  }, [context.map]);\n  var compact = props.compact === undefined ? context.viewport.width <= 640 : props.compact;\n  useEffect(function () {\n    if (!compact && showCompact) {\n      setShowCompact(false);\n    }\n  }, [compact]);\n  var toggleAttribution = useCallback(function () {\n    return setShowCompact(function (value) {\n      return !value;\n    });\n  }, []);\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: props.className\n  }, React.createElement(\"div\", {\n    ref: containerRef,\n    \"aria-pressed\": showCompact,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-attrib \".concat(compact ? 'mapboxgl-compact' : '', \" \").concat(showCompact ? 'mapboxgl-compact-show' : '')\n  }, React.createElement(\"button\", {\n    className: \"mapboxgl-ctrl-attrib-button\",\n    title: props.toggleLabel,\n    onClick: toggleAttribution\n  }), React.createElement(\"div\", {\n    ref: innerContainerRef,\n    className: \"mapboxgl-ctrl-attrib-inner\",\n    role: \"list\"\n  })));\n}\n\nAttributionControl.defaultProps = defaultProps;\nexport default React.memo(AttributionControl);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { document } from '../utils/globals';\nimport * as React from 'react';\nimport { useEffect, useState, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  container: null,\n  label: 'Toggle fullscreen'\n});\n\nfunction FullscreenControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFullscreen = _useState2[0],\n      setIsFullscreen = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showButton = _useState4[0],\n      setShowButton = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mapboxFullscreenControl = _useState6[0],\n      createMapboxFullscreenControl = _useState6[1];\n\n  useEffect(function () {\n    var container = props.container || context.container;\n    var control = new mapboxgl.FullscreenControl({\n      container: container\n    });\n    createMapboxFullscreenControl(control);\n    setShowButton(control._checkFullscreenSupport());\n\n    var onFullscreenChange = function onFullscreenChange() {\n      var nextState = !control._fullscreen;\n      control._fullscreen = nextState;\n      setIsFullscreen(nextState);\n    };\n\n    document.addEventListener(control._fullscreenchange, onFullscreenChange);\n    return function () {\n      document.removeEventListener(control._fullscreenchange, onFullscreenChange);\n    };\n  }, []);\n\n  var onClickFullscreen = function onClickFullscreen() {\n    if (mapboxFullscreenControl) {\n      mapboxFullscreenControl._onClickFullscreen();\n    }\n  };\n\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n\n  if (!showButton) {\n    return null;\n  }\n\n  var className = props.className,\n      label = props.label;\n  var type = isFullscreen ? 'shrink' : 'fullscreen';\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, React.createElement(\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: onClickFullscreen\n  }, React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\n\nFullscreenControl.defaultProps = defaultProps;\nexport default React.memo(FullscreenControl);","var supported;\nexport function isGeolocationSupported() {\n  if (supported !== undefined) {\n    return Promise.resolve(supported);\n  }\n\n  if (window.navigator.permissions !== undefined) {\n    return window.navigator.permissions.query({\n      name: 'geolocation'\n    }).then(function (p) {\n      supported = p.state !== 'denied';\n      return supported;\n    });\n  }\n\n  supported = Boolean(window.navigator.geolocation);\n  return Promise.resolve(supported);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useRef, useEffect, useState, useCallback, useMemo } from 'react';\nimport { document } from '../utils/globals';\nimport mapboxgl from '../utils/mapboxgl';\nimport MapState from '../utils/map-state';\nimport TransitionManager from '../utils/transition-manager';\nimport { isGeolocationSupported } from '../utils/geolocate-utils';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar LINEAR_TRANSITION_PROPS = Object.assign({}, TransitionManager.defaultProps, {\n  transitionDuration: 500\n});\n\nvar noop = function noop() {};\n\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  label: 'Find My Location',\n  disabledLabel: 'Location Not Available',\n  auto: false,\n  positionOptions: {\n    enableHighAccuracy: false,\n    timeout: 6000\n  },\n  fitBoundsOptions: {\n    maxZoom: 15\n  },\n  trackUserLocation: false,\n  showUserLocation: true,\n  showAccuracyCircle: true,\n  onGeolocate: function onGeolocate() {}\n});\n\nfunction getBounds(position) {\n  var center = new mapboxgl.LngLat(position.coords.longitude, position.coords.latitude);\n  var radius = position.coords.accuracy;\n  var bounds = center.toBounds(radius);\n  return [[bounds._ne.lng, bounds._ne.lat], [bounds._sw.lng, bounds._sw.lat]];\n}\n\nfunction setupMapboxGeolocateControl(context, props, geolocateButton) {\n  var control = new mapboxgl.GeolocateControl(props);\n  control._container = document.createElement('div');\n  control._map = {\n    on: function on() {},\n    _getUIString: function _getUIString() {\n      return '';\n    }\n  };\n\n  control._setupUI(true);\n\n  control._map = context.map;\n  control._geolocateButton = geolocateButton;\n  var eventManager = context.eventManager;\n\n  if (control.options.trackUserLocation && eventManager) {\n    eventManager.on('panstart', function () {\n      if (control._watchState === 'ACTIVE_LOCK') {\n        control._watchState = 'BACKGROUND';\n        geolocateButton.classList.add('mapboxgl-ctrl-geolocate-background');\n        geolocateButton.classList.remove('mapboxgl-ctrl-geolocate-active');\n      }\n    });\n  }\n\n  control.on('geolocate', props.onGeolocate);\n  return control;\n}\n\nfunction updateCamera(position, _ref) {\n  var context = _ref.context,\n      props = _ref.props;\n  var bounds = getBounds(position);\n\n  var _context$viewport$fit = context.viewport.fitBounds(bounds, props.fitBoundsOptions),\n      longitude = _context$viewport$fit.longitude,\n      latitude = _context$viewport$fit.latitude,\n      zoom = _context$viewport$fit.zoom;\n\n  var newViewState = Object.assign({}, context.viewport, {\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom\n  });\n  var mapState = new MapState(newViewState);\n  var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\n\nfunction GeolocateControl(props) {\n  var thisRef = useMapControl(props);\n  var context = thisRef.context,\n      containerRef = thisRef.containerRef;\n  var geolocateButtonRef = useRef(null);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      mapboxGeolocateControl = _useState2[0],\n      createMapboxGeolocateControl = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      supportsGeolocation = _useState4[0],\n      setSupportsGeolocation = _useState4[1];\n\n  useEffect(function () {\n    var control;\n\n    if (context.map) {\n      isGeolocationSupported().then(function (result) {\n        setSupportsGeolocation(result);\n\n        if (geolocateButtonRef.current) {\n          control = setupMapboxGeolocateControl(context, props, geolocateButtonRef.current);\n\n          control._updateCamera = function (position) {\n            return updateCamera(position, thisRef);\n          };\n\n          createMapboxGeolocateControl(control);\n        }\n      });\n    }\n\n    return function () {\n      if (control) {\n        control._clearWatch();\n      }\n    };\n  }, [context.map]);\n  var triggerGeolocate = useCallback(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl.options = thisRef.props;\n      mapboxGeolocateControl.trigger();\n    }\n  }, [mapboxGeolocateControl]);\n  useEffect(function () {\n    if (props.auto) {\n      triggerGeolocate();\n    }\n  }, [mapboxGeolocateControl, props.auto]);\n  useEffect(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl._onZoom();\n    }\n  }, [context.viewport.zoom]);\n  var className = props.className,\n      label = props.label,\n      disabledLabel = props.disabledLabel,\n      trackUserLocation = props.trackUserLocation;\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    key: \"geolocate-control\",\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, React.createElement(\"button\", {\n    key: \"geolocate\",\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate\",\n    ref: geolocateButtonRef,\n    disabled: !supportsGeolocation,\n    \"aria-pressed\": !trackUserLocation,\n    type: \"button\",\n    title: supportsGeolocation ? label : disabledLabel,\n    \"aria-label\": supportsGeolocation ? label : disabledLabel,\n    onClick: triggerGeolocate\n  }, React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\n\nGeolocateControl.defaultProps = defaultProps;\nexport default React.memo(GeolocateControl);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport MapState from '../utils/map-state';\nimport { LINEAR_TRANSITION_PROPS } from '../utils/map-controller';\nimport { compareVersions } from '../utils/version';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\n\nvar noop = function noop() {};\n\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  showCompass: true,\n  showZoom: true,\n  zoomInLabel: 'Zoom In',\n  zoomOutLabel: 'Zoom Out',\n  compassLabel: 'Reset North'\n});\nvar VERSION_LEGACY = 1;\nvar VERSION_1_6 = 2;\n\nfunction getUIVersion(mapboxVersion) {\n  return compareVersions(mapboxVersion, '1.6.0') >= 0 ? VERSION_1_6 : VERSION_LEGACY;\n}\n\nfunction updateViewport(context, props, opts) {\n  var viewport = context.viewport;\n  var mapState = new MapState(Object.assign({}, viewport, opts));\n  var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\n\nfunction renderButton(type, label, callback, children) {\n  return React.createElement(\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: callback\n  }, children || React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }));\n}\n\nfunction renderCompass(context) {\n  var uiVersion = useMemo(function () {\n    return context.map ? getUIVersion(context.map.version) : VERSION_1_6;\n  }, [context.map]);\n  var bearing = context.viewport.bearing;\n  var style = {\n    transform: \"rotate(\".concat(-bearing, \"deg)\")\n  };\n  return uiVersion === VERSION_1_6 ? React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\",\n    style: style\n  }) : React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-compass-arrow\",\n    style: style\n  });\n}\n\nfunction NavigationControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var onZoomIn = function onZoomIn() {\n    updateViewport(context, props, {\n      zoom: context.viewport.zoom + 1\n    });\n  };\n\n  var onZoomOut = function onZoomOut() {\n    updateViewport(context, props, {\n      zoom: context.viewport.zoom - 1\n    });\n  };\n\n  var onResetNorth = function onResetNorth() {\n    updateViewport(context, props, {\n      bearing: 0,\n      pitch: 0\n    });\n  };\n\n  var className = props.className,\n      showCompass = props.showCompass,\n      showZoom = props.showZoom,\n      zoomInLabel = props.zoomInLabel,\n      zoomOutLabel = props.zoomOutLabel,\n      compassLabel = props.compassLabel;\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, showZoom && renderButton('zoom-in', zoomInLabel, onZoomIn), showZoom && renderButton('zoom-out', zoomOutLabel, onZoomOut), showCompass && renderButton('compass', compassLabel, onResetNorth, renderCompass(context))));\n}\n\nNavigationControl.defaultProps = defaultProps;\nexport default React.memo(NavigationControl);","export function compareVersions(version1, version2) {\n  var v1 = (version1 || '').split('.').map(Number);\n  var v2 = (version2 || '').split('.').map(Number);\n\n  for (var i = 0; i < 3; i++) {\n    var part1 = v1[i] || 0;\n    var part2 = v2[i] || 0;\n\n    if (part1 < part2) {\n      return -1;\n    }\n\n    if (part1 > part2) {\n      return 1;\n    }\n  }\n\n  return 0;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useEffect, useState, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  maxWidth: 100,\n  unit: 'metric'\n});\n\nfunction ScaleControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      mapboxScaleControl = _useState2[0],\n      createMapboxScaleControl = _useState2[1];\n\n  useEffect(function () {\n    if (context.map) {\n      var control = new mapboxgl.ScaleControl();\n      control._map = context.map;\n      control._container = containerRef.current;\n      createMapboxScaleControl(control);\n    }\n  }, [context.map]);\n\n  if (mapboxScaleControl) {\n    mapboxScaleControl.options = props;\n\n    mapboxScaleControl._onMove();\n  }\n\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: props.className\n  }, React.createElement(\"div\", {\n    ref: containerRef,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-scale\"\n  }));\n}\n\nScaleControl.defaultProps = defaultProps;\nexport default React.memo(ScaleControl);","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction CanvasOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      ctx = _useState2[0],\n      setDrawingContext = _useState2[1];\n\n  useEffect(function () {\n    setDrawingContext(containerRef.current.getContext('2d'));\n  }, []);\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  if (ctx) {\n    ctx.save();\n    ctx.scale(pixelRatio, pixelRatio);\n    props.redraw({\n      width: viewport.width,\n      height: viewport.height,\n      ctx: ctx,\n      isDragging: isDragging,\n      project: viewport.project,\n      unproject: viewport.unproject\n    });\n    ctx.restore();\n  }\n\n  return React.createElement(\"canvas\", {\n    ref: containerRef,\n    width: viewport.width * pixelRatio,\n    height: viewport.height * pixelRatio,\n    style: {\n      width: \"\".concat(viewport.width, \"px\"),\n      height: \"\".concat(viewport.height, \"px\"),\n      position: 'absolute',\n      left: 0,\n      top: 0\n    }\n  });\n}\n\nCanvasOverlay.defaultProps = defaultProps;\nexport default CanvasOverlay;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction HTMLOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  var style = _objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    width: viewport.width,\n    height: viewport.height\n  }, props.style);\n\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\n\nHTMLOverlay.defaultProps = defaultProps;\nexport default HTMLOverlay;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction SVGOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  var style = _objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0\n  }, props.style);\n\n  return React.createElement(\"svg\", {\n    width: viewport.width,\n    height: viewport.height,\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\n\nSVGOverlay.defaultProps = defaultProps;\nexport default SVGOverlay;","import mapboxgl from './mapboxgl';\nvar setRTLTextPlugin = mapboxgl ? mapboxgl.setRTLTextPlugin : function () {};\nexport default setRTLTextPlugin;","import * as React from 'react';\nimport {Marker} from 'react-map-gl';\n\nconst ICON = `M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z`;\n\nconst SIZE = 20;\n\n// Important for perf: the markers never change, avoid rerender when the map viewport changes\nfunction Pins(props) {\n  const {data, onClick} = props;\n\n  return data.map((city, index) => (\n    <Marker key={`marker-${index}`} longitude={city.longitude} latitude={city.latitude}>\n      <svg\n        height={SIZE}\n        viewBox=\"0 0 24 24\"\n        style={{\n          cursor: 'pointer',\n          fill: '#d00',\n          stroke: 'none',\n          transform: `translate(${-SIZE / 2}px,${-SIZE}px)`\n        }}\n        onClick={() => onClick(city)}\n      >\n        <path d={ICON} />\n      </svg>\n    </Marker>\n  ));\n}\n\nexport default React.memo(Pins);\n","import * as React from 'react';\n\nfunction CityInfo(props) {\n  const {info} = props;\n  const displayName = `${info.city}, ${info.state}`;\n\n  return (\n    <div>\n      <div>\n          Add Your Event Here\n      </div>\n      <div>\n          Add Your Place Here\n      </div>\n      <div>\n        {displayName}\n      </div>\n      <div>\n        <a\n          target=\"_new\"\n          href={`http://en.wikipedia.org/w/index.php?title=Special:Search&search=${displayName}`}\n        >\n          Take Action\n        </a>\n      </div>\n      <img width={240} src={info.image} />\n    </div>\n  );\n}\n\nexport default React.memo(CityInfo);\n","import * as React from 'react';\nimport {useState, useEffect} from 'react';\nimport { List, ListItem } from '@material-ui/core';\nimport \"./style/app.css\";\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapboxgl from 'mapbox-gl';\nimport { Paper } from '@material-ui/core';\nimport {Helmet} from 'react-helmet';\nimport { Button } from '@material-ui/core';\nimport MapGL, {\n  Popup,\n  NavigationControl,\n  FullscreenControl,\n  ScaleControl,\n  GeolocateControl\n} from 'react-map-gl';\n\nimport Pins from './pins';\nimport CityInfo from './city-info';\n\nimport CITIES from './cities.json';\nmapboxgl.workerClass = require('worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker').default;\n\n\nconst TOKEN = 'pk.eyJ1IjoiaG93aWxvdmV0aGVlYXJ0aCIsImEiOiJja2xtaWJmNHkwOWJxMndtMjk1dmFicWpmIn0.2ThiqLcsMOshiqFxxbHtsg'; // Set your mapbox token here\n\nconst geolocateStyle = {\n  top: 0,\n  left: 0,\n  padding: '10px'\n};\n\nconst fullscreenControlStyle = {\n  top: 36,\n  left: 0,\n  padding: '10px'\n};\n\nconst navStyle = {\n  top: 72,\n  left: 0,\n  padding: '10px'\n};\n\nconst scaleControlStyle = {\n  bottom: 36,\n  left: 0,\n  padding: '10px'\n};\n\nconst initialViewport = {\n  latitude: 40,\n  longitude: -100,\n  zoom: 3.5,\n  bearing: 0,\n  pitch: 0\n}\n\nexport default function App() {\n  const [viewport, setViewport] = useState(initialViewport);\n  const [popupInfo, setPopupInfo] = useState(null);\n  const [sortedCities, setSortedCities] = useState([]);\n  const [isDesktop, setIsDesktop] = useState(true);\n  const [showMap, setShowMap] = useState(true);\n\n  const updateDimensions = () => {\n    setIsDesktop(window.innerWidth >= 800);\n  }\n\n  const shouldShowMap = isDesktop || showMap;\n  const shouldShowList = isDesktop || !showMap;\n\n  useEffect(() => {\n    updateDimensions();\n    window.addEventListener(\"resize\", updateDimensions);\n    return () => window.removeEventListener(\"resize\", updateDimensions);\n  }, [])\n\n  useEffect(() => {\n    setSortedCities(CITIES.sort((cityA, cityB) => {\n      let nameA = cityA.city.toUpperCase(); // ignore upper and lowercase\n      let nameB = cityB.city.toUpperCase(); // ignore upper and lowercase\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n\n      // names must be equal\n      return 0;\n\n    }))\n  }, [])\n\n  return (\n      <>\n        <Helmet>\n          <link\n              rel=\"stylesheet\"\n              href=\"https://api.tiles.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css\"\n          />\n        </Helmet>\n        <h4>\n          Want to broadcast a local action targeting some bank in your area? Please fill out this <a target=\"_blank\" href={\"https://www.surveymonkey.com/r/VZMHBCK\"}>survey.</a>\n        </h4>\n        {isDesktop? undefined:\n            <Button\n                variant=\"outlined\"\n                onClick={() => {setShowMap(!showMap)}}\n            >\n              {!showMap? \"Show Map\" : \"Hide Map\"}\n            </Button>  }\n        <div className={\"test\"}>\n          {shouldShowList?\n              <Paper className=\"city-list\" style={{maxHeight: 500, overflow: 'auto'}}>\n                <List component=\"nav\">\n                  {sortedCities.map((city, index) => {\n                    return (\n                        <ListItem\n                            key={`${city.city}-index`}\n                            button\n                            onClick={() => {\n                              setPopupInfo(city);\n                              setViewport(initialViewport);\n                            }}\n                        >\n                          <div>\n                            <h4>Add Your Event Here</h4>\n                            <div>\n                              Add your place here.\n                            </div>\n                            <div>\n                              {`${city.city}, ${city.state}`}\n                            </div>\n                            <div>\n                              <a href={\"https://google.com\"} target={\"_blank\"}>Take Action</a>\n                            </div>\n                          </div>\n                        </ListItem>\n                    )\n                  })\n                  }\n                </List>\n              </Paper>: undefined}\n          {shouldShowMap?\n              <div\n                  className=\"mapgl\"\n              >\n                <MapGL\n                    {...viewport}\n                    width=\"100%\"\n                    height=\"100%\"\n                    mapStyle=\"mapbox://styles/howilovetheearth/cklq08mlf38sr17qhxyzuzdqk\"\n                    onViewportChange={setViewport}\n                    mapboxApiAccessToken={TOKEN}\n                >\n                  <Pins data={CITIES} onClick={setPopupInfo} />\n\n                  {popupInfo && (\n                      <Popup\n                          tipSize={5}\n                          anchor=\"top\"\n                          longitude={popupInfo.longitude}\n                          latitude={popupInfo.latitude}\n                          closeOnClick={false}\n                          onClose={setPopupInfo}\n                      >\n                        <CityInfo info={popupInfo} />\n                      </Popup>\n                  )}\n\n                  <GeolocateControl style={geolocateStyle} />\n                  <FullscreenControl style={fullscreenControlStyle} />\n                  <NavigationControl style={navStyle} />\n                  <ScaleControl style={scaleControlStyle} />\n                </MapGL>\n              </div>: undefined}\n        </div>\n      </>\n  );\n}\n// export function renderToDom(container) {\n//   render(<App />, container);\n// }\n","import React from \"react\"\nimport { graphql, StaticQuery } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport PostCard from \"../components/postCard\"\nimport App from \"../components/map/app\";\n\n\n// import \"../utils/global.scss\"\nimport \"../utils/normalize.css\"\nimport \"../utils/css/screen.css\"\n//TODO: switch to staticQuery, get rid of comments, remove unnecessary components, export as draft template\nconst BlogIndex = ({ data }, location) => {\n  const siteTitle = data.site.siteMetadata.title\n\n  return (\n    <Layout title={siteTitle}>\n      <SEO\n        title=\"Find an Action\"\n        keywords={[`line 3`, `stop the money pipeline`, `action`, `local`]}\n      />\n      {data.site.siteMetadata.description && (\n        <header className=\"page-head\">\n          <h2 className=\"page-head-title\">\n            {data.site.siteMetadata.description}\n          </h2>\n        </header>\n      )}\n      <App/>\n    </Layout>\n  )\n}\n\nconst indexQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n        description\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            description\n            thumbnail {\n              childImageSharp {\n                fluid(maxWidth: 1360) {\n                  ...GatsbyImageSharpFluid\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default props => (\n  <StaticQuery\n    query={indexQuery}\n    render={data => (\n      <BlogIndex location={props.location} props data={data} {...props} />\n    )}\n  />\n)\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}","export var userAgent = typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\nvar window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };\nvar passiveSupported = false;\n\ntry {\n  var options = {\n    get passive() {\n      passiveSupported = true;\n      return true;\n    }\n\n  };\n  window_.addEventListener('test', options, options);\n  window_.removeEventListener('test', options, options);\n} catch (err) {}\n\nexport { passiveSupported };","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"@babel/runtime/helpers/assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"@babel/runtime/helpers/arrayWithoutHoles\");\n\nvar iterableToArray = require(\"@babel/runtime/helpers/iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"@babel/runtime/helpers/unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"@babel/runtime/helpers/nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar setPrototypeOf = require(\"@babel/runtime/helpers/setPrototypeOf\");\n\nvar isNativeFunction = require(\"@babel/runtime/helpers/isNativeFunction\");\n\nvar construct = require(\"@babel/runtime/helpers/construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"@babel/runtime/helpers/setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import \"core-js/modules/es.array.reduce.js\";\n\n/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = function () {\n  if (typeof Map !== 'undefined') {\n    return Map;\n  }\n  /**\r\n   * Returns index in provided array that matches the specified key.\r\n   *\r\n   * @param {Array<Array>} arr\r\n   * @param {*} key\r\n   * @returns {number}\r\n   */\n\n\n  function getIndex(arr, key) {\n    var result = -1;\n    arr.some(function (entry, index) {\n      if (entry[0] === key) {\n        result = index;\n        return true;\n      }\n\n      return false;\n    });\n    return result;\n  }\n\n  return (\n    /** @class */\n    function () {\n      function class_1() {\n        this.__entries__ = [];\n      }\n\n      Object.defineProperty(class_1.prototype, \"size\", {\n        /**\r\n         * @returns {boolean}\r\n         */\n        get: function get() {\n          return this.__entries__.length;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      /**\r\n       * @param {*} key\r\n       * @returns {*}\r\n       */\n\n      class_1.prototype.get = function (key) {\n        var index = getIndex(this.__entries__, key);\n        var entry = this.__entries__[index];\n        return entry && entry[1];\n      };\n      /**\r\n       * @param {*} key\r\n       * @param {*} value\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.set = function (key, value) {\n        var index = getIndex(this.__entries__, key);\n\n        if (~index) {\n          this.__entries__[index][1] = value;\n        } else {\n          this.__entries__.push([key, value]);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.delete = function (key) {\n        var entries = this.__entries__;\n        var index = getIndex(entries, key);\n\n        if (~index) {\n          entries.splice(index, 1);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.has = function (key) {\n        return !!~getIndex(this.__entries__, key);\n      };\n      /**\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.clear = function () {\n        this.__entries__.splice(0);\n      };\n      /**\r\n       * @param {Function} callback\r\n       * @param {*} [ctx=null]\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.forEach = function (callback, ctx) {\n        if (ctx === void 0) {\n          ctx = null;\n        }\n\n        for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\n          var entry = _a[_i];\n          callback.call(ctx, entry[1], entry[0]);\n        }\n      };\n\n      return class_1;\n    }()\n  );\n}();\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\n\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document; // Returns global object of a current environment.\n\nvar global$1 = function () {\n  if (typeof global !== 'undefined' && global.Math === Math) {\n    return global;\n  }\n\n  if (typeof self !== 'undefined' && self.Math === Math) {\n    return self;\n  }\n\n  if (typeof window !== 'undefined' && window.Math === Math) {\n    return window;\n  } // eslint-disable-next-line no-new-func\n\n\n  return Function('return this')();\n}();\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\n\n\nvar requestAnimationFrame$1 = function () {\n  if (typeof requestAnimationFrame === 'function') {\n    // It's required to use a bounded function because IE sometimes throws\n    // an \"Invalid calling object\" error if rAF is invoked without the global\n    // object on the left hand side.\n    return requestAnimationFrame.bind(global$1);\n  }\n\n  return function (callback) {\n    return setTimeout(function () {\n      return callback(Date.now());\n    }, 1000 / 60);\n  };\n}(); // Defines minimum timeout before adding a trailing call.\n\n\nvar trailingTimeout = 2;\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\n\nfunction throttle(callback, delay) {\n  var leadingCall = false,\n      trailingCall = false,\n      lastCallTime = 0;\n  /**\r\n   * Invokes the original callback function and schedules new invocation if\r\n   * the \"proxy\" was called during current request.\r\n   *\r\n   * @returns {void}\r\n   */\n\n  function resolvePending() {\n    if (leadingCall) {\n      leadingCall = false;\n      callback();\n    }\n\n    if (trailingCall) {\n      proxy();\n    }\n  }\n  /**\r\n   * Callback invoked after the specified delay. It will further postpone\r\n   * invocation of the original function delegating it to the\r\n   * requestAnimationFrame.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function timeoutCallback() {\n    requestAnimationFrame$1(resolvePending);\n  }\n  /**\r\n   * Schedules invocation of the original function.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function proxy() {\n    var timeStamp = Date.now();\n\n    if (leadingCall) {\n      // Reject immediately following calls.\n      if (timeStamp - lastCallTime < trailingTimeout) {\n        return;\n      } // Schedule new call to be in invoked when the pending one is resolved.\n      // This is important for \"transitions\" which never actually start\n      // immediately so there is a chance that we might miss one if change\n      // happens amids the pending invocation.\n\n\n      trailingCall = true;\n    } else {\n      leadingCall = true;\n      trailingCall = false;\n      setTimeout(timeoutCallback, delay);\n    }\n\n    lastCallTime = timeStamp;\n  }\n\n  return proxy;\n} // Minimum delay before invoking the update of observers.\n\n\nvar REFRESH_DELAY = 20; // A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\n\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight']; // Check if MutationObserver is available.\n\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\n\nvar ResizeObserverController =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserverController.\r\n   *\r\n   * @private\r\n   */\n  function ResizeObserverController() {\n    /**\r\n     * Indicates whether DOM listeners have been added.\r\n     *\r\n     * @private {boolean}\r\n     */\n    this.connected_ = false;\n    /**\r\n     * Tells that controller has subscribed for Mutation Events.\r\n     *\r\n     * @private {boolean}\r\n     */\n\n    this.mutationEventsAdded_ = false;\n    /**\r\n     * Keeps reference to the instance of MutationObserver.\r\n     *\r\n     * @private {MutationObserver}\r\n     */\n\n    this.mutationsObserver_ = null;\n    /**\r\n     * A list of connected observers.\r\n     *\r\n     * @private {Array<ResizeObserverSPI>}\r\n     */\n\n    this.observers_ = [];\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n  }\n  /**\r\n   * Adds observer to observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be added.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n      this.observers_.push(observer);\n    } // Add listeners if they haven't been added yet.\n\n\n    if (!this.connected_) {\n      this.connect_();\n    }\n  };\n  /**\r\n   * Removes observer from observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer); // Remove observer if it's present in registry.\n\n    if (~index) {\n      observers.splice(index, 1);\n    } // Remove listeners if controller has no connected observers.\n\n\n    if (!observers.length && this.connected_) {\n      this.disconnect_();\n    }\n  };\n  /**\r\n   * Invokes the update of observers. It will continue running updates insofar\r\n   * it detects changes.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_(); // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n\n    if (changesDetected) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Updates every observer from observers list and notifies them of queued\r\n   * entries.\r\n   *\r\n   * @private\r\n   * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n   *      dimensions of it's elements.\r\n   */\n\n\n  ResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n      return observer.gatherActive(), observer.hasActive();\n    }); // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n\n    activeObservers.forEach(function (observer) {\n      return observer.broadcastActive();\n    });\n    return activeObservers.length > 0;\n  };\n  /**\r\n   * Initializes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n      return;\n    } // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n\n\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n    window.addEventListener('resize', this.refresh);\n\n    if (mutationObserverSupported) {\n      this.mutationsObserver_ = new MutationObserver(this.refresh);\n      this.mutationsObserver_.observe(document, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    } else {\n      document.addEventListener('DOMSubtreeModified', this.refresh);\n      this.mutationEventsAdded_ = true;\n    }\n\n    this.connected_ = true;\n  };\n  /**\r\n   * Removes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n      return;\n    }\n\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n\n    if (this.mutationsObserver_) {\n      this.mutationsObserver_.disconnect();\n    }\n\n    if (this.mutationEventsAdded_) {\n      document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n  };\n  /**\r\n   * \"Transitionend\" event handler.\r\n   *\r\n   * @private\r\n   * @param {TransitionEvent} event\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\n    var _b = _a.propertyName,\n        propertyName = _b === void 0 ? '' : _b; // Detect whether transition may affect dimensions of an element.\n\n    var isReflowProperty = transitionKeys.some(function (key) {\n      return !!~propertyName.indexOf(key);\n    });\n\n    if (isReflowProperty) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Returns instance of the ResizeObserverController.\r\n   *\r\n   * @returns {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n      this.instance_ = new ResizeObserverController();\n    }\n\n    return this.instance_;\n  };\n  /**\r\n   * Holds reference to the controller's instance.\r\n   *\r\n   * @private {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.instance_ = null;\n  return ResizeObserverController;\n}();\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\n\n\nvar defineConfigurable = function defineConfigurable(target, props) {\n  for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n    var key = _a[_i];\n    Object.defineProperty(target, key, {\n      value: props[key],\n      enumerable: false,\n      writable: false,\n      configurable: true\n    });\n  }\n\n  return target;\n};\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\n\n\nvar getWindowOf = function getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local global object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || global$1;\n}; // Placeholder of an empty content rectangle.\n\n\nvar emptyRect = createRectInit(0, 0, 0, 0);\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\n\nfunction toFloat(value) {\n  return parseFloat(value) || 0;\n}\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\n\n\nfunction getBordersSize(styles) {\n  var positions = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    positions[_i - 1] = arguments[_i];\n  }\n\n  return positions.reduce(function (size, position) {\n    var value = styles['border-' + position + '-width'];\n    return size + toFloat(value);\n  }, 0);\n}\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\n\n\nfunction getPaddings(styles) {\n  var positions = ['top', 'right', 'bottom', 'left'];\n  var paddings = {};\n\n  for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\n    var position = positions_1[_i];\n    var value = styles['padding-' + position];\n    paddings[position] = toFloat(value);\n  }\n\n  return paddings;\n}\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getSVGContentRect(target) {\n  var bbox = target.getBBox();\n  return createRectInit(0, 0, bbox.width, bbox.height);\n}\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getHTMLElementContentRect(target) {\n  // Client width & height properties can't be\n  // used exclusively as they provide rounded values.\n  var clientWidth = target.clientWidth,\n      clientHeight = target.clientHeight; // By this condition we can catch all non-replaced inline, hidden and\n  // detached elements. Though elements with width & height properties less\n  // than 0.5 will be discarded as well.\n  //\n  // Without it we would need to implement separate methods for each of\n  // those cases and it's not possible to perform a precise and performance\n  // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n  // gives wrong results for elements with width & height less than 0.5.\n\n  if (!clientWidth && !clientHeight) {\n    return emptyRect;\n  }\n\n  var styles = getWindowOf(target).getComputedStyle(target);\n  var paddings = getPaddings(styles);\n  var horizPad = paddings.left + paddings.right;\n  var vertPad = paddings.top + paddings.bottom; // Computed styles of width & height are being used because they are the\n  // only dimensions available to JS that contain non-rounded values. It could\n  // be possible to utilize the getBoundingClientRect if only it's data wasn't\n  // affected by CSS transformations let alone paddings, borders and scroll bars.\n\n  var width = toFloat(styles.width),\n      height = toFloat(styles.height); // Width & height include paddings and borders when the 'border-box' box\n  // model is applied (except for IE).\n\n  if (styles.boxSizing === 'border-box') {\n    // Following conditions are required to handle Internet Explorer which\n    // doesn't include paddings and borders to computed CSS dimensions.\n    //\n    // We can say that if CSS dimensions + paddings are equal to the \"client\"\n    // properties then it's either IE, and thus we don't need to subtract\n    // anything, or an element merely doesn't have paddings/borders styles.\n    if (Math.round(width + horizPad) !== clientWidth) {\n      width -= getBordersSize(styles, 'left', 'right') + horizPad;\n    }\n\n    if (Math.round(height + vertPad) !== clientHeight) {\n      height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n    }\n  } // Following steps can't be applied to the document's root element as its\n  // client[Width/Height] properties represent viewport area of the window.\n  // Besides, it's as well not necessary as the <html> itself neither has\n  // rendered scroll bars nor it can be clipped.\n\n\n  if (!isDocumentElement(target)) {\n    // In some browsers (only in Firefox, actually) CSS width & height\n    // include scroll bars size which can be removed at this step as scroll\n    // bars are the only difference between rounded dimensions + paddings\n    // and \"client\" properties, though that is not always true in Chrome.\n    var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n    var horizScrollbar = Math.round(height + vertPad) - clientHeight; // Chrome has a rather weird rounding of \"client\" properties.\n    // E.g. for an element with content width of 314.2px it sometimes gives\n    // the client width of 315px and for the width of 314.7px it may give\n    // 314px. And it doesn't happen all the time. So just ignore this delta\n    // as a non-relevant.\n\n    if (Math.abs(vertScrollbar) !== 1) {\n      width -= vertScrollbar;\n    }\n\n    if (Math.abs(horizScrollbar) !== 1) {\n      height -= horizScrollbar;\n    }\n  }\n\n  return createRectInit(paddings.left, paddings.top, width, height);\n}\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nvar isSVGGraphicsElement = function () {\n  // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n  // interface.\n  if (typeof SVGGraphicsElement !== 'undefined') {\n    return function (target) {\n      return target instanceof getWindowOf(target).SVGGraphicsElement;\n    };\n  } // If it's so, then check that element is at least an instance of the\n  // SVGElement and that it has the \"getBBox\" method.\n  // eslint-disable-next-line no-extra-parens\n\n\n  return function (target) {\n    return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function';\n  };\n}();\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nfunction isDocumentElement(target) {\n  return target === getWindowOf(target).document.documentElement;\n}\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getContentRect(target) {\n  if (!isBrowser) {\n    return emptyRect;\n  }\n\n  if (isSVGGraphicsElement(target)) {\n    return getSVGContentRect(target);\n  }\n\n  return getHTMLElementContentRect(target);\n}\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\n\n\nfunction createReadOnlyRect(_a) {\n  var x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height; // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n\n  var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n  var rect = Object.create(Constr.prototype); // Rectangle's properties are not writable and non-enumerable.\n\n  defineConfigurable(rect, {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: height + y,\n    left: x\n  });\n  return rect;\n}\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction createRectInit(x, y, width, height) {\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\n\n\nvar ResizeObservation =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObservation.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   */\n  function ResizeObservation(target) {\n    /**\r\n     * Broadcasted width of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n    this.broadcastWidth = 0;\n    /**\r\n     * Broadcasted height of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n\n    this.broadcastHeight = 0;\n    /**\r\n     * Reference to the last observed content rectangle.\r\n     *\r\n     * @private {DOMRectInit}\r\n     */\n\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n    this.target = target;\n  }\n  /**\r\n   * Updates content rectangle and tells whether it's width or height properties\r\n   * have changed since the last broadcast.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n    this.contentRect_ = rect;\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n  };\n  /**\r\n   * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n   * from the corresponding properties of the last observed content rectangle.\r\n   *\r\n   * @returns {DOMRectInit} Last observed content rectangle.\r\n   */\n\n\n  ResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n    return rect;\n  };\n\n  return ResizeObservation;\n}();\n\nvar ResizeObserverEntry =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObserverEntry.\r\n   *\r\n   * @param {Element} target - Element that is being observed.\r\n   * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n   */\n  function ResizeObserverEntry(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit); // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n\n    defineConfigurable(this, {\n      target: target,\n      contentRect: contentRect\n    });\n  }\n\n  return ResizeObserverEntry;\n}();\n\nvar ResizeObserverSPI =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n   *      when one of the observed elements changes it's content dimensions.\r\n   * @param {ResizeObserverController} controller - Controller instance which\r\n   *      is responsible for the updates of observer.\r\n   * @param {ResizeObserver} callbackCtx - Reference to the public\r\n   *      ResizeObserver instance which will be passed to callback function.\r\n   */\n  function ResizeObserverSPI(callback, controller, callbackCtx) {\n    /**\r\n     * Collection of resize observations that have detected changes in dimensions\r\n     * of elements.\r\n     *\r\n     * @private {Array<ResizeObservation>}\r\n     */\n    this.activeObservations_ = [];\n    /**\r\n     * Registry of the ResizeObservation instances.\r\n     *\r\n     * @private {Map<Element, ResizeObservation>}\r\n     */\n\n    this.observations_ = new MapShim();\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n  }\n  /**\r\n   * Starts observing provided element.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is already being observed.\n\n    if (observations.has(target)) {\n      return;\n    }\n\n    observations.set(target, new ResizeObservation(target));\n    this.controller_.addObserver(this); // Force the update of observations.\n\n    this.controller_.refresh();\n  };\n  /**\r\n   * Stops observing provided element.\r\n   *\r\n   * @param {Element} target - Element to stop observing.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is not being observed.\n\n    if (!observations.has(target)) {\n      return;\n    }\n\n    observations.delete(target);\n\n    if (!observations.size) {\n      this.controller_.removeObserver(this);\n    }\n  };\n  /**\r\n   * Stops observing all elements.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n  };\n  /**\r\n   * Collects observation instances the associated element of which has changed\r\n   * it's content rectangle.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.gatherActive = function () {\n    var _this = this;\n\n    this.clearActive();\n    this.observations_.forEach(function (observation) {\n      if (observation.isActive()) {\n        _this.activeObservations_.push(observation);\n      }\n    });\n  };\n  /**\r\n   * Invokes initial callback function with a list of ResizeObserverEntry\r\n   * instances collected from active resize observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n      return;\n    }\n\n    var ctx = this.callbackCtx_; // Create ResizeObserverEntry instance for every active observation.\n\n    var entries = this.activeObservations_.map(function (observation) {\n      return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n  };\n  /**\r\n   * Clears the collection of active observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n  };\n  /**\r\n   * Tells whether observer has active observations.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n  };\n\n  return ResizeObserverSPI;\n}(); // Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\n\n\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\n\nvar ResizeObserver =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n   *      dimensions of the observed elements change.\r\n   */\n  function ResizeObserver(callback) {\n    if (!(this instanceof ResizeObserver)) {\n      throw new TypeError('Cannot call a class as a function.');\n    }\n\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n    observers.set(this, observer);\n  }\n\n  return ResizeObserver;\n}(); // Expose public methods of ResizeObserver.\n\n\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n  ResizeObserver.prototype[method] = function () {\n    var _a;\n\n    return (_a = observers.get(this))[method].apply(_a, arguments);\n  };\n});\n\nvar index = function () {\n  // Export existing implementation if available.\n  if (typeof global$1.ResizeObserver !== 'undefined') {\n    return global$1.ResizeObserver;\n  }\n\n  return ResizeObserver;\n}();\n\nexport default index;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\nexport function normalizeStyle(style) {\n  if (!style) {\n    return null;\n  }\n\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (style.toJS) {\n    style = style.toJS();\n  }\n\n  var layerIndex = {};\n\n  var _iterator = _createForOfIteratorHelper(style.layers),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var layer = _step.value;\n      layerIndex[layer.id] = layer;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var layers = style.layers.map(function (layer) {\n    var layerRef = layerIndex[layer.ref];\n    var normalizedLayer = null;\n\n    if ('interactive' in layer) {\n      normalizedLayer = _objectSpread({}, layer);\n      delete normalizedLayer.interactive;\n    }\n\n    if (layerRef) {\n      normalizedLayer = normalizedLayer || _objectSpread({}, layer);\n      delete normalizedLayer.ref;\n\n      var _iterator2 = _createForOfIteratorHelper(refProps),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var propName = _step2.value;\n\n          if (propName in layerRef) {\n            normalizedLayer[propName] = layerRef[propName];\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n\n    return normalizedLayer || layer;\n  });\n  return _objectSpread(_objectSpread({}, style), {}, {\n    layers: layers\n  });\n}","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"@babel/runtime/helpers/arrayWithHoles\");\n\nvar iterableToArray = require(\"@babel/runtime/helpers/iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"@babel/runtime/helpers/unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"@babel/runtime/helpers/nonIterableRest\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar b = \"function\" === typeof Symbol && Symbol.for,\n    c = b ? Symbol.for(\"react.element\") : 60103,\n    d = b ? Symbol.for(\"react.portal\") : 60106,\n    e = b ? Symbol.for(\"react.fragment\") : 60107,\n    f = b ? Symbol.for(\"react.strict_mode\") : 60108,\n    g = b ? Symbol.for(\"react.profiler\") : 60114,\n    h = b ? Symbol.for(\"react.provider\") : 60109,\n    k = b ? Symbol.for(\"react.context\") : 60110,\n    l = b ? Symbol.for(\"react.async_mode\") : 60111,\n    m = b ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    n = b ? Symbol.for(\"react.forward_ref\") : 60112,\n    p = b ? Symbol.for(\"react.suspense\") : 60113,\n    q = b ? Symbol.for(\"react.suspense_list\") : 60120,\n    r = b ? Symbol.for(\"react.memo\") : 60115,\n    t = b ? Symbol.for(\"react.lazy\") : 60116,\n    v = b ? Symbol.for(\"react.block\") : 60121,\n    w = b ? Symbol.for(\"react.fundamental\") : 60117,\n    x = b ? Symbol.for(\"react.responder\") : 60118,\n    y = b ? Symbol.for(\"react.scope\") : 60119;\n\nfunction z(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var u = a.$$typeof;\n\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l:\n          case m:\n          case e:\n          case g:\n          case f:\n          case p:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k:\n              case n:\n              case t:\n              case r:\n              case h:\n                return a;\n\n              default:\n                return u;\n            }\n\n        }\n\n      case d:\n        return u;\n    }\n  }\n}\n\nfunction A(a) {\n  return z(a) === m;\n}\n\nexports.AsyncMode = l;\nexports.ConcurrentMode = m;\nexports.ContextConsumer = k;\nexports.ContextProvider = h;\nexports.Element = c;\nexports.ForwardRef = n;\nexports.Fragment = e;\nexports.Lazy = t;\nexports.Memo = r;\nexports.Portal = d;\nexports.Profiler = g;\nexports.StrictMode = f;\nexports.Suspense = p;\n\nexports.isAsyncMode = function (a) {\n  return A(a) || z(a) === l;\n};\n\nexports.isConcurrentMode = A;\n\nexports.isContextConsumer = function (a) {\n  return z(a) === k;\n};\n\nexports.isContextProvider = function (a) {\n  return z(a) === h;\n};\n\nexports.isElement = function (a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === c;\n};\n\nexports.isForwardRef = function (a) {\n  return z(a) === n;\n};\n\nexports.isFragment = function (a) {\n  return z(a) === e;\n};\n\nexports.isLazy = function (a) {\n  return z(a) === t;\n};\n\nexports.isMemo = function (a) {\n  return z(a) === r;\n};\n\nexports.isPortal = function (a) {\n  return z(a) === d;\n};\n\nexports.isProfiler = function (a) {\n  return z(a) === g;\n};\n\nexports.isStrictMode = function (a) {\n  return z(a) === f;\n};\n\nexports.isSuspense = function (a) {\n  return z(a) === p;\n};\n\nexports.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || \"object\" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);\n};\n\nexports.typeOf = z;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function (window, document, exportName, undefined) {\n  'use strict';\n\n  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n  var TEST_ELEMENT = document.createElement('div');\n  var TYPE_FUNCTION = 'function';\n  var round = Math.round;\n  var abs = Math.abs;\n  var now = Date.now;\n  /**\n   * set a timeout with a given scope\n   * @param {Function} fn\n   * @param {Number} timeout\n   * @param {Object} context\n   * @returns {number}\n   */\n\n  function setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n  }\n  /**\n   * if the argument is an array, we want to execute the fn on each entry\n   * if it aint an array we don't want to do a thing.\n   * this is used by all the methods that accept a single and array argument.\n   * @param {*|Array} arg\n   * @param {String} fn\n   * @param {Object} [context]\n   * @returns {Boolean}\n   */\n\n\n  function invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n      each(arg, context[fn], context);\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * walk objects and arrays\n   * @param {Object} obj\n   * @param {Function} iterator\n   * @param {Object} context\n   */\n\n\n  function each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n      return;\n    }\n\n    if (obj.forEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n      i = 0;\n\n      while (i < obj.length) {\n        iterator.call(context, obj[i], i, obj);\n        i++;\n      }\n    } else {\n      for (i in obj) {\n        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n      }\n    }\n  }\n  /**\n   * wrap a method with a deprecation warning and stack trace\n   * @param {Function} method\n   * @param {String} name\n   * @param {String} message\n   * @returns {Function} A new function wrapping the supplied method.\n   */\n\n\n  function deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function () {\n      var e = new Error('get-stack-trace');\n      var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '').replace(/^\\s+at\\s+/gm, '').replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n      var log = window.console && (window.console.warn || window.console.log);\n\n      if (log) {\n        log.call(window.console, deprecationMessage, stack);\n      }\n\n      return method.apply(this, arguments);\n    };\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} target\n   * @param {...Object} objects_to_assign\n   * @returns {Object} target\n   */\n\n\n  var assign;\n\n  if (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var output = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n\n        if (source !== undefined && source !== null) {\n          for (var nextKey in source) {\n            if (source.hasOwnProperty(nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n\n      return output;\n    };\n  } else {\n    assign = Object.assign;\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean} [merge=false]\n   * @returns {Object} dest\n   */\n\n\n  var extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n\n    while (i < keys.length) {\n      if (!merge || merge && dest[keys[i]] === undefined) {\n        dest[keys[i]] = src[keys[i]];\n      }\n\n      i++;\n    }\n\n    return dest;\n  }, 'extend', 'Use `assign`.');\n  /**\n   * merge the values from src in the dest.\n   * means that properties that exist in dest will not be overwritten by src\n   * @param {Object} dest\n   * @param {Object} src\n   * @returns {Object} dest\n   */\n\n  var merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n  }, 'merge', 'Use `assign`.');\n  /**\n   * simple class inheritance\n   * @param {Function} child\n   * @param {Function} base\n   * @param {Object} [properties]\n   */\n\n  function inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n      assign(childP, properties);\n    }\n  }\n  /**\n   * simple function bind\n   * @param {Function} fn\n   * @param {Object} context\n   * @returns {Function}\n   */\n\n\n  function bindFn(fn, context) {\n    return function boundFn() {\n      return fn.apply(context, arguments);\n    };\n  }\n  /**\n   * let a boolean value also be a function that must return a boolean\n   * this first item in args will be used as the context\n   * @param {Boolean|Function} val\n   * @param {Array} [args]\n   * @returns {Boolean}\n   */\n\n\n  function boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n      return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n\n    return val;\n  }\n  /**\n   * use the val2 when val1 is undefined\n   * @param {*} val1\n   * @param {*} val2\n   * @returns {*}\n   */\n\n\n  function ifUndefined(val1, val2) {\n    return val1 === undefined ? val2 : val1;\n  }\n  /**\n   * addEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function addEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.addEventListener(type, handler, false);\n    });\n  }\n  /**\n   * removeEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function removeEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.removeEventListener(type, handler, false);\n    });\n  }\n  /**\n   * find if a node is in the given parent\n   * @method hasParent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n\n\n  function hasParent(node, parent) {\n    while (node) {\n      if (node == parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n  /**\n   * small indexOf wrapper\n   * @param {String} str\n   * @param {String} find\n   * @returns {Boolean} found\n   */\n\n\n  function inStr(str, find) {\n    return str.indexOf(find) > -1;\n  }\n  /**\n   * split string on whitespace\n   * @param {String} str\n   * @returns {Array} words\n   */\n\n\n  function splitStr(str) {\n    return str.trim().split(/\\s+/g);\n  }\n  /**\n   * find if a array contains the object using indexOf or a simple polyFill\n   * @param {Array} src\n   * @param {String} find\n   * @param {String} [findByKey]\n   * @return {Boolean|Number} false when not found, or the index\n   */\n\n\n  function inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n      return src.indexOf(find);\n    } else {\n      var i = 0;\n\n      while (i < src.length) {\n        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {\n          return i;\n        }\n\n        i++;\n      }\n\n      return -1;\n    }\n  }\n  /**\n   * convert array-like objects to real arrays\n   * @param {Object} obj\n   * @returns {Array}\n   */\n\n\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n  }\n  /**\n   * unique array with objects based on a key (like 'id') or just by the array's value\n   * @param {Array} src [{id:1},{id:2},{id:1}]\n   * @param {String} [key]\n   * @param {Boolean} [sort=False]\n   * @returns {Array} [{id:1},{id:2}]\n   */\n\n\n  function uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n      var val = key ? src[i][key] : src[i];\n\n      if (inArray(values, val) < 0) {\n        results.push(src[i]);\n      }\n\n      values[i] = val;\n      i++;\n    }\n\n    if (sort) {\n      if (!key) {\n        results = results.sort();\n      } else {\n        results = results.sort(function sortUniqueArray(a, b) {\n          return a[key] > b[key];\n        });\n      }\n    }\n\n    return results;\n  }\n  /**\n   * get the prefixed property\n   * @param {Object} obj\n   * @param {String} property\n   * @returns {String|Undefined} prefixed\n   */\n\n\n  function prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n    var i = 0;\n\n    while (i < VENDOR_PREFIXES.length) {\n      prefix = VENDOR_PREFIXES[i];\n      prop = prefix ? prefix + camelProp : property;\n\n      if (prop in obj) {\n        return prop;\n      }\n\n      i++;\n    }\n\n    return undefined;\n  }\n  /**\n   * get a unique id\n   * @returns {number} uniqueId\n   */\n\n\n  var _uniqueId = 1;\n\n  function uniqueId() {\n    return _uniqueId++;\n  }\n  /**\n   * get the window object of an element\n   * @param {HTMLElement} element\n   * @returns {DocumentView|Window}\n   */\n\n\n  function getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return doc.defaultView || doc.parentWindow || window;\n  }\n\n  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n  var SUPPORT_TOUCH = ('ontouchstart' in window);\n  var SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\n  var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n  var INPUT_TYPE_TOUCH = 'touch';\n  var INPUT_TYPE_PEN = 'pen';\n  var INPUT_TYPE_MOUSE = 'mouse';\n  var INPUT_TYPE_KINECT = 'kinect';\n  var COMPUTE_INTERVAL = 25;\n  var INPUT_START = 1;\n  var INPUT_MOVE = 2;\n  var INPUT_END = 4;\n  var INPUT_CANCEL = 8;\n  var DIRECTION_NONE = 1;\n  var DIRECTION_LEFT = 2;\n  var DIRECTION_RIGHT = 4;\n  var DIRECTION_UP = 8;\n  var DIRECTION_DOWN = 16;\n  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n  var PROPS_XY = ['x', 'y'];\n  var PROPS_CLIENT_XY = ['clientX', 'clientY'];\n  /**\n   * create new input type manager\n   * @param {Manager} manager\n   * @param {Function} callback\n   * @returns {Input}\n   * @constructor\n   */\n\n  function Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget; // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n\n    this.domHandler = function (ev) {\n      if (boolOrFn(manager.options.enable, [manager])) {\n        self.handler(ev);\n      }\n    };\n\n    this.init();\n  }\n\n  Input.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function handler() {},\n\n    /**\n     * bind the events\n     */\n    init: function init() {\n      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function destroy() {\n      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n  };\n  /**\n   * create new input type manager\n   * called by the Manager constructor\n   * @param {Hammer} manager\n   * @returns {Input}\n   */\n\n  function createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n      Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n      Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n      Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n      Type = MouseInput;\n    } else {\n      Type = TouchMouseInput;\n    }\n\n    return new Type(manager, inputHandler);\n  }\n  /**\n   * handle input events\n   * @param {Manager} manager\n   * @param {String} eventType\n   * @param {Object} input\n   */\n\n\n  function inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;\n    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n      manager.session = {};\n    } // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n\n\n    input.eventType = eventType; // compute scale, rotation etc\n\n    computeInputData(manager, input); // emit secret event\n\n    manager.emit('hammer.input', input);\n    manager.recognize(input);\n    manager.session.prevInput = input;\n  }\n  /**\n   * extend the data with some usable properties like scale, rotate, velocity etc\n   * @param {Object} manager\n   * @param {Object} input\n   */\n\n\n  function computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length; // store the first input to calculate the distance and direction\n\n    if (!session.firstInput) {\n      session.firstInput = simpleCloneInputData(input);\n    } // to compute scale and rotation we need to store the multiple touches\n\n\n    if (pointersLength > 1 && !session.firstMultiple) {\n      session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n      session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;\n    computeIntervalInputData(session, input); // find the correct target\n\n    var target = manager.element;\n\n    if (hasParent(input.srcEvent.target, target)) {\n      target = input.srcEvent.target;\n    }\n\n    input.target = target;\n  }\n\n  function computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n      prevDelta = session.prevDelta = {\n        x: prevInput.deltaX || 0,\n        y: prevInput.deltaY || 0\n      };\n      offset = session.offsetDelta = {\n        x: center.x,\n        y: center.y\n      };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n  }\n  /**\n   * velocity is calculated every x ms\n   * @param {Object} session\n   * @param {Object} input\n   */\n\n\n  function computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity,\n        velocityX,\n        velocityY,\n        direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n      var deltaX = input.deltaX - last.deltaX;\n      var deltaY = input.deltaY - last.deltaY;\n      var v = getVelocity(deltaTime, deltaX, deltaY);\n      velocityX = v.x;\n      velocityY = v.y;\n      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;\n      direction = getDirection(deltaX, deltaY);\n      session.lastInterval = input;\n    } else {\n      // use latest velocity info if it doesn't overtake a minimum period\n      velocity = last.velocity;\n      velocityX = last.velocityX;\n      velocityY = last.velocityY;\n      direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n  }\n  /**\n   * create a simple clone from the input used for storage of firstInput and firstMultiple\n   * @param {Object} input\n   * @returns {Object} clonedInputData\n   */\n\n\n  function simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n\n    while (i < input.pointers.length) {\n      pointers[i] = {\n        clientX: round(input.pointers[i].clientX),\n        clientY: round(input.pointers[i].clientY)\n      };\n      i++;\n    }\n\n    return {\n      timeStamp: now(),\n      pointers: pointers,\n      center: getCenter(pointers),\n      deltaX: input.deltaX,\n      deltaY: input.deltaY\n    };\n  }\n  /**\n   * get the center of all the pointers\n   * @param {Array} pointers\n   * @return {Object} center contains `x` and `y` properties\n   */\n\n\n  function getCenter(pointers) {\n    var pointersLength = pointers.length; // no need to loop when only one touch\n\n    if (pointersLength === 1) {\n      return {\n        x: round(pointers[0].clientX),\n        y: round(pointers[0].clientY)\n      };\n    }\n\n    var x = 0,\n        y = 0,\n        i = 0;\n\n    while (i < pointersLength) {\n      x += pointers[i].clientX;\n      y += pointers[i].clientY;\n      i++;\n    }\n\n    return {\n      x: round(x / pointersLength),\n      y: round(y / pointersLength)\n    };\n  }\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object} velocity `x` and `y`\n   */\n\n\n  function getVelocity(deltaTime, x, y) {\n    return {\n      x: x / deltaTime || 0,\n      y: y / deltaTime || 0\n    };\n  }\n  /**\n   * get the direction between two points\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} direction\n   */\n\n\n  function getDirection(x, y) {\n    if (x === y) {\n      return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  }\n  /**\n   * calculate the absolute distance between two points\n   * @param {Object} p1 {x, y}\n   * @param {Object} p2 {x, y}\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} distance\n   */\n\n\n  function getDistance(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.sqrt(x * x + y * y);\n  }\n  /**\n   * calculate the angle between two coordinates\n   * @param {Object} p1\n   * @param {Object} p2\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} angle\n   */\n\n\n  function getAngle(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n  }\n  /**\n   * calculate the rotation degrees between two pointersets\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} rotation\n   */\n\n\n  function getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n  }\n  /**\n   * calculate the scale factor between two pointersets\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} scale\n   */\n\n\n  function getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n  }\n\n  var MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n  };\n  var MOUSE_ELEMENT_EVENTS = 'mousedown';\n  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n  /**\n   * Mouse events input\n   * @constructor\n   * @extends Input\n   */\n\n  function MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n  }\n\n  inherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n      var eventType = MOUSE_INPUT_MAP[ev.type]; // on start we want to have the left mouse button down\n\n      if (eventType & INPUT_START && ev.button === 0) {\n        this.pressed = true;\n      }\n\n      if (eventType & INPUT_MOVE && ev.which !== 1) {\n        eventType = INPUT_END;\n      } // mouse must be down\n\n\n      if (!this.pressed) {\n        return;\n      }\n\n      if (eventType & INPUT_END) {\n        this.pressed = false;\n      }\n\n      this.callback(this.manager, eventType, {\n        pointers: [ev],\n        changedPointers: [ev],\n        pointerType: INPUT_TYPE_MOUSE,\n        srcEvent: ev\n      });\n    }\n  });\n  var POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n  }; // in IE10 the pointer types is defined as an enum\n\n  var IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n\n  };\n  var POINTER_ELEMENT_EVENTS = 'pointerdown';\n  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel'; // IE10 has prefixed support, and case-sensitive\n\n  if (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n  }\n  /**\n   * Pointer events input\n   * @constructor\n   * @extends Input\n   */\n\n\n  function PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n    Input.apply(this, arguments);\n    this.store = this.manager.session.pointerEvents = [];\n  }\n\n  inherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n      var store = this.store;\n      var removePointer = false;\n      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n      var isTouch = pointerType == INPUT_TYPE_TOUCH; // get index of the event in the store\n\n      var storeIndex = inArray(store, ev.pointerId, 'pointerId'); // start and mouse must be down\n\n      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n        if (storeIndex < 0) {\n          store.push(ev);\n          storeIndex = store.length - 1;\n        }\n      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        removePointer = true;\n      } // it not found, so the pointer hasn't been down (so it's probably a hover)\n\n\n      if (storeIndex < 0) {\n        return;\n      } // update the event in the store\n\n\n      store[storeIndex] = ev;\n      this.callback(this.manager, eventType, {\n        pointers: store,\n        changedPointers: [ev],\n        pointerType: pointerType,\n        srcEvent: ev\n      });\n\n      if (removePointer) {\n        // remove from the store\n        store.splice(storeIndex, 1);\n      }\n    }\n  });\n  var SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n    Input.apply(this, arguments);\n  }\n\n  inherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n      var type = SINGLE_TOUCH_INPUT_MAP[ev.type]; // should we handle the touch events?\n\n      if (type === INPUT_START) {\n        this.started = true;\n      }\n\n      if (!this.started) {\n        return;\n      }\n\n      var touches = normalizeSingleTouches.call(this, ev, type); // when done, reset the started state\n\n      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n        this.started = false;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n      all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n  }\n\n  var TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Multi-user touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n    Input.apply(this, arguments);\n  }\n\n  inherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n      var type = TOUCH_INPUT_MAP[ev.type];\n      var touches = getTouches.call(this, ev, type);\n\n      if (!touches) {\n        return;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds; // when there is only one touch, the process can be simplified\n\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n      targetIds[allTouches[0].identifier] = true;\n      return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target; // get target touches from touches\n\n    targetTouches = allTouches.filter(function (touch) {\n      return hasParent(touch.target, target);\n    }); // collect touches\n\n    if (type === INPUT_START) {\n      i = 0;\n\n      while (i < targetTouches.length) {\n        targetIds[targetTouches[i].identifier] = true;\n        i++;\n      }\n    } // filter changed touches to only contain touches that exist in the collected target ids\n\n\n    i = 0;\n\n    while (i < changedTouches.length) {\n      if (targetIds[changedTouches[i].identifier]) {\n        changedTargetTouches.push(changedTouches[i]);\n      } // cleanup removed touches\n\n\n      if (type & (INPUT_END | INPUT_CANCEL)) {\n        delete targetIds[changedTouches[i].identifier];\n      }\n\n      i++;\n    }\n\n    if (!changedTargetTouches.length) {\n      return;\n    }\n\n    return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];\n  }\n  /**\n   * Combined touch and mouse input\n   *\n   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n   * This because touch devices also emit mouse events while doing a touch.\n   *\n   * @constructor\n   * @extends Input\n   */\n\n\n  var DEDUP_TIMEOUT = 2500;\n  var DEDUP_DISTANCE = 25;\n\n  function TouchMouseInput() {\n    Input.apply(this, arguments);\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n    this.primaryTouch = null;\n    this.lastTouches = [];\n  }\n\n  inherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n      var isTouch = inputData.pointerType == INPUT_TYPE_TOUCH,\n          isMouse = inputData.pointerType == INPUT_TYPE_MOUSE;\n\n      if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n        return;\n      } // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n\n\n      if (isTouch) {\n        recordTouches.call(this, inputEvent, inputData);\n      } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n        return;\n      }\n\n      this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n      this.touch.destroy();\n      this.mouse.destroy();\n    }\n  });\n\n  function recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n      this.primaryTouch = eventData.changedPointers[0].identifier;\n      setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n      setLastTouch.call(this, eventData);\n    }\n  }\n\n  function setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n      var lastTouch = {\n        x: touch.clientX,\n        y: touch.clientY\n      };\n      this.lastTouches.push(lastTouch);\n      var lts = this.lastTouches;\n\n      var removeLastTouch = function removeLastTouch() {\n        var i = lts.indexOf(lastTouch);\n\n        if (i > -1) {\n          lts.splice(i, 1);\n        }\n      };\n\n      setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n  }\n\n  function isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX,\n        y = eventData.srcEvent.clientY;\n\n    for (var i = 0; i < this.lastTouches.length; i++) {\n      var t = this.lastTouches[i];\n      var dx = Math.abs(x - t.x),\n          dy = Math.abs(y - t.y);\n\n      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\n  var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined; // magical touchAction value\n\n  var TOUCH_ACTION_COMPUTE = 'compute';\n  var TOUCH_ACTION_AUTO = 'auto';\n  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n\n  var TOUCH_ACTION_NONE = 'none';\n  var TOUCH_ACTION_PAN_X = 'pan-x';\n  var TOUCH_ACTION_PAN_Y = 'pan-y';\n  var TOUCH_ACTION_MAP = getTouchActionProps();\n  /**\n   * Touch Action\n   * sets the touchAction property or uses the js alternative\n   * @param {Manager} manager\n   * @param {String} value\n   * @constructor\n   */\n\n  function TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n  }\n\n  TouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function set(value) {\n      // find out the touch-action by the event handlers\n      if (value == TOUCH_ACTION_COMPUTE) {\n        value = this.compute();\n      }\n\n      if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n        this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n      }\n\n      this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function update() {\n      this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function compute() {\n      var actions = [];\n      each(this.manager.recognizers, function (recognizer) {\n        if (boolOrFn(recognizer.options.enable, [recognizer])) {\n          actions = actions.concat(recognizer.getTouchAction());\n        }\n      });\n      return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function preventDefaults(input) {\n      var srcEvent = input.srcEvent;\n      var direction = input.offsetDirection; // if the touch action did prevented once this session\n\n      if (this.manager.session.prevented) {\n        srcEvent.preventDefault();\n        return;\n      }\n\n      var actions = this.actions;\n      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n      if (hasNone) {\n        //do not prevent defaults if this is a tap gesture\n        var isTapPointer = input.pointers.length === 1;\n        var isTapMovement = input.distance < 2;\n        var isTapTouchTime = input.deltaTime < 250;\n\n        if (isTapPointer && isTapMovement && isTapTouchTime) {\n          return;\n        }\n      }\n\n      if (hasPanX && hasPanY) {\n        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n        return;\n      }\n\n      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {\n        return this.preventSrc(srcEvent);\n      }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function preventSrc(srcEvent) {\n      this.manager.session.prevented = true;\n      srcEvent.preventDefault();\n    }\n  };\n  /**\n   * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n   * @param {String} actions\n   * @returns {*}\n   */\n\n  function cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n      return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n\n    if (hasPanX && hasPanY) {\n      return TOUCH_ACTION_NONE;\n    } // pan-x OR pan-y\n\n\n    if (hasPanX || hasPanY) {\n      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    } // manipulation\n\n\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n      return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n  }\n\n  function getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n      return false;\n    }\n\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {\n      // If css.supports is not supported but there is native touch-action assume it supports\n      // all values. This is the case for IE 10 and 11.\n      touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n  }\n  /**\n   * Recognizer flow explained; *\n   * All recognizers have the initial state of POSSIBLE when a input session starts.\n   * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n   * Example session for mouse-input: mousedown -> mousemove -> mouseup\n   *\n   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n   * which determines with state it should be.\n   *\n   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n   * POSSIBLE to give it another change on the next cycle.\n   *\n   *               Possible\n   *                  |\n   *            +-----+---------------+\n   *            |                     |\n   *      +-----+-----+               |\n   *      |           |               |\n   *   Failed      Cancelled          |\n   *                          +-------+------+\n   *                          |              |\n   *                      Recognized       Began\n   *                                         |\n   *                                      Changed\n   *                                         |\n   *                                  Ended/Recognized\n   */\n\n\n  var STATE_POSSIBLE = 1;\n  var STATE_BEGAN = 2;\n  var STATE_CHANGED = 4;\n  var STATE_ENDED = 8;\n  var STATE_RECOGNIZED = STATE_ENDED;\n  var STATE_CANCELLED = 16;\n  var STATE_FAILED = 32;\n  /**\n   * Recognizer\n   * Every recognizer needs to extend from this class.\n   * @constructor\n   * @param {Object} options\n   */\n\n  function Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n    this.id = uniqueId();\n    this.manager = null; // default is enable true\n\n    this.options.enable = ifUndefined(this.options.enable, true);\n    this.state = STATE_POSSIBLE;\n    this.simultaneous = {};\n    this.requireFail = [];\n  }\n\n  Recognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function set(options) {\n      assign(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state\n\n      this.manager && this.manager.touchAction.update();\n      return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function recognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n        return this;\n      }\n\n      var simultaneous = this.simultaneous;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (!simultaneous[otherRecognizer.id]) {\n        simultaneous[otherRecognizer.id] = otherRecognizer;\n        otherRecognizer.recognizeWith(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function dropRecognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      delete this.simultaneous[otherRecognizer.id];\n      return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function requireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n        return this;\n      }\n\n      var requireFail = this.requireFail;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (inArray(requireFail, otherRecognizer) === -1) {\n        requireFail.push(otherRecognizer);\n        otherRecognizer.requireFailure(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function dropRequireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      var index = inArray(this.requireFail, otherRecognizer);\n\n      if (index > -1) {\n        this.requireFail.splice(index, 1);\n      }\n\n      return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function hasRequireFailures() {\n      return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function canRecognizeWith(otherRecognizer) {\n      return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function emit(input) {\n      var self = this;\n      var state = this.state;\n\n      function emit(event) {\n        self.manager.emit(event, input);\n      } // 'panstart' and 'panmove'\n\n\n      if (state < STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n\n      emit(self.options.event); // simple 'eventName' events\n\n      if (input.additionalEvent) {\n        // additional event(panleft, panright, pinchin, pinchout...)\n        emit(input.additionalEvent);\n      } // panend and pancancel\n\n\n      if (state >= STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function tryEmit(input) {\n      if (this.canEmit()) {\n        return this.emit(input);\n      } // it's failing anyway\n\n\n      this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function canEmit() {\n      var i = 0;\n\n      while (i < this.requireFail.length) {\n        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n          return false;\n        }\n\n        i++;\n      }\n\n      return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      // make a new copy of the inputData\n      // so we can change the inputData without messing up the other recognizers\n      var inputDataClone = assign({}, inputData); // is is enabled and allow recognizing?\n\n      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n        this.reset();\n        this.state = STATE_FAILED;\n        return;\n      } // reset when we've reached the end\n\n\n      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n        this.state = STATE_POSSIBLE;\n      }\n\n      this.state = this.process(inputDataClone); // the recognizer has recognized a gesture\n      // so trigger an event\n\n      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n        this.tryEmit(inputDataClone);\n      }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function process(inputData) {},\n    // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function getTouchAction() {},\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function reset() {}\n  };\n  /**\n   * get a usable string, used as event postfix\n   * @param {Const} state\n   * @returns {String} state\n   */\n\n  function stateStr(state) {\n    if (state & STATE_CANCELLED) {\n      return 'cancel';\n    } else if (state & STATE_ENDED) {\n      return 'end';\n    } else if (state & STATE_CHANGED) {\n      return 'move';\n    } else if (state & STATE_BEGAN) {\n      return 'start';\n    }\n\n    return '';\n  }\n  /**\n   * direction cons to string\n   * @param {Const} direction\n   * @returns {String}\n   */\n\n\n  function directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n      return 'down';\n    } else if (direction == DIRECTION_UP) {\n      return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n      return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n      return 'right';\n    }\n\n    return '';\n  }\n  /**\n   * get a recognizer by name if it is bound to a manager\n   * @param {Recognizer|String} otherRecognizer\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer}\n   */\n\n\n  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n\n    if (manager) {\n      return manager.get(otherRecognizer);\n    }\n\n    return otherRecognizer;\n  }\n  /**\n   * This recognizer is just used as a base for the simple attribute recognizers.\n   * @constructor\n   * @extends Recognizer\n   */\n\n\n  function AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n  }\n\n  inherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n      /**\n       * @type {Number}\n       * @default 1\n       */\n      pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function attrTest(input) {\n      var optionPointers = this.options.pointers;\n      return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function process(input) {\n      var state = this.state;\n      var eventType = input.eventType;\n      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n      var isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED\n\n      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n        return state | STATE_CANCELLED;\n      } else if (isRecognized || isValid) {\n        if (eventType & INPUT_END) {\n          return state | STATE_ENDED;\n        } else if (!(state & STATE_BEGAN)) {\n          return STATE_BEGAN;\n        }\n\n        return state | STATE_CHANGED;\n      }\n\n      return STATE_FAILED;\n    }\n  });\n  /**\n   * Pan\n   * Recognized when the pointer is down and moved in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n    this.pX = null;\n    this.pY = null;\n  }\n\n  inherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n      event: 'pan',\n      threshold: 10,\n      pointers: 1,\n      direction: DIRECTION_ALL\n    },\n    getTouchAction: function getTouchAction() {\n      var direction = this.options.direction;\n      var actions = [];\n\n      if (direction & DIRECTION_HORIZONTAL) {\n        actions.push(TOUCH_ACTION_PAN_Y);\n      }\n\n      if (direction & DIRECTION_VERTICAL) {\n        actions.push(TOUCH_ACTION_PAN_X);\n      }\n\n      return actions;\n    },\n    directionTest: function directionTest(input) {\n      var options = this.options;\n      var hasMoved = true;\n      var distance = input.distance;\n      var direction = input.direction;\n      var x = input.deltaX;\n      var y = input.deltaY; // lock to axis?\n\n      if (!(direction & options.direction)) {\n        if (options.direction & DIRECTION_HORIZONTAL) {\n          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          hasMoved = x != this.pX;\n          distance = Math.abs(input.deltaX);\n        } else {\n          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n          hasMoved = y != this.pY;\n          distance = Math.abs(input.deltaY);\n        }\n      }\n\n      input.direction = direction;\n      return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n    attrTest: function attrTest(input) {\n      return AttrRecognizer.prototype.attrTest.call(this, input) && (this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));\n    },\n    emit: function emit(input) {\n      this.pX = input.deltaX;\n      this.pY = input.deltaY;\n      var direction = directionStr(input.direction);\n\n      if (direction) {\n        input.additionalEvent = this.options.event + direction;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Pinch\n   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'pinch',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n    emit: function emit(input) {\n      if (input.scale !== 1) {\n        var inOut = input.scale < 1 ? 'in' : 'out';\n        input.additionalEvent = this.options.event + inOut;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Press\n   * Recognized when the pointer is down for x ms without any movement.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function PressRecognizer() {\n    Recognizer.apply(this, arguments);\n    this._timer = null;\n    this._input = null;\n  }\n\n  inherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n      event: 'press',\n      pointers: 1,\n      time: 251,\n      // minimal time of the pointer to be pressed\n      threshold: 9 // a minimal movement is ok, but keep it low\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_AUTO];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTime = input.deltaTime > options.time;\n      this._input = input; // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {\n        this.reset();\n      } else if (input.eventType & INPUT_START) {\n        this.reset();\n        this._timer = setTimeoutContext(function () {\n          this.state = STATE_RECOGNIZED;\n          this.tryEmit();\n        }, options.time, this);\n      } else if (input.eventType & INPUT_END) {\n        return STATE_RECOGNIZED;\n      }\n\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit(input) {\n      if (this.state !== STATE_RECOGNIZED) {\n        return;\n      }\n\n      if (input && input.eventType & INPUT_END) {\n        this.manager.emit(this.options.event + 'up', input);\n      } else {\n        this._input.timeStamp = now();\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Rotate\n   * Recognized when two or more pointer are moving in a circular motion.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n      event: 'rotate',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n  });\n  /**\n   * Swipe\n   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n      event: 'swipe',\n      threshold: 10,\n      velocity: 0.3,\n      direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n      pointers: 1\n    },\n    getTouchAction: function getTouchAction() {\n      return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n    attrTest: function attrTest(input) {\n      var direction = this.options.direction;\n      var velocity;\n\n      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n        velocity = input.overallVelocity;\n      } else if (direction & DIRECTION_HORIZONTAL) {\n        velocity = input.overallVelocityX;\n      } else if (direction & DIRECTION_VERTICAL) {\n        velocity = input.overallVelocityY;\n      }\n\n      return this._super.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers == this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n    emit: function emit(input) {\n      var direction = directionStr(input.offsetDirection);\n\n      if (direction) {\n        this.manager.emit(this.options.event + direction, input);\n      }\n\n      this.manager.emit(this.options.event, input);\n    }\n  });\n  /**\n   * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n   * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n   * a single tap.\n   *\n   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n   * multi-taps being recognized.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function TapRecognizer() {\n    Recognizer.apply(this, arguments); // previous time and center,\n    // used for tap counting\n\n    this.pTime = false;\n    this.pCenter = false;\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n  }\n\n  inherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'tap',\n      pointers: 1,\n      taps: 1,\n      interval: 300,\n      // max time between the multi-tap taps\n      time: 250,\n      // max time of the pointer to be down (like finger on the screen)\n      threshold: 9,\n      // a minimal movement is ok, but keep it low\n      posThreshold: 10 // a multi-tap can be a bit off the initial position\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_MANIPULATION];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTouchTime = input.deltaTime < options.time;\n      this.reset();\n\n      if (input.eventType & INPUT_START && this.count === 0) {\n        return this.failTimeout();\n      } // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n\n      if (validMovement && validTouchTime && validPointers) {\n        if (input.eventType != INPUT_END) {\n          return this.failTimeout();\n        }\n\n        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;\n        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n        this.pTime = input.timeStamp;\n        this.pCenter = input.center;\n\n        if (!validMultiTap || !validInterval) {\n          this.count = 1;\n        } else {\n          this.count += 1;\n        }\n\n        this._input = input; // if tap count matches we have recognized it,\n        // else it has began recognizing...\n\n        var tapCount = this.count % options.taps;\n\n        if (tapCount === 0) {\n          // no failing requirements, immediately trigger the tap event\n          // or wait as long as the multitap interval to trigger\n          if (!this.hasRequireFailures()) {\n            return STATE_RECOGNIZED;\n          } else {\n            this._timer = setTimeoutContext(function () {\n              this.state = STATE_RECOGNIZED;\n              this.tryEmit();\n            }, options.interval, this);\n            return STATE_BEGAN;\n          }\n        }\n      }\n\n      return STATE_FAILED;\n    },\n    failTimeout: function failTimeout() {\n      this._timer = setTimeoutContext(function () {\n        this.state = STATE_FAILED;\n      }, this.options.interval, this);\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit() {\n      if (this.state == STATE_RECOGNIZED) {\n        this._input.tapCount = this.count;\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Simple way to create a manager with a default set of recognizers.\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n  }\n  /**\n   * @const {string}\n   */\n\n\n  Hammer.VERSION = '2.0.7';\n  /**\n   * default settings\n   * @namespace\n   */\n\n  Hammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [// RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n    [RotateRecognizer, {\n      enable: false\n    }], [PinchRecognizer, {\n      enable: false\n    }, ['rotate']], [SwipeRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }], [PanRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }, ['swipe']], [TapRecognizer], [TapRecognizer, {\n      event: 'doubletap',\n      taps: 2\n    }, ['tap']], [PressRecognizer]],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n      /**\n       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userSelect: 'none',\n\n      /**\n       * Disable the Windows Phone grippers when pressing an element.\n       * @type {String}\n       * @default 'none'\n       */\n      touchSelect: 'none',\n\n      /**\n       * Disables the default callout shown when you touch and hold a touch target.\n       * On iOS, when you touch and hold a touch target such as a link, Safari displays\n       * a callout containing information about the link. This property allows you to disable that callout.\n       * @type {String}\n       * @default 'none'\n       */\n      touchCallout: 'none',\n\n      /**\n       * Specifies whether zooming is enabled. Used by IE10>\n       * @type {String}\n       * @default 'none'\n       */\n      contentZooming: 'none',\n\n      /**\n       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userDrag: 'none',\n\n      /**\n       * Overrides the highlight color shown when the user taps a link or a JavaScript\n       * clickable element in iOS. This property obeys the alpha value, if specified.\n       * @type {String}\n       * @default 'rgba(0,0,0,0)'\n       */\n      tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n  };\n  var STOP = 1;\n  var FORCED_STOP = 2;\n  /**\n   * Manager\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n    this.options.inputTarget = this.options.inputTarget || element;\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n    toggleCssProps(this, true);\n    each(this.options.recognizers, function (item) {\n      var recognizer = this.add(new item[0](item[1]));\n      item[2] && recognizer.recognizeWith(item[2]);\n      item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n  }\n\n  Manager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function set(options) {\n      assign(this.options, options); // Options that need a little more setup\n\n      if (options.touchAction) {\n        this.touchAction.update();\n      }\n\n      if (options.inputTarget) {\n        // Clean up existing event listeners and reinitialize\n        this.input.destroy();\n        this.input.target = options.inputTarget;\n        this.input.init();\n      }\n\n      return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function stop(force) {\n      this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      var session = this.session;\n\n      if (session.stopped) {\n        return;\n      } // run the touch-action polyfill\n\n\n      this.touchAction.preventDefaults(inputData);\n      var recognizer;\n      var recognizers = this.recognizers; // this holds the recognizer that is being recognized.\n      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n      // if no recognizer is detecting a thing, it is set to `null`\n\n      var curRecognizer = session.curRecognizer; // reset when the last recognizer is recognized\n      // or when we're in a new session\n\n      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {\n        curRecognizer = session.curRecognizer = null;\n      }\n\n      var i = 0;\n\n      while (i < recognizers.length) {\n        recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.\n        // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n        //      that is being recognized.\n        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n        //      this can be setup with the `recognizeWith()` method on the recognizer.\n\n        if (session.stopped !== FORCED_STOP && ( // 1\n        !curRecognizer || recognizer == curRecognizer || // 2\n        recognizer.canRecognizeWith(curRecognizer))) {\n          // 3\n          recognizer.recognize(inputData);\n        } else {\n          recognizer.reset();\n        } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n        // current active recognizer. but only if we don't already have an active recognizer\n\n\n        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n          curRecognizer = session.curRecognizer = recognizer;\n        }\n\n        i++;\n      }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function get(recognizer) {\n      if (recognizer instanceof Recognizer) {\n        return recognizer;\n      }\n\n      var recognizers = this.recognizers;\n\n      for (var i = 0; i < recognizers.length; i++) {\n        if (recognizers[i].options.event == recognizer) {\n          return recognizers[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function add(recognizer) {\n      if (invokeArrayArg(recognizer, 'add', this)) {\n        return this;\n      } // remove existing\n\n\n      var existing = this.get(recognizer.options.event);\n\n      if (existing) {\n        this.remove(existing);\n      }\n\n      this.recognizers.push(recognizer);\n      recognizer.manager = this;\n      this.touchAction.update();\n      return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function remove(recognizer) {\n      if (invokeArrayArg(recognizer, 'remove', this)) {\n        return this;\n      }\n\n      recognizer = this.get(recognizer); // let's make sure this recognizer exists\n\n      if (recognizer) {\n        var recognizers = this.recognizers;\n        var index = inArray(recognizers, recognizer);\n\n        if (index !== -1) {\n          recognizers.splice(index, 1);\n          this.touchAction.update();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function on(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      if (handler === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        handlers[event] = handlers[event] || [];\n        handlers[event].push(handler);\n      });\n      return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function off(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        if (!handler) {\n          delete handlers[event];\n        } else {\n          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n        }\n      });\n      return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function emit(event, data) {\n      // we also want to trigger dom events\n      if (this.options.domEvents) {\n        triggerDomEvent(event, data);\n      } // no handlers, so skip it all\n\n\n      var handlers = this.handlers[event] && this.handlers[event].slice();\n\n      if (!handlers || !handlers.length) {\n        return;\n      }\n\n      data.type = event;\n\n      data.preventDefault = function () {\n        data.srcEvent.preventDefault();\n      };\n\n      var i = 0;\n\n      while (i < handlers.length) {\n        handlers[i](data);\n        i++;\n      }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function destroy() {\n      this.element && toggleCssProps(this, false);\n      this.handlers = {};\n      this.session = {};\n      this.input.destroy();\n      this.element = null;\n    }\n  };\n  /**\n   * add/remove the css properties as defined in manager.options.cssProps\n   * @param {Manager} manager\n   * @param {Boolean} add\n   */\n\n  function toggleCssProps(manager, add) {\n    var element = manager.element;\n\n    if (!element.style) {\n      return;\n    }\n\n    var prop;\n    each(manager.options.cssProps, function (value, name) {\n      prop = prefixed(element.style, name);\n\n      if (add) {\n        manager.oldCssProps[prop] = element.style[prop];\n        element.style[prop] = value;\n      } else {\n        element.style[prop] = manager.oldCssProps[prop] || '';\n      }\n    });\n\n    if (!add) {\n      manager.oldCssProps = {};\n    }\n  }\n  /**\n   * trigger dom event\n   * @param {String} event\n   * @param {Object} data\n   */\n\n\n  function triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n  }\n\n  assign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n  }); // this prevents errors when Hammer is loaded in the presence of an AMD\n  //  style loader but by script tag, not by the loader.\n\n  var freeGlobal = typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}; // jshint ignore:line\n\n  freeGlobal.Hammer = Hammer;\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return Hammer;\n    });\n  } else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n  } else {\n    window[exportName] = Hammer;\n  }\n})(window, document, 'Hammer');"],"sourceRoot":""}